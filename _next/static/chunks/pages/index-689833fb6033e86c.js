(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7950)}])},7658:function(e,t,n){"use strict";n.d(t,{F:function(){return s},a:function(){return a}});var r=n(5893),o=n(7294),s=(0,o.createContext)({localStream:null,remoteStream:null,setLocalStream:function(e){},setRemoteStream:function(e){}}),a=function(e){var t=e.children,n=(0,o.useState)(null),a=n[0],i=n[1],l=(0,o.useState)(null),c=l[0],d=l[1];return(0,r.jsx)(s.Provider,{value:{localStream:a,remoteStream:c,setLocalStream:i,setRemoteStream:d},children:t})}},7950:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(5893),o=n(5152),s=n(9008),a=n(7294),i=n(7948),l=n(7357),c=n(8032),d=n(3946),u=n(1811),x=n(7440),f=n(9994),m=n(25),h=n(265),j=n(3486),b=n(7914),g=n(5988),v=n.n(g),p=n(1458),Z=n(7658),w=n(3851);function y(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function C(){var e=(0,a.useRef)(null),t=(0,a.useContext)(Z.F),n=t.remoteStream,o=(t.setRemoteStream,(0,a.useContext)(w.WebRTCContext).availableUsers),s=(0,a.useState)(700),i=s[0],c=s[1];(0,a.useEffect)((function(){n&&function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.current;r.srcObject=t,r.volume=n?0:1,r.onloadedmetadata=function(){return r.play()}}(n)}),[n]),(0,a.useEffect)((function(){var e=setInterval((function(){c((function(e){return e+y(-15,15)}))}),2e4);return function(){return clearInterval(e)}}),[]),(0,a.useEffect)((function(){c(700+y(-15,15))}),[]);var d=(0,r.jsxs)(l.Z,{sx:{mx:{md:1},display:"flex",flexDirection:"column",height:{xs:300,md:720},alignItems:"center",backgroundColor:"#606060FF"},children:[(0,r.jsx)(l.Z,{sx:{width:"100%"},children:(0,r.jsx)(p.Z,{})}),700!==i&&(0,r.jsxs)(l.Z,{sx:{mt:10,color:"#D6ED17FF"},children:["Available Users: ",1e3*o.length+i]})]});return(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:{xs:300,md:720},position:"relative",overflow:"hidden",maxWidth:"100%"},children:(0,r.jsx)("video",{ref:e,controls:!0,className:"jsx-d791ed693697a7ae"})}):d,(0,r.jsx)(v(),{id:"d791ed693697a7ae",children:'video.jsx-d791ed693697a7ae{width:100%;\nheight:auto}\n.video-hflip.jsx-d791ed693697a7ae{-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg);\n-ms-transform:rotateY(180deg);\ntransform:rotateY(180deg);\n-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg)}\n.brokenvideo.jsx-d791ed693697a7ae{background-image:url("/broken_stream.gif");\nbackground-repeat:no-repeat;\nbackground-color:#cccccc;\nmargin-bottom:15px}'})]})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}var _=(0,o.default)((function(){return Promise.all([n.e(455),n.e(384)]).then(n.bind(n,7479))}),{loadableGenerated:{webpack:function(){return[7479]}},ssr:!1}),F=(0,o.default)((function(){return Promise.resolve().then(n.bind(n,3851)).then((function(e){return e.WebRTCContextProvider}))}),{loadableGenerated:{webpack:function(){return[3851]}}});function O(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.Z,{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"Chat - Snapcio"}),(0,r.jsx)("meta",{name:"description",content:"Chat free"})]}),(0,r.jsx)(Z.a,{children:(0,r.jsx)(F,{children:(0,r.jsx)(R,{})})})]})})}var P={color:"common.white",bgcolor:"#ed6c02","&:hover":{bgcolor:m.Z[900]}},E=(h.Z[500],h.Z[600],{color:"common.white",bgcolor:j.Z[500],"&:hover":{bgcolor:j.Z[600]}}),R=function(){var e=(0,a.useContext)(w.WebRTCContext),t=e.nextUser,n=e.availableUsers,o=e.myUsername,s=e.targetUsername,m=(0,a.useContext)(Z.F).localStream,h=(0,a.useRef)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{maxWidth:!1,sx:{px:{xs:0},mb:{xs:20}},children:[(0,r.jsxs)(l.Z,{sx:{display:{md:"none"},flexDirection:"row",justifyContent:"center"},children:[(0,r.jsx)(l.Z,{sx:{mt:0},children:(0,r.jsx)(C,{})}),(0,r.jsx)(l.Z,{sx:{mb:1},children:(0,r.jsx)(_,{hFlip:!0})})]}),(0,r.jsx)(i.Z,{maxWidth:"xl",sx:{},children:(0,r.jsxs)(l.Z,{sx:{display:{xs:"none",md:"flex"},flexDirection:"row",justifyContent:"center"},children:[(0,r.jsx)(l.Z,{sx:{mt:1,width:"100%"},children:(0,r.jsx)(C,{})}),(0,r.jsx)(l.Z,{sx:{mt:1,width:"100%"},children:(0,r.jsx)(_,{hFlip:!0})})]})})]}),(0,r.jsxs)(i.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,mb:8,"& > :not(style)":{m:1},display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(c.Z,{size:"small",color:"inherit","aria-label":"replay",sx:k({},P),disabled:!0,children:(0,r.jsx)(f.Z,{})}),(0,r.jsx)(c.Z,{"aria-label":"skipnext",sx:k({},E),onClick:t,disabled:!m,children:(0,r.jsx)(x.Z,{fontSize:"large"})}),(0,r.jsx)(d.Z,{"aria-label":"fav",children:(0,r.jsx)(u.Z,{})})]}),h.current&&(0,r.jsxs)(i.Z,{maxWidth:"sm",children:[(0,r.jsxs)(l.Z,{sx:{my:1},children:["Available Users: ",n.length]}),(0,r.jsxs)(l.Z,{sx:{my:1},children:["MY Socket Id: ",o]}),(0,r.jsxs)(l.Z,{sx:{mb:10},children:["Peer Socket Id: ",s]})]})]})}}},function(e){e.O(0,[774,826,195,639,914,851,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7950)}])},7658:function(e,t,n){"use strict";n.d(t,{F:function(){return i},a:function(){return s}});var r=n(5893),o=n(7294),i=(0,o.createContext)({localStream:null,remoteStream:null,setLocalStream:function(e){},setRemoteStream:function(e){}}),s=function(e){var t=e.children,n=(0,o.useState)(null),s=n[0],a=n[1],c=(0,o.useState)(null),l=c[0],u=c[1];return(0,r.jsx)(i.Provider,{value:{localStream:s,remoteStream:l,setLocalStream:a,setRemoteStream:u},children:t})}},7950:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(5893),o=n(5152),i=n(9008),s=n(7294),a=n(7948),c=n(7357),l=n(5113),u=n(8032),d=n(3946),x=n(1811),f=n(7440),h=n(9994),m=n(25),j=n(265),b=n(3486),g=n(7914),v=n(5988),p=n.n(v),Z=n(1458),w=n(7658),y=n(3851);function C(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function k(){var e=(0,s.useRef)(null),t=(0,s.useContext)(w.F),n=t.remoteStream,o=(t.setRemoteStream,(0,s.useContext)(y.WebRTCContext).availableUsers),i=(0,s.useState)(700),a=i[0],l=i[1];(0,s.useEffect)((function(){n&&function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.current;r.srcObject=t,r.volume=n?0:1,r.onloadedmetadata=function(){return r.play()}}(n)}),[n]),(0,s.useEffect)((function(){var e=setInterval((function(){l((function(e){return e+C(-5,15)}))}),2e4);return function(){return clearInterval(e)}}),[]),(0,s.useEffect)((function(){l(700+C(-5,15))}),[]);var u=(0,r.jsxs)(c.Z,{sx:{mx:{md:1},display:"flex",flexDirection:"column",height:{xs:300,md:720},alignItems:"center",backgroundColor:"#606060FF"},children:[(0,r.jsx)(c.Z,{sx:{width:"100%"},children:(0,r.jsx)(Z.Z,{})}),700!==a&&(0,r.jsxs)(c.Z,{sx:{mt:10,color:"#D6ED17FF"},children:["Available Users: ",1e3*o.length+a]})]});return(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:{xs:300,md:720},position:"relative",overflow:"hidden",maxWidth:"100%"},children:(0,r.jsx)("video",{ref:e,controls:!0,className:"jsx-500e14ecf6ac9500"})}):u,(0,r.jsx)(p(),{id:"500e14ecf6ac9500",children:'video.jsx-500e14ecf6ac9500{position:relative;\nwidth:101%;\nheight:101%;\nleft:-.5%;\ntop:-.5%;\nmax-width:101%;\nmax-height:101%;\nbackground:#000;\nobject-fit:cover}\n.video-hflip.jsx-500e14ecf6ac9500{-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg);\n-ms-transform:rotateY(180deg);\ntransform:rotateY(180deg);\n-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg)}\n.brokenvideo.jsx-500e14ecf6ac9500{background-image:url("/broken_stream.gif");\nbackground-repeat:no-repeat;\nbackground-color:#cccccc;\nmargin-bottom:15px}'})]})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}var F=(0,o.default)((function(){return Promise.all([n.e(455),n.e(384)]).then(n.bind(n,7479))}),{loadableGenerated:{webpack:function(){return[7479]}},ssr:!1}),O=(0,o.default)((function(){return Promise.resolve().then(n.bind(n,3851)).then((function(e){return e.WebRTCContextProvider}))}),{loadableGenerated:{webpack:function(){return[3851]}}});function E(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(g.Z,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"Chat - Snapcio"}),(0,r.jsx)("meta",{name:"description",content:"Chat free"})]}),(0,r.jsx)(w.a,{children:(0,r.jsx)(O,{children:(0,r.jsx)(W,{})})})]})})}var P={color:"common.white",bgcolor:"#ed6c02","&:hover":{bgcolor:m.Z[900]}},R=(j.Z[500],j.Z[600],{color:"common.white",bgcolor:b.Z[500],"&:hover":{bgcolor:b.Z[600]}}),W=function(){var e=(0,s.useContext)(y.WebRTCContext),t=e.nextUser,n=(e.availableUsers,e.myUsername,e.targetUsername,(0,s.useContext)(w.F).localStream),o=(0,s.useRef)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{maxWidth:!1,sx:{px:{xs:0}},children:[(0,r.jsx)(a.Z,{id:"smallscreens",maxWidth:!1,sx:{display:{xs:"block",md:"none"},px:{xs:0}},children:(0,r.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,r.jsx)(c.Z,{sx:{height:{xs:300,md:720},width:"100%"},children:(0,r.jsx)(k,{})}),(0,r.jsx)(c.Z,{sx:{width:"100%"},children:(0,r.jsx)(F,{hFlip:!0})})]})}),(0,r.jsx)(a.Z,{maxWidth:"xl",sx:{display:{xs:"none",md:"block"}},children:(0,r.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",height:"100%"},children:[(0,r.jsx)(c.Z,{sx:{mt:1,width:"100%"},children:(0,r.jsx)(k,{})}),(0,r.jsx)(c.Z,{sx:{mt:1,width:"100%"},children:(0,r.jsx)(F,{hFlip:!0})})]})})]}),(0,r.jsx)(a.Z,{id:"chatbox",sx:{mt:1,mb:{xs:20}},children:(0,r.jsx)(l.Z,{elevation:3})}),(0,r.jsxs)(a.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,mb:8,"& > :not(style)":{m:1},display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(u.Z,{size:"small",color:"inherit","aria-label":"replay",sx:_({},P),disabled:!0,children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(u.Z,{"aria-label":"skipnext",sx:_({},R),onClick:t,disabled:!n,children:(0,r.jsx)(f.Z,{fontSize:"large"})}),(0,r.jsx)(d.Z,{"aria-label":"fav",children:(0,r.jsx)(x.Z,{})})]}),o.current&&!1]})}}},function(e){e.O(0,[774,826,195,639,914,851,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
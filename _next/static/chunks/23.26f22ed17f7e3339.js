"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23,479],{8456:function(e,r,t){t.d(r,{Z:function(){return D}});var a=t(3366),n=t(7462),i=t(7294),o=(t(5697),t(6010)),s=t(7192),c=t(917),l=t(8216),d=t(3616),u=t(1496),f=t(8979);function v(e){return(0,f.Z)("MuiCircularProgress",e)}(0,t(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=t(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let g,k,b,x,p=e=>e;const S=44,Z=(0,c.F4)(g||(g=p`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,c.F4)(k||(k=p`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),C=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(b||(b=p`
      animation: ${0} 1.4s linear infinite;
    `),Z))),y=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),w=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(x||(x=p`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j)));var D=i.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:i,color:c="primary",disableShrink:u=!1,size:f=40,style:g,thickness:k=3.6,value:b=0,variant:x="indeterminate"}=t,p=(0,a.Z)(t,m),Z=(0,n.Z)({},t,{color:c,disableShrink:u,size:f,thickness:k,value:b,variant:x}),j=(e=>{const{classes:r,variant:t,color:a,disableShrink:n}=e,i={root:["root",t,`color${(0,l.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,n&&"circleDisableShrink"]};return(0,s.Z)(i,v,r)})(Z),D={},I={},P={};if("determinate"===x){const e=2*Math.PI*((S-k)/2);D.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(b),D.strokeDashoffset=`${((100-b)/100*e).toFixed(3)}px`,I.transform="rotate(-90deg)"}return(0,h.jsx)(C,(0,n.Z)({className:(0,o.Z)(j.root,i),style:(0,n.Z)({width:f,height:f},I,g),ownerState:Z,ref:r,role:"progressbar"},P,p,{children:(0,h.jsx)(y,{className:j.svg,ownerState:Z,viewBox:"22 22 44 44",children:(0,h.jsx)(w,{className:j.circle,style:D,ownerState:Z,cx:S,cy:S,r:(S-k)/2,fill:"none",strokeWidth:k})})}))}))},7479:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var a=t(5893),n=t(5988),i=t(7294),o=t(5819),s=t(7357),c=t(8456),l=t(3321),d=t(4054),u=t(3841),f=t(4917),v=t(7658);var h=function(e){switch(function(e){var r=new Date;console.trace("["+r.toLocaleTimeString()+"] "+e)}(e),e.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:alert("Error opening your camera and/or microphone: "+e.message)}};function m(e){var r=e.defaultMute,t=void 0===r||r,m=e.hFlip,g=void 0!==m&&m,k=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;C(!0),p(e);var a=S.current;return a.srcObject=e,a.volume=r?0:1,a.onloadedmetadata=function(){return a.play()},navigator.mediaDevices.enumerateDevices()},b=(0,i.useContext)(v.F),x=b.localStream,p=b.setLocalStream,S=(0,i.useRef)(null),Z=(0,i.useState)(!1),j=Z[0],C=Z[1],y=(0,i.useState)([]),w=(y[0],y[1]),D=(0,i.useState)(""),I=D[0],P=D[1],E=(0,i.useState)(""),M=E[0],N=E[1],F=(0,i.useState)([]),$=F[0],R=F[1],Y=(0,i.useState)([]),z=Y[0],T=Y[1],W=$.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)})),_=z.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)}));(0,i.useEffect)((function(){if(x&&z.length>0){var e=x.getVideoTracks(),r=e?e[0]:void 0,t=z.find((function(e){return e.label===r.label}));N(t.deviceId)}}),[z,x]),(0,i.useEffect)((function(){if(x&&$.length>0){var e=x.getAudioTracks(),r=e?e[0]:void 0,t=$.find((function(e){return e.label===r.label}));P(t.deviceId)}}),[$,x]);var A=function(e){w(e);var r=e.filter((function(e){return"audioinput"===e.kind})),t=e.filter((function(e){return"videoinput"===e.kind}));R(r),T(t)},L=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;x&&x.getTracks().forEach((function(e){e.stop()}));var t={audio:{deviceId:r?{exact:r}:void 0,echoCancellation:!0},video:{deviceId:e?{exact:e}:void 0}};navigator.mediaDevices.getUserMedia(t).then(k).then(A).catch(h)}),[x,I,M,A]),O=(0,i.useCallback)((function(e){N(e.target.value),L(e.target.value)}),[L]),U=(0,i.useCallback)((function(e){P(e.target.value),L(void 0,e.target.value)}),[L]),B=(0,i.useCallback)((function(){L()}),[L]),V=(0,i.useCallback)((function(){C(!1),x&&x.getTracks().forEach((function(e){e.stop()})),S.current.srcObject=null,p(null)}),[x,p]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{display:"flex",my:1,height:300,justifyContent:"center",alignItems:"center",backgroundColor:"black"},children:j?(0,a.jsx)("video",{ref:S,className:"jsx-21692c2f1b6e7001 "+((g?"video-hflip":"")||"")}):(0,a.jsx)(c.Z,{})}),(0,a.jsx)(s.Z,{children:j?(0,a.jsx)(l.Z,{variant:"outlined",color:"error",onClick:V,children:"Stop Camera"}):(0,a.jsx)(l.Z,{variant:"outlined",onClick:B,children:"Start Camera"})}),""!=M&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(d.Z,{fullWidth:!0,children:[(0,a.jsx)(u.Z,{id:"select-camera-source-label",children:"Camera source"}),(0,a.jsx)(f.Z,{labelId:"select-camera-source-label",id:"select-camera-source",value:M,label:"Select Camera",onChange:O,children:_})]})}),""!=I&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(d.Z,{fullWidth:!0,children:[(0,a.jsx)(u.Z,{id:"select-audio-source-label",children:"Audio source"}),(0,a.jsx)(f.Z,{labelId:"select-audio-source-label",id:"select-audio-source",value:I,label:"Select audio",onChange:U,children:W})]})}),(0,a.jsx)(n.default,{id:"21692c2f1b6e7001",children:'video.jsx-21692c2f1b6e7001{max-width:100%;\nmax-height:100%}\n.video-hflip.jsx-21692c2f1b6e7001{-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg);\n-ms-transform:rotateY(180deg);\ntransform:rotateY(180deg);\n-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg)}\n.brokenvideo.jsx-21692c2f1b6e7001{background-image:url("/broken_stream.gif");\nbackground-repeat:no-repeat;\nbackground-color:#cccccc;\nmargin-bottom:15px}'})]})}}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23,479],{8456:function(e,r,t){t.d(r,{Z:function(){return I}});var a=t(3366),n=t(7462),i=t(7294),o=(t(5697),t(6010)),s=t(7192),c=t(917),l=t(8216),d=t(7623),u=t(1496),f=t(8979);function v(e){return(0,f.Z)("MuiCircularProgress",e)}(0,t(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=t(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let b,g,k,x,p=e=>e;const Z=44,S=(0,c.F4)(b||(b=p`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),C=(0,c.F4)(g||(g=p`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),j=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(k||(k=p`
      animation: ${0} 1.4s linear infinite;
    `),S))),y=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),w=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(x||(x=p`
      animation: ${0} 1.4s ease-in-out infinite;
    `),C)));var I=i.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:i,color:c="primary",disableShrink:u=!1,size:f=40,style:b,thickness:g=3.6,value:k=0,variant:x="indeterminate"}=t,p=(0,a.Z)(t,m),S=(0,n.Z)({},t,{color:c,disableShrink:u,size:f,thickness:g,value:k,variant:x}),C=(e=>{const{classes:r,variant:t,color:a,disableShrink:n}=e,i={root:["root",t,`color${(0,l.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,n&&"circleDisableShrink"]};return(0,s.Z)(i,v,r)})(S),I={},D={},P={};if("determinate"===x){const e=2*Math.PI*((Z-g)/2);I.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(k),I.strokeDashoffset=`${((100-k)/100*e).toFixed(3)}px`,D.transform="rotate(-90deg)"}return(0,h.jsx)(j,(0,n.Z)({className:(0,o.Z)(C.root,i),style:(0,n.Z)({width:f,height:f},D,b),ownerState:S,ref:r,role:"progressbar"},P,p,{children:(0,h.jsx)(y,{className:C.svg,ownerState:S,viewBox:"22 22 44 44",children:(0,h.jsx)(w,{className:C.circle,style:I,ownerState:S,cx:Z,cy:Z,r:(Z-g)/2,fill:"none",strokeWidth:g})})}))}))},7479:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var a=t(5893),n=t(5988),i=t(7294),o=t(5819),s=t(7357),c=t(8456),l=t(3321),d=t(3946),u=t(4054),f=t(3841),v=t(4917),h=t(9074),m=t(5195),b=t(4229),g=t(7658),k=t(3851);var x=function(e){switch(function(e){var r=new Date;console.trace("["+r.toLocaleTimeString()+"] "+e)}(e),e.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:alert("Error opening your camera and/or microphone: "+e.message)}};function p(e){var r=e.defaultMute,t=void 0===r||r,p=e.hFlip,Z=void 0!==p&&p,S=(0,i.useContext)(k.WebRTCContext),C=S.hangUpCall,j=S.peerConnection,y=(0,i.useContext)(g.F),w=y.localStream,I=y.setLocalStream,D=(0,i.useRef)(null),P=(0,i.useState)(!1),E=P[0],M=P[1],N=(0,i.useState)(!1),F=N[0],R=N[1],$=(0,i.useState)([]),T=($[0],$[1]),W=(0,i.useState)(""),Y=W[0],z=W[1],_=(0,i.useState)(""),L=_[0],O=_[1],U=(0,i.useState)([]),A=U[0],V=U[1],B=(0,i.useState)([]),G=B[0],q=B[1],H=A.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)})),J=G.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)}));(0,i.useEffect)((function(){if(w&&G.length>0){var e=w.getVideoTracks(),r=e?e[0]:void 0,t=G.find((function(e){return e.label===r.label}));O(t.deviceId)}}),[G,w]),(0,i.useEffect)((function(){if(w&&A.length>0){var e=w.getAudioTracks(),r=e?e[0]:void 0,t=A.find((function(e){return e.label===r.label}));z(t.deviceId)}}),[A,w]);var K=(0,i.useCallback)((function(e){T(e);var r=e.filter((function(e){return"audioinput"===e.kind})),t=e.filter((function(e){return"videoinput"===e.kind}));V(r),q(t)}),[]),Q=(0,i.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;R(!0),I(e);var a=D.current;return a.srcObject=e,a.volume=r?0:1,a.onloadedmetadata=function(){return a.play()},navigator.mediaDevices.enumerateDevices()}),[D,t,I]),X=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;w&&w.getTracks().forEach((function(e){e.stop()}));var t={audio:{deviceId:r?{exact:r}:void 0,echoCancellation:!0},video:{deviceId:e?{exact:e}:void 0}};navigator.mediaDevices.getUserMedia(t).then(Q).then(K).catch(x)}),[w,Y,L,Q,K]),ee=(0,i.useCallback)((function(e){O(e.target.value),X(e.target.value)}),[X]),re=(0,i.useCallback)((function(e){z(e.target.value),X(void 0,e.target.value)}),[X]),te=(0,i.useCallback)((function(){X()}),[X]),ae=(0,i.useCallback)((function(){R(!1),w&&w.getTracks().forEach((function(e){e.stop()})),D.current.srcObject=null,I(null),C()}),[w,I,C]),ne=!j||j&&["failed","closed"].includes(j.connectionState);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{display:"flex",height:{xs:300,md:500},justifyContent:"center",alignItems:"center",backgroundColor:"black"},children:F?(0,a.jsx)("video",{ref:D,className:"jsx-21692c2f1b6e7001 "+((Z?"video-hflip":"")||"")}):(0,a.jsx)(c.Z,{})}),(0,a.jsxs)(s.Z,{sx:{mt:1},children:[F?(0,a.jsx)(l.Z,{variant:"outlined",color:"error",onClick:ae,startIcon:(0,a.jsx)(m.Z,{}),children:"Stop Live"}):(0,a.jsx)(l.Z,{variant:"contained",color:"error",onClick:te,startIcon:(0,a.jsx)(h.Z,{}),children:"GO LIVE"}),ne&&(0,a.jsx)(d.Z,{"aria-label":"settings",onClick:function(){M(!E&&F)},children:(0,a.jsx)(b.Z,{color:E?"primary":"inherit"})})]}),ne&&E&&""!=L&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(f.Z,{id:"select-camera-source-label",children:"Camera source"}),(0,a.jsx)(v.Z,{labelId:"select-camera-source-label",id:"select-camera-source",value:L,label:"Select Camera",onChange:ee,children:J})]})}),ne&&E&&""!=Y&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(f.Z,{id:"select-audio-source-label",children:"Audio source"}),(0,a.jsx)(v.Z,{labelId:"select-audio-source-label",id:"select-audio-source",value:Y,label:"Select audio",onChange:re,children:H})]})}),(0,a.jsx)(n.default,{id:"21692c2f1b6e7001",children:'video.jsx-21692c2f1b6e7001{max-width:100%;\nmax-height:100%}\n.video-hflip.jsx-21692c2f1b6e7001{-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg);\n-ms-transform:rotateY(180deg);\ntransform:rotateY(180deg);\n-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg)}\n.brokenvideo.jsx-21692c2f1b6e7001{background-image:url("/broken_stream.gif");\nbackground-repeat:no-repeat;\nbackground-color:#cccccc;\nmargin-bottom:15px}'})]})}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{9074:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(4938)),s=n(5893),o=(0,a.default)((0,s.jsx)("path",{d:"m18 10.48 4-3.98v11l-4-3.98V18c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v4.48zm-2-.79V6H4v12h12V9.69zM10 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0 1c1.34 0 4 .67 4 2v1H6v-1c0-1.33 2.66-2 4-2z"}),"PhotoCameraFront");t.Z=o},4229:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(4938)),s=n(5893),o=(0,a.default)((0,s.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},5195:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(4938)),s=n(5893),o=(0,a.default)((0,s.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop");t.Z=o},8456:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(3366),a=n(7462),s=n(7294),o=(n(5697),n(6010)),i=n(7192),u=n(917),c=n(8216),l=n(7623),p=n(1496),d=n(8979);function h(e){return(0,d.Z)("MuiCircularProgress",e)}(0,n(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=n(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let y,g,b,w,x=e=>e;const v=44,_=(0,u.F4)(y||(y=x`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),S=(0,u.F4)(g||(g=x`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),k=(0,p.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,c.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,a.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:t.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,u.iv)(b||(b=x`
      animation: ${0} 1.4s linear infinite;
    `),_))),N=(0,p.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),E=(0,p.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,c.Z)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,a.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,u.iv)(w||(w=x`
      animation: ${0} 1.4s ease-in-out infinite;
    `),S)));var I=s.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCircularProgress"}),{className:s,color:u="primary",disableShrink:p=!1,size:d=40,style:y,thickness:g=3.6,value:b=0,variant:w="indeterminate"}=n,x=(0,r.Z)(n,m),_=(0,a.Z)({},n,{color:u,disableShrink:p,size:d,thickness:g,value:b,variant:w}),S=(e=>{const{classes:t,variant:n,color:r,disableShrink:a}=e,s={root:["root",n,`color${(0,c.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(n)}`,a&&"circleDisableShrink"]};return(0,i.Z)(s,h,t)})(_),I={},T={},A={};if("determinate"===w){const e=2*Math.PI*((v-g)/2);I.strokeDasharray=e.toFixed(3),A["aria-valuenow"]=Math.round(b),I.strokeDashoffset=`${((100-b)/100*e).toFixed(3)}px`,T.transform="rotate(-90deg)"}return(0,f.jsx)(k,(0,a.Z)({className:(0,o.Z)(S.root,s),style:(0,a.Z)({width:d,height:d},T,y),ownerState:_,ref:t,role:"progressbar"},A,x,{children:(0,f.jsx)(N,{className:S.svg,ownerState:_,viewBox:"22 22 44 44",children:(0,f.jsx)(E,{className:S.circle,style:I,ownerState:_,cx:v,cy:v,r:(v-g)/2,fill:"none",strokeWidth:g})})}))}))},4054:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(3366),a=n(7462),s=n(7294),o=(n(5697),n(6010)),i=n(7192),u=n(7623),c=n(1496),l=n(5108),p=n(8216),d=n(1579),h=n(7167),f=n(8979);function m(e){return(0,f.Z)("MuiFormControl",e)}(0,n(6087).Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var y=n(5893);const g=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],b=(0,c.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,a.Z)({},t.root,t[`margin${(0,p.Z)(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,a.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})));var w=s.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormControl"}),{children:c,className:f,color:w="primary",component:x="div",disabled:v=!1,error:_=!1,focused:S,fullWidth:k=!1,hiddenLabel:N=!1,margin:E="none",required:I=!1,size:T="medium",variant:A="outlined"}=n,M=(0,r.Z)(n,g),O=(0,a.Z)({},n,{color:w,component:x,disabled:v,error:_,fullWidth:k,hiddenLabel:N,margin:E,required:I,size:T,variant:A}),D=(e=>{const{classes:t,margin:n,fullWidth:r}=e,a={root:["root","none"!==n&&`margin${(0,p.Z)(n)}`,r&&"fullWidth"]};return(0,i.Z)(a,m,t)})(O),[F,R]=s.useState((()=>{let e=!1;return c&&s.Children.forEach(c,(t=>{if(!(0,d.Z)(t,["Input","Select"]))return;const n=(0,d.Z)(t,["Select"])?t.props.input:t;n&&(0,l.B7)(n.props)&&(e=!0)})),e})),[C,$]=s.useState((()=>{let e=!1;return c&&s.Children.forEach(c,(t=>{(0,d.Z)(t,["Input","Select"])&&(0,l.vd)(t.props,!0)&&(e=!0)})),e})),[B,P]=s.useState(!1);v&&B&&P(!1);const L=void 0===S||v?B:S;const V=s.useCallback((()=>{$(!0)}),[]),z={adornedStart:F,setAdornedStart:R,color:w,disabled:v,error:_,filled:C,focused:L,fullWidth:k,hiddenLabel:N,size:T,onBlur:()=>{P(!1)},onEmpty:s.useCallback((()=>{$(!1)}),[]),onFilled:V,onFocus:()=>{P(!0)},registerEffect:undefined,required:I,variant:A};return(0,y.jsx)(h.Z.Provider,{value:z,children:(0,y.jsx)(b,(0,a.Z)({as:x,ownerState:O,className:(0,o.Z)(D.root,f),ref:t},M,{children:c}))})}))},7167:function(e,t,n){"use strict";const r=n(7294).createContext();t.Z=r},5704:function(e,t,n){"use strict";function r({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&"undefined"===typeof e[r]&&(t[r]=n[r]),t)),{})}n.d(t,{Z:function(){return r}})},4423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7294),a=n(7167);function s(){return r.useContext(a.Z)}},5108:function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function a(e,t=!1){return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function s(e){return e.startAdornment}n.d(t,{vd:function(){return a},B7:function(){return s}})},3841:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(3366),a=n(7462),s=n(7294),o=(n(5697),n(7192)),i=n(5704),u=n(4423),c=n(6010),l=n(8216),p=n(7623),d=n(1496),h=n(8979),f=n(6087);function m(e){return(0,h.Z)("MuiFormLabel",e)}var y=(0,f.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),g=n(5893);const b=["children","className","color","component","disabled","error","filled","focused","required"],w=(0,d.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,a.Z)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>(0,a.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${y.focused}`]:{color:e.palette[t.color].main},[`&.${y.disabled}`]:{color:e.palette.text.disabled},[`&.${y.error}`]:{color:e.palette.error.main}}))),x=(0,d.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${y.error}`]:{color:e.palette.error.main}})));var v=s.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiFormLabel"}),{children:s,className:d,component:h="label"}=n,f=(0,r.Z)(n,b),y=(0,u.Z)(),v=(0,i.Z)({props:n,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),_=(0,a.Z)({},n,{color:v.color||"primary",component:h,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),S=(e=>{const{classes:t,color:n,focused:r,disabled:a,error:s,filled:i,required:u}=e,c={root:["root",`color${(0,l.Z)(n)}`,a&&"disabled",s&&"error",i&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",s&&"error"]};return(0,o.Z)(c,m,t)})(_);return(0,g.jsxs)(w,(0,a.Z)({as:h,ownerState:_,className:(0,c.Z)(S.root,d),ref:t},f,{children:[s,v.required&&(0,g.jsxs)(x,{ownerState:_,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}))}));function _(e){return(0,h.Z)("MuiInputLabel",e)}(0,f.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const S=["disableAnimation","margin","shrink","variant"],k=(0,d.ZP)(v,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${y.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,a.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,a.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))));var N=s.forwardRef((function(e,t){const n=(0,p.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:c}=n,l=(0,r.Z)(n,S),d=(0,u.Z)();let h=c;"undefined"===typeof h&&d&&(h=d.filled||d.focused||d.adornedStart);const f=(0,i.Z)({props:n,muiFormControl:d,states:["size","variant","required"]}),m=(0,a.Z)({},n,{disableAnimation:s,formControl:d,shrink:h,size:f.size,variant:f.variant,required:f.required}),y=(e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:i,variant:u,required:c}=e,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink","small"===r&&"sizeSmall",u],asterisk:[c&&"asterisk"]},p=(0,o.Z)(l,_,t);return(0,a.Z)({},t,p)})(m);return(0,g.jsx)(k,(0,a.Z)({"data-shrink":h,ownerState:m,ref:t},l,{classes:y}))}))},2984:function(e,t,n){"use strict";n.d(t,{Z:function(){return Be}});var r=n(7462),a=n(3366),s=n(7294),o=(n(5697),n(6010)),i=n(9766),u=n(1387),c=(n(9864),n(7192)),l=n(8038),p=n(8216),d=n(5040),h=n(8979),f=n(6087);function m(e){return(0,h.Z)("MuiNativeSelect",e)}var y=(0,f.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),g=n(1496),b=n(5893);const w=["className","disabled","IconComponent","inputRef","variant"],x=({ownerState:e,theme:t})=>(0,r.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${y.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:t.shape.borderRadius,"&:focus":{borderRadius:t.shape.borderRadius},"&&&":{paddingRight:32}}),v=(0,g.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:g.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],{[`&.${y.multiple}`]:t.multiple}]}})(x),_=({ownerState:e,theme:t})=>(0,r.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:t.palette.action.active,[`&.${y.disabled}`]:{color:t.palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),S=(0,g.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,p.Z)(n.variant)}`],n.open&&t.iconOpen]}})(_);var k=s.forwardRef((function(e,t){const{className:n,disabled:i,IconComponent:u,inputRef:l,variant:d="standard"}=e,h=(0,a.Z)(e,w),f=(0,r.Z)({},e,{disabled:i,variant:d}),y=(e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:s}=e,o={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon",`icon${(0,p.Z)(n)}`,s&&"iconOpen",r&&"disabled"]};return(0,c.Z)(o,m,t)})(f);return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(v,(0,r.Z)({ownerState:f,className:(0,o.Z)(y.select,n),disabled:i,ref:l||t},h)),e.multiple?null:(0,b.jsx)(S,{as:u,ownerState:f,className:y.icon})]})})),N=n(5108),E=n(1705),I=n(2627);function T(e){return(0,h.Z)("MuiSelect",e)}var A=(0,f.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);const M=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],O=(0,g.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${A.select}`]:t.select},{[`&.${A.select}`]:t[n.variant]},{[`&.${A.multiple}`]:t.multiple}]}})(x,{[`&.${A.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),D=(0,g.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,p.Z)(n.variant)}`],n.open&&t.iconOpen]}})(_),F=(0,g.ZP)("input",{shouldForwardProp:e=>(0,g.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function R(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function C(e){return null==e||"string"===typeof e&&!e.trim()}var $=s.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":i,autoFocus:h,autoWidth:f,children:m,className:y,defaultValue:g,disabled:w,displayEmpty:x,IconComponent:v,inputRef:_,labelId:S,MenuProps:k={},multiple:A,name:$,onBlur:B,onChange:P,onClose:L,onFocus:V,onOpen:z,open:W,readOnly:U,renderValue:H,SelectDisplayProps:j={},tabIndex:q,value:Z,variant:G="standard"}=e,K=(0,a.Z)(e,M),[X,Q]=(0,I.Z)({controlled:Z,default:g,name:"Select"}),Y=s.useRef(null),J=s.useRef(null),[ee,te]=s.useState(null),{current:ne}=s.useRef(null!=W),[re,ae]=s.useState(),[se,oe]=s.useState(!1),ie=(0,E.Z)(t,_),ue=s.useCallback((e=>{J.current=e,e&&te(e)}),[]);s.useImperativeHandle(ie,(()=>({focus:()=>{J.current.focus()},node:Y.current,value:X})),[X]),s.useEffect((()=>{h&&J.current.focus()}),[h]),s.useEffect((()=>{const e=(0,l.Z)(J.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&J.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[S]);const ce=(e,t)=>{e?z&&z(t):L&&L(t),ne||(ae(f?null:ee.clientWidth),oe(e))},le=s.Children.toArray(m),pe=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(A){n=Array.isArray(X)?X.slice():[];const t=X.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),X!==n&&(Q(n),P)){const r=t.nativeEvent||t,a=new r.constructor(r.type,r);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:$}}),P(a,e)}A||ce(!1,t)}},de=null!==ee&&(ne?W:se);let he,fe;delete K["aria-invalid"];const me=[];let ye=!1,ge=!1;((0,N.vd)({value:X})||x)&&(H?he=H(X):ye=!0);const be=le.map((e=>{if(!s.isValidElement(e))return null;let t;if(A){if(!Array.isArray(X))throw new Error((0,u.Z)(2));t=X.some((t=>R(t,e.props.value))),t&&ye&&me.push(e.props.children)}else t=R(X,e.props.value),t&&ye&&(fe=e.props.children);return t&&(ge=!0),s.cloneElement(e,{"aria-selected":t?"true":"false",onClick:pe(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ye&&(he=A?0===me.length?null:me.reduce(((e,t,n)=>(e.push(t),n<me.length-1&&e.push(", "),e)),[]):fe);let we,xe=re;!f&&ne&&ee&&(xe=ee.clientWidth),we="undefined"!==typeof q?q:w?null:0;const ve=j.id||($?`mui-component-select-${$}`:void 0),_e=(0,r.Z)({},e,{variant:G,value:X,open:de}),Se=(e=>{const{classes:t,variant:n,disabled:r,multiple:a,open:s}=e,o={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon",`icon${(0,p.Z)(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,c.Z)(o,T,t)})(_e);return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(O,(0,r.Z)({ref:ue,tabIndex:we,role:"button","aria-disabled":w?"true":void 0,"aria-expanded":de?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,ve].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!U){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))}},onMouseDown:w||U?null:e=>{0===e.button&&(e.preventDefault(),J.current.focus(),ce(!0,e))},onBlur:e=>{!de&&B&&(Object.defineProperty(e,"target",{writable:!0,value:{value:X,name:$}}),B(e))},onFocus:V},j,{ownerState:_e,className:(0,o.Z)(Se.select,y,j.className),id:ve,children:C(he)?(0,b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):he})),(0,b.jsx)(F,(0,r.Z)({value:Array.isArray(X)?X.join(","):X,name:$,ref:Y,"aria-hidden":!0,onChange:e=>{const t=le.map((e=>e.props.value)).indexOf(e.target.value);if(-1===t)return;const n=le[t];Q(n.props.value),P&&P(e,n)},tabIndex:-1,disabled:w,className:Se.nativeInput,autoFocus:h,ownerState:_e},K)),(0,b.jsx)(D,{as:v,className:Se.icon,ownerState:_e}),(0,b.jsx)(d.Z,(0,r.Z)({id:`menu-${$||""}`,anchorEl:ee,open:de,onClose:e=>{ce(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:(0,r.Z)({"aria-labelledby":S,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:(0,r.Z)({},k.PaperProps,{style:(0,r.Z)({minWidth:xe},null!=k.PaperProps?k.PaperProps.style:null)}),children:be}))]})})),B=n(5704),P=n(4423),L=(0,n(8169).Z)((0,b.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),V=n(67),z=n(8290),W=n(7596),U=n(6600);const H=["onChange","maxRows","minRows","style","value"];function j(e,t){return parseInt(e[t],10)||0}const q={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var Z=s.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:u,value:c}=e,l=(0,a.Z)(e,H),{current:p}=s.useRef(null!=c),d=s.useRef(null),h=(0,V.Z)(t,d),f=s.useRef(null),m=s.useRef(0),[y,g]=s.useState({}),w=s.useCallback((()=>{const t=d.current,n=(0,z.Z)(t).getComputedStyle(t);if("0px"===n.width)return;const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n["box-sizing"],s=j(n,"padding-bottom")+j(n,"padding-top"),u=j(n,"border-bottom-width")+j(n,"border-top-width"),c=r.scrollHeight;r.value="x";const l=r.scrollHeight;let p=c;i&&(p=Math.max(Number(i)*l,p)),o&&(p=Math.min(Number(o)*l,p)),p=Math.max(p,l);const h=p+("border-box"===a?s+u:0),y=Math.abs(p-c)<=1;g((e=>m.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==y)?(m.current+=1,{overflow:y,outerHeightStyle:h}):e))}),[o,i,e.placeholder]);s.useEffect((()=>{const e=(0,W.Z)((()=>{m.current=0,w()})),t=(0,z.Z)(d.current);let n;return t.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(e),n.observe(d.current)),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}}),[w]),(0,U.Z)((()=>{w()})),s.useEffect((()=>{m.current=0}),[c]);return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)("textarea",(0,r.Z)({value:c,onChange:e=>{m.current=0,p||w(),n&&n(e)},ref:h,rows:i,style:(0,r.Z)({height:y.outerHeightStyle,overflow:y.overflow?"hidden":null},u)},l)),(0,b.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,r.Z)({},q,u,{padding:0})})]})})),G=n(8442),K=n(7167),X=n(7623),Q=n(8974),Y=n(2287);function J(e){return(0,h.Z)("MuiInputBase",e)}var ee=(0,f.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const te=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],ne=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,p.Z)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},re=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ae=(0,g.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ne})((({theme:e,ownerState:t})=>(0,r.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ee.disabled}`]:{color:e.palette.text.disabled,cursor:"default"}},t.multiline&&(0,r.Z)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),se=(0,g.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:re})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,a={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},s={opacity:"0 !important"},o={opacity:n?.42:.5};return(0,r.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ee.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ee.disabled}`]:{opacity:1,WebkitTextFillColor:e.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),oe=(0,b.jsx)(Y.Z,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var ie=s.forwardRef((function(e,t){const n=(0,X.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:l,autoFocus:d,className:h,components:f={},componentsProps:m={},defaultValue:y,disabled:g,disableInjectingGlobalStyles:w,endAdornment:x,fullWidth:v=!1,id:_,inputComponent:S="input",inputProps:k={},inputRef:I,maxRows:T,minRows:A,multiline:M=!1,name:O,onBlur:D,onChange:F,onClick:R,onFocus:C,onKeyDown:$,onKeyUp:L,placeholder:V,readOnly:z,renderSuffix:W,rows:U,startAdornment:H,type:j="text",value:q}=n,Y=(0,a.Z)(n,te),ee=null!=k.value?k.value:q,{current:ne}=s.useRef(null!=ee),re=s.useRef(),ie=s.useCallback((e=>{0}),[]),ue=(0,E.Z)(k.ref,ie),ce=(0,E.Z)(I,ue),le=(0,E.Z)(re,ce),[pe,de]=s.useState(!1),he=(0,P.Z)();const fe=(0,B.Z)({props:n,muiFormControl:he,states:["color","disabled","error","hiddenLabel","size","required","filled"]});fe.focused=he?he.focused:pe,s.useEffect((()=>{!he&&g&&pe&&(de(!1),D&&D())}),[he,g,pe,D]);const me=he&&he.onFilled,ye=he&&he.onEmpty,ge=s.useCallback((e=>{(0,N.vd)(e)?me&&me():ye&&ye()}),[me,ye]);(0,Q.Z)((()=>{ne&&ge({value:ee})}),[ee,ge,ne]);s.useEffect((()=>{ge(re.current)}),[]);let be=S,we=k;M&&"input"===be&&(we=U?(0,r.Z)({type:void 0,minRows:U,maxRows:U},we):(0,r.Z)({type:void 0,maxRows:T,minRows:A},we),be=Z);s.useEffect((()=>{he&&he.setAdornedStart(Boolean(H))}),[he,H]);const xe=(0,r.Z)({},n,{color:fe.color||"primary",disabled:fe.disabled,endAdornment:x,error:fe.error,focused:fe.focused,formControl:he,fullWidth:v,hiddenLabel:fe.hiddenLabel,multiline:M,size:fe.size,startAdornment:H,type:j}),ve=(e=>{const{classes:t,color:n,disabled:r,error:a,endAdornment:s,focused:o,formControl:i,fullWidth:u,hiddenLabel:l,multiline:d,size:h,startAdornment:f,type:m}=e,y={root:["root",`color${(0,p.Z)(n)}`,r&&"disabled",a&&"error",u&&"fullWidth",o&&"focused",i&&"formControl","small"===h&&"sizeSmall",d&&"multiline",f&&"adornedStart",s&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===h&&"inputSizeSmall",l&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd"]};return(0,c.Z)(y,J,t)})(xe),_e=f.Root||ae,Se=m.root||{},ke=f.Input||se;return we=(0,r.Z)({},we,m.input),(0,b.jsxs)(s.Fragment,{children:[!w&&oe,(0,b.jsxs)(_e,(0,r.Z)({},Se,!(0,G.Z)(_e)&&{ownerState:(0,r.Z)({},xe,Se.ownerState)},{ref:t,onClick:e=>{re.current&&e.currentTarget===e.target&&re.current.focus(),R&&R(e)}},Y,{className:(0,o.Z)(ve.root,Se.className,h),children:[H,(0,b.jsx)(K.Z.Provider,{value:null,children:(0,b.jsx)(ke,(0,r.Z)({ownerState:xe,"aria-invalid":fe.error,"aria-describedby":i,autoComplete:l,autoFocus:d,defaultValue:y,disabled:fe.disabled,id:_,onAnimationStart:e=>{ge("mui-auto-fill-cancel"===e.animationName?re.current:{value:"x"})},name:O,placeholder:V,readOnly:z,required:fe.required,rows:U,value:ee,onKeyDown:$,onKeyUp:L,type:j},we,!(0,G.Z)(ke)&&{as:be,ownerState:(0,r.Z)({},xe,we.ownerState)},{ref:le,className:(0,o.Z)(ve.input,we.className),onBlur:e=>{D&&D(e),k.onBlur&&k.onBlur(e),he&&he.onBlur?he.onBlur(e):de(!1)},onChange:(e,...t)=>{if(!ne){const t=e.target||re.current;if(null==t)throw new Error((0,u.Z)(1));ge({value:t.value})}k.onChange&&k.onChange(e,...t),F&&F(e,...t)},onFocus:e=>{fe.disabled?e.stopPropagation():(C&&C(e),k.onFocus&&k.onFocus(e),he&&he.onFocus?he.onFocus(e):de(!0))}}))}),x,W?W((0,r.Z)({},fe,{startAdornment:H})):null]}))]})}));function ue(e){return(0,h.Z)("MuiInput",e)}var ce=(0,f.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]);const le=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],pe=(0,g.ZP)(ae,{shouldForwardProp:e=>(0,g.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ne(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,r.Z)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ce.focused}:after`]:{transform:"scaleX(1)"},[`&.${ce.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ce.disabled}):before`]:{borderBottom:`2px solid ${e.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ce.disabled}:before`]:{borderBottomStyle:"dotted"}})})),de=(0,g.ZP)(se,{name:"MuiInput",slot:"Input",overridesResolver:re})({}),he=s.forwardRef((function(e,t){const n=(0,X.Z)({props:e,name:"MuiInput"}),{disableUnderline:s,components:o={},componentsProps:u,fullWidth:l=!1,inputComponent:p="input",multiline:d=!1,type:h="text"}=n,f=(0,a.Z)(n,le),m=(e=>{const{classes:t,disableUnderline:n}=e,a={root:["root",!n&&"underline"],input:["input"]},s=(0,c.Z)(a,ue,t);return(0,r.Z)({},t,s)})(n),y={root:{ownerState:{disableUnderline:s}}},g=u?(0,i.Z)(u,y):y;return(0,b.jsx)(ie,(0,r.Z)({components:(0,r.Z)({Root:pe,Input:de},o),componentsProps:g,fullWidth:l,inputComponent:p,multiline:d,ref:t,type:h},f,{classes:m}))}));he.muiName="Input";var fe=he;function me(e){return(0,h.Z)("MuiFilledInput",e)}var ye=(0,f.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]);const ge=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],be=(0,g.ZP)(ae,{shouldForwardProp:e=>(0,g.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ne(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,a=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,r.Z)({position:"relative",backgroundColor:s,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}},[`&.${ye.focused}`]:{backgroundColor:s},[`&.${ye.disabled}`]:{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ye.focused}:after`]:{transform:"scaleX(1)"},[`&.${ye.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ye.disabled}):before`]:{borderBottom:`1px solid ${e.palette.text.primary}`},[`&.${ye.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,r.Z)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),we=(0,g.ZP)(se,{name:"MuiFilledInput",slot:"Input",overridesResolver:re})((({theme:e,ownerState:t})=>(0,r.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))),xe=s.forwardRef((function(e,t){const n=(0,X.Z)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:o,fullWidth:u=!1,inputComponent:l="input",multiline:p=!1,type:d="text"}=n,h=(0,a.Z)(n,ge),f=(0,r.Z)({},n,{fullWidth:u,inputComponent:l,multiline:p,type:d}),m=(e=>{const{classes:t,disableUnderline:n}=e,a={root:["root",!n&&"underline"],input:["input"]},s=(0,c.Z)(a,me,t);return(0,r.Z)({},t,s)})(n),y={root:{ownerState:f},input:{ownerState:f}},g=o?(0,i.Z)(o,y):y;return(0,b.jsx)(ie,(0,r.Z)({components:(0,r.Z)({Root:be,Input:we},s),componentsProps:g,fullWidth:u,inputComponent:l,multiline:p,ref:t,type:d},h,{classes:m}))}));xe.muiName="Input";var ve=xe;const _e=["children","classes","className","label","notched"],Se=(0,g.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ke=(0,g.ZP)("legend",{skipSx:!0})((({ownerState:e,theme:t})=>(0,r.Z)({float:"unset"},void 0===e.label&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},void 0!==e.label&&(0,r.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));function Ne(e){return(0,h.Z)("MuiOutlinedInput",e)}var Ee=(0,f.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]);const Ie=["components","fullWidth","inputComponent","label","multiline","notched","type"],Te=(0,g.ZP)(ae,{shouldForwardProp:e=>(0,g.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ne})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.Z)({position:"relative",borderRadius:e.shape.borderRadius,[`&:hover .${Ee.notchedOutline}`]:{borderColor:e.palette.text.primary},"@media (hover: none)":{[`&:hover .${Ee.notchedOutline}`]:{borderColor:n}},[`&.${Ee.focused} .${Ee.notchedOutline}`]:{borderColor:e.palette[t.color].main,borderWidth:2},[`&.${Ee.error} .${Ee.notchedOutline}`]:{borderColor:e.palette.error.main},[`&.${Ee.disabled} .${Ee.notchedOutline}`]:{borderColor:e.palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,r.Z)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),Ae=(0,g.ZP)((function(e){const{className:t,label:n,notched:s}=e,o=(0,a.Z)(e,_e),i=(0,r.Z)({},e,{notched:s,label:n});return(0,b.jsx)(Se,(0,r.Z)({"aria-hidden":!0,className:t,ownerState:i},o,{children:(0,b.jsx)(ke,{ownerState:i,children:n?(0,b.jsx)("span",{children:n}):(0,b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>({borderColor:"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}))),Me=(0,g.ZP)(se,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:re})((({theme:e,ownerState:t})=>(0,r.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),Oe=s.forwardRef((function(e,t){var n;const o=(0,X.Z)({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:u=!1,inputComponent:l="input",label:p,multiline:d=!1,notched:h,type:f="text"}=o,m=(0,a.Z)(o,Ie),y=(e=>{const{classes:t}=e,n=(0,c.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ne,t);return(0,r.Z)({},t,n)})(o),g=(0,P.Z)(),w=(0,B.Z)({props:o,muiFormControl:g,states:["required"]});return(0,b.jsx)(ie,(0,r.Z)({components:(0,r.Z)({Root:Te,Input:Me},i),renderSuffix:e=>(0,b.jsx)(Ae,{className:y.notchedOutline,label:p&&w.required?n||(n=(0,b.jsxs)(s.Fragment,{children:[p,"\xa0","*"]})):p,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:l,multiline:d,ref:t,type:f},m,{classes:(0,r.Z)({},y,{notchedOutline:null})}))}));Oe.muiName="Input";var De,Fe,Re=Oe;const Ce=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],$e=s.forwardRef((function(e,t){const n=(0,X.Z)({name:"MuiSelect",props:e}),{autoWidth:u=!1,children:c,classes:l={},className:p,displayEmpty:d=!1,IconComponent:h=L,id:f,input:m,inputProps:y,label:g,labelId:w,MenuProps:x,multiple:v=!1,native:_=!1,onClose:S,onOpen:N,open:I,renderValue:T,SelectDisplayProps:A,variant:M="outlined"}=n,O=(0,a.Z)(n,Ce),D=_?k:$,F=(0,P.Z)(),R=(0,B.Z)({props:n,muiFormControl:F,states:["variant"]}).variant||M,C=m||{standard:De||(De=(0,b.jsx)(fe,{})),outlined:(0,b.jsx)(Re,{label:g}),filled:Fe||(Fe=(0,b.jsx)(ve,{}))}[R],V=(e=>{const{classes:t}=e;return t})((0,r.Z)({},n,{classes:l})),z=(0,E.Z)(t,C.ref);return s.cloneElement(C,(0,r.Z)({inputComponent:D,inputProps:(0,r.Z)({children:c,IconComponent:h,variant:R,type:void 0,multiple:v},_?{id:f}:{autoWidth:u,displayEmpty:d,labelId:w,MenuProps:x,onClose:S,onOpen:N,open:I,renderValue:T,SelectDisplayProps:(0,r.Z)({id:f},A)},y,{classes:y?(0,i.Z)(V,y.classes):V},m?m.props.inputProps:{})},v&&_&&"outlined"===R?{notched:!0}:{},{ref:z,className:(0,o.Z)(C.props.className,p)},O))}));$e.muiName="Select";var Be=$e},48:function(e,t,n){"use strict";n.d(t,{z:function(){return qr}});var r={};n.r(r),n.d(r,{json:function(){return R}});var a={};n.r(a),n.d(a,{json:function(){return C}});var s={};n.r(s),n.d(s,{json:function(){return $}});var o={};n.r(o),n.d(o,{json:function(){return B}});var i={};n.r(i),n.d(i,{json:function(){return P}});var u={};n.r(u),n.d(u,{json:function(){return L}});var c={};n.r(c),n.d(c,{json:function(){return V}});var l={};n.r(l),n.d(l,{json:function(){return z}});var p={};n.r(p),n.d(p,{json:function(){return W}});var d={};n.r(d),n.d(d,{json:function(){return U}});var h={};n.r(h),n.d(h,{json:function(){return H}});var f={};n.r(f),n.d(f,{json:function(){return j}});var m={};n.r(m),n.d(m,{json:function(){return q}});var y={};n.r(y),n.d(y,{json:function(){return Z}});var g={};n.r(g),n.d(g,{json:function(){return G}});var b={};n.r(b),n.d(b,{json:function(){return K}});var w={};n.r(w),n.d(w,{json:function(){return X}});var x={};n.r(x),n.d(x,{json:function(){return Q}});var v={};n.r(v),n.d(v,{json:function(){return Y}});var _=n(7228);var S,k;(0,_.OBj)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(S||(S={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(k||(k={}));const N={};function E(e){return N[e]}function I(e,t,n,r,a){const s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,o=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd;if("tensor"===s.type)return T(t.inputNames[s.inputIndexStart],n,r,a);if("tensors"===s.type){return t.inputNames.slice(e,o).map((e=>T(e,n,r,a)))}const i=T(t.inputNames.slice(e)[0],n,r,a),u=i.dataSync();return"number"===s.type?u[0]:_.D5U.toNestedArray(i.shape,u)}const o=t.attrParams[e];return o&&o.value}function T(e,t,n,r){const[a,s]=O(e);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[M(a,e)]));return void 0!==o?t[M(a,o)][s]:void 0}function A(e,t){const[n,r,a]=O(e);return[M(n,t&&t.currentContextId),r,a]}function M(e,t){return t?`${e}-${t}`:e}function O(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function D(e,t,n){let r=I("pad",e,t,n);if("explicit"===r){r=I("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function F(e){return e.kept?e:(0,_.d9v)(e)}const R=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],C=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],$=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],B=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],P=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],L=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],V=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],z=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],W=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],U=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],H=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],j=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],q=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],Z=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],G=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],K=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],X=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Q=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Y=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var J=n(1876).Buffer;class ee{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,s,o,i,u,c,l,p,d,h,f,m,y,g,b,w,x,v].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],a=[],s=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||s.push(e[t.name]),e)),{});let i=[];const u=[];let c={},l={};null!=t&&(c=this.mapSignatureEntries(t.inputs),l=this.mapSignatureEntries(t.outputs));const p=Object.keys(o);p.forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=A(e),s=o[r];if(null!=s.outputs){const e=s.outputs.indexOf(a);if(-1!==e){const a=`${r}:${e}`;t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))})),0===Object.keys(l).length?p.forEach((e=>{const t=o[e];0===t.children.length&&u.push(t)})):Object.keys(l).forEach((e=>{const[t]=A(e),n=o[t];null!=n&&(n.signatureKey=l[e],u.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=A(e),n=o[t];n&&(n.signatureKey=c[e],i.push(n))})):i=r;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:o,inputs:i,outputs:u,weights:a,placeholders:r,signature:t,functions:d};return s.length>0&&(h.initNodes=s),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=E(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=ne(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=de(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=ae(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=pe(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=re(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=re(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=fe(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=le(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=he(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=ie(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=ue(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=oe(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=oe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],s=[];e.signature.inputArg.forEach((e=>{const[t]=A(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:se(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,s]=A(e),o=r[a];if(null!=o.outputs){const e=o.outputs.indexOf(s);if(-1!==e){const r=`${a}:${e}`;t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=A(o[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,s.push(a))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:s,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function te(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=(0,_.OBj)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof J)return new J(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ne(e,t,n,r=!1){const a=e[t];return null!=a?te(a.s,r):n}function re(e,t,n){const r=e[t];return r?r.b:n}function ae(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function se(e){switch("string"===typeof e&&(e=S[e]),e){case S.DT_FLOAT:case S.DT_HALF:return"float32";case S.DT_INT32:case S.DT_INT64:case S.DT_INT8:case S.DT_UINT8:return"int32";case S.DT_BOOL:return"bool";case S.DT_DOUBLE:return"float32";case S.DT_STRING:return"string";default:return null}}function oe(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function ie(e,t,n){const r=e[t];return r&&r.type?se(r.type):n}function ue(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>se(e))):n}function ce(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function le(e,t,n){const r=e[t];return r&&r.shape?ce(r.shape):n}function pe(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function de(e,t,n,r=!1){const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>te(e,r))):n}function he(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>ce(e))):n}function fe(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class me{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return T(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return T(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return ae(this.node.rawAttrs,e,t);if(null!=n.s)return ne(this.node.rawAttrs,e,t);if(null!=n.b)return re(this.node.rawAttrs,e,t);if(null!=n.shape)return le(this.node.rawAttrs,e,t);if(null!=n.type)return ie(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return pe(this.node.rawAttrs,e,t);if(null!=n.list.s)return de(this.node.rawAttrs,e,t);if(null!=n.list.shape)return he(this.node.rawAttrs,e,t);if(null!=n.list.b)return fe(this.node.rawAttrs,e,t);if(null!=n.list.type)return ue(this.node.rawAttrs,e,t)}return t}}var ye=n(6407),ge=n(196),be=n(9121),we=n(3740),xe=n(569),ve=n(2668);const _e=(0,ve.op)({addN_:function(e){xe.hu(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),xe.hu(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>(0,we._1)(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!xe.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return ge.BV.runKernel(be.Xz,r)}});var Se=n(747);const ke=(0,ve.op)({mod_:function(e,t){let n=(0,we._1)(e,"a","mod"),r=(0,we._1)(t,"b","mod");[n,r]=(0,Se.T_)(n,r);const a={a:n,b:r};return ge.BV.runKernel(be.Vb,a)}});var Ne=n(4841),Ee=n(1274),Ie=n(2200);const Te=(0,ve.op)({equal_:function(e,t){let n=(0,we._1)(e,"a","equal","string_or_numeric"),r=(0,we._1)(t,"b","equal","string_or_numeric");[n,r]=(0,Se.T_)(n,r),(0,Ie.assertAndGetBroadcastShape)(n.shape,r.shape);const a={a:n,b:r};return ge.BV.runKernel(be.hd,a)}});var Ae=n(5912),Me=n(6577);const Oe=(0,ve.op)({divNoNan_:function(e,t){let n=(0,we._1)(e,"a","div"),r=(0,we._1)(t,"b","div");[n,r]=(0,Se.T_)(n,r);const a=(0,Ee.h)(n,r),s=(0,Me.P)(a),o=Te(r,s);return(0,Ae.a)(o,s,a)}});var De=n(9165),Fe=n(827),Re=n(4513),Ce=n(2271);const $e=(0,ve.op)({maximum_:function(e,t){let n=(0,we._1)(e,"a","maximum"),r=(0,we._1)(t,"b","maximum");[n,r]=(0,Se.T_)(n,r),"bool"===n.dtype&&(n=(0,Ce.p)(n,"int32"),r=(0,Ce.p)(r,"int32")),(0,Ie.assertAndGetBroadcastShape)(n.shape,r.shape);const a={a:n,b:r};return ge.BV.runKernel(be.BM,a)}});var Be=n(3453),Pe=n(5265);var Le=n(6235);const Ve=(0,ve.op)({acos_:function(e){const t={x:(0,we._1)(e,"x","acos")};return ge.BV.runKernel(be.VG,t)}});const ze=(0,ve.op)({acosh_:function(e){const t={x:(0,we._1)(e,"x","acosh")};return ge.BV.runKernel(be.Sp,t)}});const We=(0,ve.op)({asin_:function(e){const t={x:(0,we._1)(e,"x","asin")};return ge.BV.runKernel(be.M2,t)}});const Ue=(0,ve.op)({asinh_:function(e){const t={x:(0,we._1)(e,"x","asinh")};return ge.BV.runKernel(be.qw,t)}});const He=(0,ve.op)({atan_:function(e){const t={x:(0,we._1)(e,"x","atan")};return ge.BV.runKernel(be.jM,t)}});const je=(0,ve.op)({atan2_:function(e,t){let n=(0,we._1)(e,"a","atan2"),r=(0,we._1)(t,"b","atan2");[n,r]=(0,Se.T_)(n,r);const a={a:n,b:r};return ge.BV.runKernel(be.QC,a)}});const qe=(0,ve.op)({atanh_:function(e){const t={x:(0,we._1)(e,"x","atanh")};return ge.BV.runKernel(be.Oy,t)}});const Ze=(0,ve.op)({ceil_:function(e){const t={x:(0,we._1)(e,"x","ceil","float32")};return ge.BV.runKernel(be.gJ,t)}});var Ge=n(1661);const Ke=(0,ve.op)({cos_:function(e){const t={x:(0,we._1)(e,"x","cos","float32")};return ge.BV.runKernel(be.mc,t)}});const Xe=(0,ve.op)({cosh_:function(e){const t={x:(0,we._1)(e,"x","cosh","float32")};return ge.BV.runKernel(be.TR,t)}});var Qe=n(3233);const Ye=(0,ve.op)({erf_:function(e){let t=(0,we._1)(e,"x","erf");xe.hu("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,Ce.p)(t,"float32"));const n={x:t};return ge.BV.runKernel(be.Om,n)}});var Je=n(4842);const et=(0,ve.op)({expm1_:function(e){const t={x:(0,we._1)(e,"x","expm1")};return ge.BV.runKernel(be.Y0,t)}});const tt=(0,ve.op)({floor_:function(e){const t={x:(0,we._1)(e,"x","floor","float32")};return ge.BV.runKernel(be.OR,t)}});var nt=n(2597),rt=n(7474),at=n(4386),st=n(7370);const ot=(0,ve.op)({reciprocal_:function(e){const t={x:(0,we._1)(e,"x","reciprocal")};return ge.BV.runKernel(be.$H,t)}});var it=n(766),ut=n(7409),ct=n(7809);const lt=(0,ve.op)({selu_:function(e){const t={x:(0,we._1)(e,"x","selu")};return ge.BV.runKernel(be.oF,t)}});var pt=n(625);const dt=(0,ve.op)({sin_:function(e){const t={x:(0,we._1)(e,"x","sin","float32")};return ge.BV.runKernel(be.RQ,t)}});const ht=(0,ve.op)({sign_:function(e){const t={x:(0,we._1)(e,"x","sign")};return ge.BV.runKernel(be.i5,t)}});const ft=(0,ve.op)({sinh_:function(e){const t={x:(0,we._1)(e,"x","sinh")};return ge.BV.runKernel(be.w3,t)}});const mt=(0,ve.op)({softplus_:function(e){const t={x:(0,we._1)(e,"x","softplus")};return ge.BV.runKernel(be.MR,t)}});var yt=n(3261),gt=n(248);const bt=(0,ve.op)({tanh_:function(e){const t={x:(0,we._1)(e,"x","tanh","float32")};return ge.BV.runKernel(be.MI,t)}});const wt=(0,ve.op)({tan_:function(e){const t={x:(0,we._1)(e,"x","tan","float32")};return ge.BV.runKernel(be.sE,t)}});const xt=(0,ve.op)({clipByValue_:function(e,t,n){const r=(0,we._1)(e,"x","clipByValue");xe.hu(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const a={x:r},s={clipValueMin:t,clipValueMax:n};return ge.BV.runKernel(be.xn,a,s)}});var vt=n(3582);const _t=(0,ve.op)({rsqrt_:function(e){const t={x:(0,we._1)(e,"x","rsqrt","float32")};return ge.BV.runKernel(be.bV,t)}});const St=(0,ve.op)({prod_:function(e,t=null,n=!1){let r=(0,we._1)(e,"x","prod");"bool"===r.dtype&&(r=(0,Ce.p)(r,"int32"));const a={x:r},s={axis:t,keepDims:n};return ge.BV.runKernel(be.Dl,a,s)}});var kt=n(9133),Nt=n(8151);const Et=(0,ve.op)({isNaN_:function(e){const t={x:(0,we._1)(e,"x","isNaN")};return ge.BV.runKernel(be.r7,t)}});function It(e,t,n=""){if("number"!==typeof e&&"number"!==typeof t){_.D5U.assert(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const a=e[r],s=t[r];_.D5U.assert(a<0||s<0||a===s,(()=>n+` Shapes ${e} and ${t} must match`))}}}function Tt(e){return"number"!==typeof e&&!e.some((e=>e<0))}function At(e,t,n){let r=Mt(e,n);const a=!Tt(r);if(a&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach((e=>{r=Mt(e.shape,r)})),!Tt(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function Mt(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const a=e[r],s=t[r];if(a>=0&&s>=0&&a!==s)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:s}return n}class Ot{constructor(e,t,n,r,a,s,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=(0,_.iD$)(0),(0,_.CnY)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),It(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,_.CnY)(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return(0,_.XeE)([],[0].concat(this.elementShape));const n=this.readMany(e);return It(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,_.knu)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,_.XeE)([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return It(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),(0,_.zoF)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,_.HHK)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===n?0:t.size/n,s=[];(0,_.lub)((()=>{t=(0,_.XLQ)(t,[1,n,a]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:r[n-1],0],i=[1,e[n],a];s[n]=(0,_.XLQ)((0,_.tPi)(t,o,i),this.elementShape)}return s}));const o=[];for(let i=0;i<e.length;i++)o[i]=i;this.writeMany(o,s)}}class Dt{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);It(t,e.shape,"TensorList shape mismatch: "),(0,_.CnY)(e)})),this.idTensor=(0,_.iD$)(0),this.maxNumElements=r,(0,_.CnY)(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Dt([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);It(e,this.elementShape,"TensorList shape mismatch: ");const r=At(this.elementShape,this.tensors,e);return(0,_.lub)((()=>{const e=this.tensors.map((e=>(0,_.XLQ)(e,r)));return(0,_.knu)(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=At(this.elementShape,this.tensors,e),r=this.tensors.pop();return It(r.shape,e,"TensorList shape mismatch: "),(0,_.XLQ)(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(It(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,_.CnY)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);It(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=At(this.elementShape,this.tensors,t);return(0,_.XLQ)(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);It(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,_.CnY)(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);It(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=At(this.elementShape,this.tensors,n);return 0===e.length?(0,_.XeE)([],[0].concat(r)):(0,_.lub)((()=>{const t=e.map((e=>(0,_.XLQ)(this.tensors[e],r)));return(0,_.knu)(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);It(this.elementShape,t,"TensorList shape mismatch: ");const n=At(this.elementShape,this.tensors,t);return 0===this.size()?(0,_.XeE)([],[0].concat(n)):(0,_.lub)((()=>{const e=this.tensors.map((e=>(0,_.XLQ)(e,n)));return(0,_.zoF)(e,0)}))}}const Ft=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=I("thenBranch",e,t,n),a=I("elseBranch",e,t,n),s=I("cond",e,t,n),o=I("args",e,t,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=I("body",e,t,n),a=I("cond",e,t,n),s=I("args",e,t,n),o=await n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),i=s.map((e=>e.id));let u=await o[0].data();o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let c=s;for(;u[0];){const e=c;c=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const s=await n.functionMap[a].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);u=await s[0].data(),s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[F(I("pred",e,t,n))];case"Switch":{const r=I("pred",e,t,n);let a=I("data",e,t,n);return a.kept||(a=F(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==T(e,t,n)));if(r){return[F(T(r,t,n))]}return}case"Enter":{const r=I("frameName",e,t,n),a=I("tensor",e,t,n);return n.enterFrame(r),[F(a)]}case"Exit":{const r=I("tensor",e,t,n);return n.exitFrame(),[F(r)]}case"NextIteration":{const r=I("tensor",e,t,n);return n.nextIteration(),[F(r)]}case"TensorArrayV3":{const r=I("size",e,t,n),a=I("dtype",e,t,n),s=I("elementShape",e,t,n),o=I("dynamicSize",e,t,n),i=I("clearAfterRead",e,t,n),u=I("identicalElementShapes",e,t,n),c=I("name",e,t,n),l=new Ot(c,a,r,s,u,o,i);return n.addTensorArray(l),[l.idTensor,(0,_.iD$)(1)]}case"TensorArrayWriteV3":{const r=I("tensorArrayId",e,t,n),a=I("index",e,t,n),s=I("tensor",e,t,n),o=n.getTensorArray(r.id);return o.write(a,s),[o.idTensor]}case"TensorArrayReadV3":{const r=I("tensorArrayId",e,t,n),a=I("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=I("tensorArrayId",e,t,n),a=I("indices",e,t,n),s=I("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,s)]}case"TensorArrayScatterV3":{const r=I("tensorArrayId",e,t,n),a=I("indices",e,t,n),s=I("tensor",e,t,n),o=n.getTensorArray(r.id);return o.scatter(a,s),[o.idTensor]}case"TensorArrayConcatV3":{const r=I("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),s=I("dtype",e,t,n);return[a.concat(s)]}case"TensorArraySplitV3":{const r=I("tensorArrayId",e,t,n),a=I("tensor",e,t,n),s=I("lengths",e,t,n),o=n.getTensorArray(r.id);return o.split(s,a),[o.idTensor]}case"TensorArraySizeV3":{const r=I("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return[(0,_.iD$)(a.size(),"int32")]}case"TensorArrayCloseV3":{const r=I("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=I("tensorListId",e,t,n),a=I("index",e,t,n),s=I("tensor",e,t,n),o=n.getTensorList(r.id);return o.setItem(a,s),[o.idTensor]}case"TensorListGetItem":{const r=I("tensorListId",e,t,n),a=I("index",e,t,n),s=I("elementShape",e,t,n),o=I("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=I("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const s=new Dt([],n,e.dtype,r),o=(0,_.HHK)(e,0);return t.forEach(((e,t)=>{s.setItem(e,o[t])})),s}(I("tensor",e,t,n),r,I("elementShape",e,t,n),I("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=I("elementShape",e,t,n),a=I("elementDType",e,t,n);let s;s="TensorListReserve"===e.op?"numElements":"maxNumElements";const o=function(e,t,n){return new Dt([],e,t,n)}(r,a,I(s,e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const r=I("tensorListId",e,t,n),a=I("indices",e,t,n),s=I("elementShape",e,t,n),o=I("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,o,s)]}case"TensorListStack":{const r=I("tensorListId",e,t,n),a=I("elementShape",e,t,n),s=I("elementDType",e,t,n),o=I("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,s,o)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);It(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=(0,_.HHK)(e);return new Dt(a,t,r)}(I("tensor",e,t,n),I("elementShape",e,t,n),I("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":{const r=I("tensorListId",e,t,n),a=n.getTensorList(r.id),s=I("dtype",e,t,n),o=I("elementShape",e,t,n);return[a.concat(s,o)]}case"TensorListPushBack":{const r=I("tensorListId",e,t,n),a=I("tensor",e,t,n),s=n.getTensorList(r.id);return s.pushBack(a),[s.idTensor]}case"TensorListPopBack":{const r=I("tensorListId",e,t,n),a=I("elementShape",e,t,n),s=I("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,s)]}case"TensorListSplit":{const r=I("tensor",e,t,n),a=I("elementShape",e,t,n),s=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const s=Mt(e.shape.slice(1),n),o=0===r?0:e.size/r,i=(0,_.lub)((()=>{const n=[];e=(0,_.XLQ)(e,[1,r,o]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],u=[1,t[r],o];n[r]=(0,_.XLQ)((0,_.tPi)(e,i,u),s)}return e.dispose(),n})),u=new Dt([],n,e.dtype,t.length);for(let c=0;c<i.length;c++)u.setItem(c,i[c]);return u}(r,I("lengths",e,t,n),a);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};var Rt=n(2582),Ct=n(4968);const $t=(0,ve.op)({conv2d_:function(e,t,n,r,a="NHWC",s=[1,1],o){const i=(0,we._1)(e,"x","conv2d","float32"),u=(0,we._1)(t,"filter","conv2d","float32");let c=i,l=!1;3===i.rank&&(l=!0,c=(0,Ct.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),xe.hu(4===c.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`)),xe.hu(4===u.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${u.rank}.`)),Rt.m("conv2d",r,o);const p="NHWC"===a?c.shape[3]:c.shape[1];xe.hu(p===u.shape[2],(()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${u.shape[2]}.`)),xe.hu(Rt.jT(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`));const d={x:c,filter:u},h={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},f=ge.BV.runKernel(be.mh,d,h);return l?(0,Ct.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Bt=(0,ve.op)({conv1d_:function(e,t,n,r,a="NWC",s=1,o){const i=(0,we._1)(e,"x","conv1d"),u=(0,we._1)(t,"filter","conv1d");let c=i,l=!1;2===i.rank&&(l=!0,c=(0,Ct.X)(i,[1,i.shape[0],i.shape[1]])),xe.hu(3===c.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`)),xe.hu(3===u.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${u.rank}.`)),Rt.m("conv1d",r,o),xe.hu(c.shape[2]===u.shape[1],(()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${u.shape[1]}.`)),xe.hu(Rt.jT(n,s),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`)),xe.hu("NWC"===a,(()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`));const p=(0,Ct.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]]),d=(0,Ct.X)(c,[c.shape[0],1,c.shape[1],c.shape[2]]),h=$t(d,p,[1,n],r,"NHWC",[1,s],o);return l?(0,Ct.X)(h,[h.shape[2],h.shape[3]]):(0,Ct.X)(h,[h.shape[0],h.shape[2],h.shape[3]])}});var Pt=n(633);const Lt=(0,ve.op)({conv2DBackpropFilter_:function(e,t,n,r,a,s="NHWC",o){let i=e;3===e.rank&&(i=(0,Ct.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let u=t;3===u.rank&&(u=(0,Ct.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),xe.hu(4===i.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`)),xe.hu(4===u.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`)),xe.hu(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===s?i.shape[3]:i.shape[1],l="NHWC"===s?u.shape[3]:u.shape[1];xe.hu(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),xe.hu(l===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${l}) must match output depth for filter (${n[3]}).`)),Rt.m("conv2dDerFilter",a,o);const p={x:i,dy:u},d={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:n};return ge.BV.runKernel(be.wU,p,d)}});const Vt=(0,ve.op)({conv2DBackpropInput_:function(e,t,n,r,a,s="NHWC",o){xe.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,u=t,c=!1;3===t.rank&&(c=!0,u=(0,Ct.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),xe.hu(4===i.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`)),xe.hu(4===u.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`)),xe.hu(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const l="NHWC"===s?i[3]:i[1],p="NHWC"===s?u.shape[3]:u.shape[1];xe.hu(l===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[2]}.`)),xe.hu(p===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[3]}.`)),Rt.m("conv2dDerInput",a,o);const d={dy:u,filter:n},h={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:i},f=ge.BV.runKernel(be.wm,d,h);return c?(0,Ct.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var zt=n(4995);const Wt=(0,ve.op)({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(u=u||"linear",!1===(0,zt.uy)(ge.BV.state.gradientDepth,u)){let p=$t(e,t,n,r,a,s,o);return null!=i&&(p=(0,ye.I)(p,i)),(0,zt.QH)(p,u,c,l)}const p=(0,we._1)(e,"x","conv2d","float32"),d=(0,we._1)(t,"filter","conv2d","float32");let h=p,f=!1;3===p.rank&&(f=!0,h=(0,Ct.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xe.hu(4===h.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`)),xe.hu(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),Rt.m("fused conv2d",r,o),xe.hu(h.shape[3]===d.shape[2],(()=>`Error in conv2d: depth of input (${h.shape[3]}) must match input depth for filter ${d.shape[2]}.`)),xe.hu(Rt.jT(n,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),xe.hu("NHWC"===a,(()=>`Error in conv2d: got dataFormat of ${a} but only NHWC is currently supported.`));const m=Rt.Ix(h.shape,d.shape,n,s,r,o);let y,g;null!=i&&(y=(0,we._1)(i,"bias","fused conv2d"),[y]=(0,Se.T_)(y,p),Ie.assertAndGetBroadcastShape(m.outShape,y.shape)),null!=c&&(g=(0,we._1)(c,"prelu weights","fused conv2d"));const b=(e,t)=>{const[a,o,i,c]=t,l=(0,zt.Fr)(e,i,u);xe.hu(Rt.I0(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const p=[Vt(o.shape,l,a,n,r),Lt(o,l,a.shape,n,r)];if(null!=c){const e=(0,zt.pf)(c,l);p.push(e)}return p},w={x:h,filter:d,bias:y,preluActivationWeights:g},x={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:l};if(null==i){return(0,Pt.cb)(((e,t,n)=>{let r=ge.BV.runKernel(be._V,w,x);return n([t,e,r]),f&&(r=(0,Ct.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}))(h,d)}return(0,Pt.cb)(((e,t,n,r)=>{let a=ge.BV.runKernel(be._V,w,x);return r([t,e,a,n]),f&&(a=(0,Ct.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}))(h,d,y)}});const Ut=(0,ve.op)({depthwiseConv2d_:function(e,t,n,r,a="NHWC",s=[1,1],o){const i=(0,we._1)(e,"x","depthwiseConv2d","float32"),u=(0,we._1)(t,"filter","depthwiseConv2d","float32");let c=i,l=!1;3===i.rank&&(l=!0,c=(0,Ct.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),xe.hu(4===c.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`)),xe.hu(4===u.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${u.rank}.`)),xe.hu(c.shape[3]===u.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),Rt.m("depthwiseConv2d",r,o);const p={x:c,filter:u},d={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},h=ge.BV.runKernel(be.ci,p,d);return l?(0,Ct.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const Ht=(0,ve.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a,s=[1,1],o){let i=e;3===e.rank&&(i=(0,Ct.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let u=t;3===u.rank&&(u=(0,Ct.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:i,dy:u},l={strides:r,pad:a,dimRoundingMode:o,dilations:s,filterShape:n};return ge.BV.runKernel(be.sL,c,l)}});const jt=(0,ve.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a,s=[1,1],o){let i=t,u=!1;3===t.rank&&(u=!0,i=(0,Ct.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:i,filter:n},l={strides:r,pad:a,dimRoundingMode:o,dilations:s,inputShape:e},p=ge.BV.runKernel(be.y7,c,l);return u?(0,Ct.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const qt=(0,ve.op)({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:l}){if(!1===(0,zt.uy)(ge.BV.state.gradientDepth,u)){let p=Ut(e,t,n,r,a,s,o);return null!=i&&(p=(0,ye.I)(p,i)),(0,zt.QH)(p,u,c,l)}const p=(0,we._1)(e,"x","depthwiseConv2d","float32"),d=(0,we._1)(t,"filter","depthwiseConv2d","float32");let h=p,f=!1;3===p.rank&&(f=!0,h=(0,Ct.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xe.hu(4===h.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`)),xe.hu(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),xe.hu(h.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==s&&(s=[1,1]),xe.hu(Rt.jT(n,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),Rt.m("fused depthwiseConv2d",r,o);const m=Rt.Ix(h.shape,d.shape,n,s,r,o,!0);let y,g;null!=i&&(y=(0,we._1)(i,"bias","fused conv2d"),[y]=(0,Se.T_)(y,p),Ie.assertAndGetBroadcastShape(m.outShape,y.shape)),null!=c&&(g=(0,we._1)(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{xe.hu(Rt.I0(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[a,i,c,l]=t,p=(0,zt.Fr)(e,c,u),d=jt(i.shape,p,a,n,r,s,o),h=Ht(i,p,a.shape,n,r,s,o);if(null!=l){return[d,h,(0,zt.pf)(y,p)]}return[d,h]},w={x:h,filter:d,bias:y,preluActivationWeights:g},x={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:l};if(null==i){return(0,Pt.cb)(((e,t,n)=>{let r=ge.BV.runKernel(be.lu,w,x);return n([t,e,r]),f&&(r=(0,Ct.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}))(h,d)}return(0,Pt.cb)(((e,t,n,r)=>{let a=ge.BV.runKernel(be.lu,w,x);return r([t,e,a,n]),f&&(a=(0,Ct.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}))(h,d,y)}});var Zt=n(9804);const Gt=(0,ve.op)({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:s="linear",preluActivationWeights:o,leakyreluAlpha:i}){if(!1===(0,zt.uy)(ge.BV.state.gradientDepth,s)){let u=(0,Zt.O)(e,t,n,r);return null!=a&&(u=(0,ye.I)(u,a)),(0,zt.QH)(u,s,o,i)}let u=(0,we._1)(e,"a","fused matMul"),c=(0,we._1)(t,"b","fused matMul");[u,c]=(0,Se.T_)(u,c);const l=n?u.shape[u.rank-2]:u.shape[u.rank-1],p=r?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?u.shape[u.rank-1]:u.shape[u.rank-2],h=r?c.shape[c.rank-2]:c.shape[c.rank-1],f=u.shape.slice(0,-2),m=c.shape.slice(0,-2),y=xe.NA(f),g=xe.NA(m);xe.hu(l===p,(()=>`Error in fused matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=Ie.assertAndGetBroadcastShape(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,h]),w=n?(0,Ct.X)(u,[y,l,d]):(0,Ct.X)(u,[y,d,l]),x=r?(0,Ct.X)(c,[g,h,p]):(0,Ct.X)(c,[g,p,h]);let v,_;null!=a&&(v=(0,we._1)(a,"bias","fused matMul"),[v]=(0,Se.T_)(v,u),Ie.assertAndGetBroadcastShape(b,v.shape)),null!=o&&(_=(0,we._1)(o,"prelu weights","fused matMul"));const S=(e,t)=>{const[o,i,u,c]=t,l=(0,zt.Fr)((0,Ct.X)(e,u.shape),u,s);let p,d;if(n||r?!n&&r?(p=(0,Zt.O)(l,i,!1,!1),d=(0,Zt.O)(l,o,!0,!1)):n&&!r?(p=(0,Zt.O)(i,l,!1,!0),d=(0,Zt.O)(o,l,!1,!1)):(p=(0,Zt.O)(i,l,!0,!0),d=(0,Zt.O)(l,o,!0,!0)):(p=(0,Zt.O)(l,i,!1,!0),d=(0,Zt.O)(o,l,!0,!1)),null!=a){return[p,d,(0,zt.pf)(c,l)]}return[p,d]},k={a:w,b:x,bias:v,preluActivationWeights:_},N={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:i};if(null==a){return(0,Pt.cb)(((e,t,n)=>{const r=ge.BV.runKernel(be.us,k,N);return n([e,t,r]),{value:(0,Ct.X)(r,b),gradFunc:S}}))(w,x)}return(0,Pt.cb)(((e,t,n,r)=>{const a=ge.BV.runKernel(be.us,k,N);return r([e,t,a,n]),{value:(0,Ct.X)(a,b),gradFunc:S}}))(w,x,v)}});const Kt=(0,ve.op)({conv2dTranspose_:function(e,t,n,r,a,s){const o=(0,we._1)(e,"x","conv2dTranspose"),i=(0,we._1)(t,"filter","conv2dTranspose");return Vt(n,o,i,r,a,"NHWC",s)}});const Xt=(0,ve.op)({conv3d_:function(e,t,n,r,a="NDHWC",s=[1,1,1]){const o=(0,we._1)(e,"x","conv3d"),i=(0,we._1)(t,"filter","conv3d");let u=o,c=!1;4===o.rank&&(c=!0,u=(0,Ct.X)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),xe.hu(5===u.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`)),xe.hu(5===i.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`)),xe.hu(u.shape[4]===i.shape[3],(()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${i.shape[3]}.`)),xe.hu((0,Rt.jT)(n,s),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`)),xe.hu("NDHWC"===a,(()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`));const l={x:u,filter:i},p={strides:n,pad:r,dataFormat:a,dilations:s},d=ge.BV.runKernel(be.x1,l,p);return c?(0,Ct.X)(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Qt=(0,ve.op)({avgPool_:function(e,t,n,r,a){const s=(0,we._1)(e,"x","avgPool","float32");xe.hu(Rt.jT(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let o=s,i=!1;3===s.rank&&(i=!0,o=(0,Ct.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xe.hu(4===o.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`)),Rt.m("avgPool",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let l=ge.BV.runKernel(be.Jh,u,c);return l=(0,Ce.p)(l,s.dtype),i?(0,Ct.X)(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const Yt=(0,ve.op)({maxPool_:function(e,t,n,r,a){const s=(0,we._1)(e,"x","maxPool");let o=s,i=!1;3===s.rank&&(i=!0,o=(0,Ct.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xe.hu(4===o.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`)),xe.hu(Rt.jT(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),Rt.m("maxPool",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},l=ge.BV.runKernel(be.mT,u,c);return i?(0,Ct.X)(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const Jt=(0,ve.op)({maxPoolWithArgmax_:function(e,t,n,r,a=!1){const s={x:(0,we._1)(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=ge.BV.runKernel(be.vF,s,o);return{result:i[0],indexes:i[1]}}});const en=(0,ve.op)({avgPool3d_:function(e,t,n,r,a,s="NDHWC"){const o=(0,we._1)(e,"x","avgPool3d","float32");let i=o,u=!1;4===o.rank&&(u=!0,i=(0,Ct.X)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),xe.hu(5===i.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`)),xe.hu("NDHWC"===s,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),(0,Rt.m)("avgPool3d",r,a);const c={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s};let p=ge.BV.runKernel(be._k,c,l);return p=(0,Ce.p)(p,i.dtype),u?(0,Ct.X)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const tn=(0,ve.op)({maxPool3d_:function(e,t=[1,1,1],n,r,a,s="NDHWC"){const o=(0,we._1)(e,"x","maxPool3d");let i=o,u=!1;4===o.rank&&(u=!0,i=(0,Ct.X)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),xe.hu(5===i.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`)),xe.hu("NDHWC"===s,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`)),(0,Rt.m)("maxPool3d",r,a);const c={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:s},p=ge.BV.runKernel(be.OA,c,l);return u?(0,Ct.X)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const nn=(0,ve.op)({dilation2d_:function(e,t,n,r,a=[1,1],s="NHWC"){const o=(0,we._1)(e,"x","dilation2d"),i=(0,we._1)(t,"filter","dilation2d");xe.hu(3===o.rank||4===o.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`)),xe.hu(3===i.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`)),xe.hu("NHWC"===s,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`));let u=o,c=!1;3===o.rank&&(u=(0,Ct.X)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=!0);const l={x:u,filter:i},p={strides:n,pad:r,dilations:a},d=ge.BV.runKernel(be.p4,l,p);return c?(0,Ct.X)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});function rn(e,t,n){const[r,a]=I("fusedOps",e,t,n),s="biasadd"===r,o=!s,i="prelu"===a,u="fusedbatchnorm"===r,c=I("numArgs",e,t,n);if(s){if(i&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&s&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(u)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const l=I("strides",e,t,n),p=D(e,t,n),d=I("dataFormat",e,t,n).toUpperCase(),h=I("dilations",e,t,n);let[f,m]=I("args",e,t,n);o&&(m=f,f=void 0);return{stride:l,pad:p,dataFormat:d,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:I("leakyreluAlpha",e,t,n)}}var an=n(4006);function sn(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return ge.BV.runKernel(be.e7,{},r)}const on=(0,ve.op)({multinomial_:function(e,t,n,r=!1){const a=(0,we._1)(e,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const i={logits:1===o?(0,Ct.X)(a,[1,-1]):a},u={numSamples:t,seed:n,normalized:r},c=ge.BV.runKernel(be.NZ,i,u);return 1===o?(0,Ct.X)(c,[c.size]):c}});const un=(0,ve.op)({oneHot_:function(e,t,n=1,r=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:(0,we._1)(e,"indices","oneHot","int32")},s={depth:t,onValue:n,offValue:r};return ge.BV.runKernel(be.we,a,s)}});var cn=n(4917);const ln=(0,ve.op)({onesLike_:function(e){const t={x:(0,we._1)(e,"x","onesLike")};return ge.BV.runKernel(be.qW,t)}});var pn=n(2657),dn=n(6377);class hn{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=a||Math.random();this.random=dn.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,s;do{r=2*this.random()-1,a=2*this.random()-1,s=r*r+a*a}while(s>=1||0===s);const o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*a*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class fn{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=dn.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const mn=(0,ve.op)({randomUniform_:function(e,t=0,n=1,r="float32",a){const s=(0,pn.f)(e,r),o=new fn(t,n,null,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});var yn=n(7245);const gn=(0,ve.op)({truncatedNormal_:function(e,t=0,n=1,r,a){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const s=new hn(t,n,r,!0,a),o=(0,pn.f)(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});var bn=n(9640);var wn=n(1159);const xn=async function(e){const t=(0,we._1)(e,"condition","whereAsync","bool"),n=await t.data(),r=function(e,t){const n=[];for(let s=0;s<t.length;s++)t[s]&&n.push(s);const r=(0,pn.f)(e,"int32"),a=(0,pn.f)([n.length,e.length],"int32");for(let s=0;s<n.length;s++){const t=r.indexToLoc(n[s]),o=s*e.length;a.values.set(t,o)}return a.toTensor()}(t.shape,n);return e!==t&&t.dispose(),r};var vn=n(974);const _n=async function(e,t){const n=(0,we._1)(e,"x","setdiff1d"),r=(0,we._1)(t,"y","setdiff1d");xe.hu(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),xe.hu(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),xe.hu(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const a=await n.data(),s=await r.data(),o=new Set(s);let i=0;for(let l=0;l<a.length;l++)o.has(a[l])||i++;const u=new vn.YD([i],n.dtype),c=new vn.YD([i],"int32");for(let l=0,p=0;l<a.length;l++)o.has(a[l])||(u.values[p]=a[l],c.values[p]=l,p++);return[u.toTensor(),c.toTensor()]};function Sn(e,t,n){return{boxes:I("boxes",e,t,n),scores:I("scores",e,t,n),maxOutputSize:I("maxOutputSize",e,t,n),iouThreshold:I("iouThreshold",e,t,n),scoreThreshold:I("scoreThreshold",e,t,n),softNmsSigma:I("softNmsSigma",e,t,n)}}const kn=(0,ve.op)({topk_:function(e,t=1,n=!0){const r=(0,we._1)(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const s={x:r},o={k:t,sorted:n},[i,u]=ge.BV.runKernel(be.cW,s,o);return{values:i,indices:u}}});const Nn=(0,ve.op)({unique_:function(e,t=0){const n=(0,we._1)(e,"x","unique","string_or_numeric");(0,xe.hu)(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[s,o]=ge.BV.runKernel(be.kp,r,a);return{values:s,indices:o}}});var En=n(6092),In=n(9494);class Tn{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=(0,_.iD$)(0),this.tensorMap=new Map,(0,_.CnY)(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return In.i(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),(0,_.lub)((()=>{const e=(0,_.HHK)(t),r=n.length,a=e.length;_.D5U.assert(r===a,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${a} elements.`));for(let t=0;t<r;t++){const r=n[t],a=e[t];(0,_.CnY)(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return(0,_.lub)((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],s=this.findWithDefault(a,t);e.push(s)}return(0,_.knu)(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}var An=n(7122),Mn=n(636),On=n(7630);const Dn=(0,ve.op)({less_:function(e,t){let n=(0,we._1)(e,"a","less","string_or_numeric"),r=(0,we._1)(t,"b","less","string_or_numeric");[n,r]=(0,Se.T_)(n,r),(0,Ie.assertAndGetBroadcastShape)(n.shape,r.shape);const a={a:n,b:r};return ge.BV.runKernel(be.vt,a)}});var Fn=n(624),Rn=n(2856);const Cn=(0,ve.op)({logicalNot_:function(e){const t={x:(0,we._1)(e,"x","logicalNot","bool")};return ge.BV.runKernel(be.Vf,t)}});const $n=(0,ve.op)({logicalOr_:function(e,t){const n=(0,we._1)(e,"a","logicalOr","bool"),r=(0,we._1)(t,"b","logicalOr","bool");(0,Ie.assertAndGetBroadcastShape)(n.shape,r.shape);const a={a:n,b:r};return ge.BV.runKernel(be.MZ,a)}});const Bn=(0,ve.op)({einsum_:function(e,...t){const n=t.map(((e,t)=>(0,we._1)(e,`tensors${t}`,"einsum"))),r={equation:e};return ge.BV.runKernel(be.$g,n,r)}});var Pn=n(9065);const Ln=(0,ve.op)({batchNorm_:function(e,t,n,r,a,s){null==s&&(s=.001);const o=(0,we._1)(e,"x","batchNorm"),i=(0,we._1)(t,"mean","batchNorm"),u=(0,we._1)(n,"variance","batchNorm");let c,l;null!=a&&(c=(0,we._1)(a,"scale","batchNorm")),null!=r&&(l=(0,we._1)(r,"offset","batchNorm")),xe.hu(i.rank===u.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xe.hu(null==l||i.rank===l.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xe.hu(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const p={x:function(e){let t;return t=0===e.rank||1===e.rank?(0,Ct.X)(e,[1,1,1,e.size]):2===e.rank?(0,Ct.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,Ct.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(o),scale:c,offset:l,mean:i,variance:u},d={varianceEpsilon:s},h=ge.BV.runKernel(be.sH,p,d);return(0,Ct.X)(h,o.shape)}});const Vn=(0,ve.op)({localResponseNormalization_:function(e,t=5,n=1,r=1,a=.5){const s=(0,we._1)(e,"x","localResponseNormalization");xe.hu(4===s.rank||3===s.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${s.rank}.`)),xe.hu(xe.GN(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let o=s,i=!1;3===s.rank&&(i=!0,o=(0,Ct.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const u={x:o},c={depthRadius:t,bias:n,alpha:r,beta:a},l=ge.BV.runKernel(be.eZ,u,c);return i?(0,Ct.X)(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const zn=(0,ve.op)({softmax_:function(e,t=-1){const n=(0,we._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return ge.BV.runKernel(be.Gc,r,a)}});var Wn=n(3307),Un=n(5475);const Hn=(0,ve.op)({logSoftmax_:function(e,t=-1){const n=(0,we._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return(0,Pt.cb)(((e,n)=>{const r=(0,Wn.F)(e,t,!0),a=(0,Fe.l)(e,r),s=(0,Fe.l)((0,Ce.p)(a,"float32"),(0,nt.c)((0,Un.S)((0,Je.Q)(a),t,!0)));n([s]);return{value:s,gradFunc:(e,n)=>{const[r]=n,a=(0,Je.Q)(r);return(0,Fe.l)(e,(0,Ne.d)((0,Un.S)(e,t,!0),a))}}}))(n)}});const jn=(0,ve.op)({sparseToDense_:function(e,t,n,r=0){const a=(0,we._1)(e,"sparseIndices","sparseToDense","int32"),s=(0,we._1)(t,"sparseValues","sparseToDense"),o=(0,we._1)(r,"defaultValue","sparseToDense",s.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const a=e.rank>0?e.shape[0]:1,s=e.rank>1?e.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,s,n,o);const i={sparseIndices:a,sparseValues:s,defaultValue:o},u={outputShape:n};return ge.BV.runKernel(be.D2,i,u)}});var qn=n(5130),Zn=n(5735);const Gn=(0,ve.op)({all_:function(e,t=null,n=!1){const r={x:(0,we._1)(e,"x","all","bool")},a={axis:t,keepDims:n};return ge.BV.runKernel(be.oT,r,a)}});const Kn=(0,ve.op)({any_:function(e,t=null,n=!1){const r={x:(0,we._1)(e,"x","any","bool")},a={axis:t,keepDims:n};return ge.BV.runKernel(be.IK,r,a)}});const Xn=(0,ve.op)({argMax_:function(e,t=0){const n={x:(0,we._1)(e,"x","argMax")},r={axis:t};return ge.BV.runKernel(be.sJ,n,r)}});const Qn=(0,ve.op)({argMin_:function(e,t=0){const n={x:(0,we._1)(e,"x","argMin")},r={axis:t};return ge.BV.runKernel(be.aJ,n,r)}});const Yn=(0,ve.op)({cumsum_:function(e,t=0,n=!1,r=!1){const a={x:(0,we._1)(e,"x","cumsum")},s={axis:t,exclusive:n,reverse:r};return ge.BV.runKernel(be.iH,a,s)}});var Jn=n(3865);const er=(0,ve.op)({denseBincount_:function(e,t,n,r=!1){const a=(0,we._1)(e,"x","denseBincount"),s=(0,we._1)(t,"weights","denseBincount");xe.hu("int32"===a.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`)),xe.hu(a.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`)),xe.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),xe.hu(s.size===a.size||0===s.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${s.shape}.`));const o={x:a,weights:s},i={size:n,binaryOutput:r};return ge.BV.runKernel(be.QR,o,i)}});var tr=n(6884);const nr=(0,ve.op)({gather_:function(e,t,n=0,r=0){const a={x:(0,we._1)(e,"x","gather"),indices:(0,we._1)(t,"indices","gather","int32")},s={axis:n,batchDims:r};return ge.BV.runKernel(be.qi,a,s)}});var rr=n(7486),ar=n(2676);const sr=(0,ve.op)({stridedSlice_:function(e,t,n,r,a=0,s=0,o=0,i=0,u=0){const c={x:(0,we._1)(e,"x","stridedSlice","string_or_numeric")},l={begin:t,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:u};return ge.BV.runKernel(be.m2,c,l)}});var or=n(9590),ir=n(2991),ur=n(4136),cr=n(7501),lr=n(8644),pr=n(3028);const dr=(0,ve.op)({scatterND_:function(e,t,n){const r=(0,we._1)(e,"indices","scatterND","int32"),a=(0,we._1)(t,"updates","scatterND");pr.validateInput(a,r,n);const s={indices:r,updates:a},o={shape:n};return ge.BV.runKernel(be.xQ,s,o)}});const hr=(0,ve.op)({gatherND_:function(e,t){const n=(0,we._1)(t,"indices","gatherND","int32"),r={params:(0,we._1)(e,"x","gatherND","string_or_numeric"),indices:n};return ge.BV.runKernel(be.q1,r)}});var fr=n(7020),mr=n(8447),yr=n(3710),gr=n(4415);var br=n(1300);const wr=(0,ve.op)({mirrorPad_:function(e,t,n){xe.hu("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=(0,we._1)(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");xe.hu(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const a="reflect"===n?1:0;for(let i=0;i<r.rank;i++)xe.hu(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),xe.hu(t[i][0]>=0&&t[i][0]<=r.shape[i]-a&&t[i][1]>=0&&t[i][1]<=r.shape[i]-a,(()=>`Padding in dimension ${i} cannot be greater than or equal to ${r.shape[i]-a} or less than 0 for input of shape ${r.shape}`));const s={paddings:t,mode:n},o={x:r};return ge.BV.runKernel(be.jQ,o,s)}});const xr=(0,ve.op)({pad_:function(e,t,n=0){const r=(0,we._1)(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},s={x:r};return ge.BV.runKernel(be.ly,s,a)}});const vr=(0,ve.op)({spaceToBatchND_:function(e,t,n){const r=(0,we._1)(e,"x","spaceToBatchND");xe.hu(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),xe.hu(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),xe.hu(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const a={x:r},s={blockShape:t,paddings:n};return ge.BV.runKernel(be.TQ,a,s)}});const _r=(0,ve.op)({batchToSpaceND_:function(e,t,n){const r=(0,we._1)(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));xe.hu(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),xe.hu(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),xe.hu(r.shape[0]%a===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`));const s={x:r},o={blockShape:t,crops:n};return ge.BV.runKernel(be.zw,s,o)}});const Sr=(0,ve.op)({depthToSpace_:function(e,t,n="NHWC"){const r=(0,we._1)(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],s="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];xe.hu(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),xe.hu(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),xe.hu(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),xe.hu(o%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${o} for depthToSpace with input shape ${r.shape}`));const i={x:r},u={blockSize:t,dataFormat:n};return ge.BV.runKernel(be.T0,i,u)}});var kr=n(8247);const Nr=(0,ve.op)({broadcastArgs_:function(e,t){const n=(0,we._1)(e,"s0","broadcastArgs","int32"),r=(0,we._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return ge.BV.runKernel(be.eE,a)}});function Er(e,t,n,r){const a=((e,t,n)=>{switch(e.category){case"arithmetic":return _.lub((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[ye.I(I("a",e,t,n),I("b",e,t,n))];case"AddN":return[_e(I("tensors",e,t,n))];case"FloorMod":case"Mod":return[ke(I("a",e,t,n),I("b",e,t,n))];case"Mul":return[Ne.d(I("a",e,t,n),I("b",e,t,n))];case"RealDiv":case"Div":return[Ee.h(I("a",e,t,n),I("b",e,t,n))];case"DivNoNan":return[Oe(I("a",e,t,n),I("b",e,t,n))];case"FloorDiv":return[De.q(I("a",e,t,n),I("b",e,t,n))];case"Sub":return[Fe.l(I("a",e,t,n),I("b",e,t,n))];case"Minimum":return[Re.L(I("a",e,t,n),I("b",e,t,n))];case"Maximum":return[$e(I("a",e,t,n),I("b",e,t,n))];case"Pow":return[Be.s(I("a",e,t,n),I("b",e,t,n))];case"SquaredDifference":return[Pe.$(I("a",e,t,n),I("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Le.W(I("x",e,t,n))];case"Acos":return[Ve(I("x",e,t,n))];case"Acosh":return[ze(I("x",e,t,n))];case"Asin":return[We(I("x",e,t,n))];case"Asinh":return[Ue(I("x",e,t,n))];case"Atan":return[He(I("x",e,t,n))];case"Atan2":return[je(I("x",e,t,n),I("y",e,t,n))];case"Atanh":return[qe(I("x",e,t,n))];case"Ceil":return[Ze(I("x",e,t,n))];case"Complex":return[Ge.P(I("real",e,t,n),I("imag",e,t,n))];case"Cos":return[Ke(I("x",e,t,n))];case"Cosh":return[Xe(I("x",e,t,n))];case"Elu":return[Qe.p(I("x",e,t,n))];case"Erf":return[Ye(I("x",e,t,n))];case"Exp":return[Je.Q(I("x",e,t,n))];case"Expm1":return[et(I("x",e,t,n))];case"Floor":return[tt(I("x",e,t,n))];case"Log":return[nt.c(I("x",e,t,n))];case"Log1p":return[rt.K(I("x",e,t,n))];case"Imag":return[at.a(I("x",e,t,n))];case"Neg":return[st.W(I("x",e,t,n))];case"Reciprocal":return[ot(I("x",e,t,n))];case"Real":return[it.k(I("x",e,t,n))];case"Relu":return[ut.U(I("x",e,t,n))];case"Round":return[ct.N(I("x",e,t,n))];case"Selu":return[lt(I("x",e,t,n))];case"Sigmoid":return[pt.X(I("x",e,t,n))];case"Sin":return[dt(I("x",e,t,n))];case"Sign":return[ht(I("x",e,t,n))];case"Sinh":return[ft(I("x",e,t,n))];case"Softplus":return[mt(I("x",e,t,n))];case"Sqrt":return[yt._(I("x",e,t,n))];case"Square":return[gt.h(I("x",e,t,n))];case"Tanh":return[bt(I("x",e,t,n))];case"Tan":return[wt(I("x",e,t,n))];case"ClipByValue":return[xt(I("x",e,t,n),I("clipValueMin",e,t,n),I("clipValueMax",e,t,n))];case"Relu6":return[vt.b(I("x",e,t,n))];case"Rsqrt":return[_t(T(e.inputNames[0],t,n))];case"Prod":return[St(I("x",e,t,n),I("axes",e,t,n))];case"LeakyRelu":return[kt.h(I("x",e,t,n),I("alpha",e,t,n))];case"Prelu":return[Nt.A(I("x",e,t,n),I("alpha",e,t,n))];case"IsNan":return[Et(T(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return Ft(e,t,n);case"convolution":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const r=I("stride",e,t,n),a=I("pad",e,t,n),s=I("dataFormat",e,t,n).toUpperCase(),o=I("dilation",e,t,n);return[Bt(I("x",e,t,n),I("filter",e,t,n),r,a,s,o)]}case"Conv2D":{const r=I("strides",e,t,n),a=D(e,t,n),s=I("dataFormat",e,t,n).toUpperCase(),o=I("dilations",e,t,n);return[$t(I("x",e,t,n),I("filter",e,t,n),[r[1],r[2]],a,s,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:s,dilations:o,biasArg:i,preluArg:u,activationFunc:c,leakyreluAlpha:l}=rn(e,t,n);return[Wt({x:I("x",e,t,n),filter:I("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:s,dilations:[o[1],o[2]],bias:i,activation:c,preluActivationWeights:u,leakyreluAlpha:l})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:s,dilations:o,biasArg:i,preluArg:u,activationFunc:c,leakyreluAlpha:l}=rn(e,t,n);return[qt({x:I("x",e,t,n),filter:I("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:s,dilations:[o[1],o[2]],bias:i,activation:c,preluActivationWeights:u,leakyreluAlpha:l})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=I("outputShape",e,t,n),a=I("strides",e,t,n),s=D(e,t,n);return[Kt(I("x",e,t,n),I("filter",e,t,n),r,[a[1],a[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=I("strides",e,t,n),a=D(e,t,n),s=I("dilations",e,t,n),o=I("dataFormat",e,t,n).toUpperCase();return[Ut(I("input",e,t,n),I("filter",e,t,n),[r[1],r[2]],a,o,[s[1],s[2]])]}case"Conv3D":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("dataFormat",e,t,n).toUpperCase(),o=I("dilations",e,t,n);return[Xt(I("x",e,t,n),I("filter",e,t,n),[r[1],r[2],r[3]],a,s,[o[1],o[2],o[3]])]}case"AvgPool":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("kernelSize",e,t,n);return[Qt(I("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("kernelSize",e,t,n);return[Yt(I("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("kernelSize",e,t,n),o=I("includeBatchInIndex",e,t,n),{result:i,indexes:u}=Jt(I("x",e,t,n),[s[1],s[2]],[r[1],r[2]],a,o);return[i,u]}case"AvgPool3D":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("kernelSize",e,t,n);return[en(I("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("kernelSize",e,t,n);return[tn(I("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=I("strides",e,t,n),a=I("pad",e,t,n),s=I("dilations",e,t,n),o=r[1],i=r[2],u=s[1],c=s[2];return[nn(I("x",e,t,n),I("filter",e,t,n),[o,i],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Fill":{const r=I("shape",e,t,n),a=I("dtype",e,t,n),s=I("value",e,t,n);return[an.h(r,s,a)]}case"LinSpace":return[sn(I("start",e,t,n),I("stop",e,t,n),I("num",e,t,n))];case"Multinomial":{const r=I("logits",e,t,n),a=I("numSamples",e,t,n),s=I("seed",e,t,n);return[on(r,a,s)]}case"OneHot":{const r=I("indices",e,t,n),a=I("depth",e,t,n),s=I("onValue",e,t,n),o=I("offValue",e,t,n);return[un(r,a,s,o)]}case"Ones":return[cn.i(I("shape",e,t,n),I("dtype",e,t,n))];case"OnesLike":return[ln(I("x",e,t,n))];case"RandomUniform":return[mn(I("shape",e,t,n),I("minval",e,t,n),I("maxval",e,t,n),I("dtype",e,t,n))];case"Range":{const r=I("start",e,t,n),a=I("stop",e,t,n),s=I("step",e,t,n);return[yn.w(r,a,s,I("dtype",e,t,n))]}case"TruncatedNormal":{const r=I("shape",e,t,n),a=I("mean",e,t,n),s=I("stdDev",e,t,n),o=I("seed",e,t,n);return[gn(r,a,s,I("dtype",e,t,n),o)]}case"Zeros":return[bn.l(I("shape",e,t,n),I("dtype",e,t,n))];case"ZerosLike":return[Me.P(I("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:o,scoreThreshold:i,softNmsSigma:u}=Sn(e,t,n),c=await wn.BHj.nonMaxSuppressionWithScoreAsync(r,a,s,o,i,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:o,scoreThreshold:i}=Sn(e,t,n),u=I("padToMaxOutputSize",e,t,n),c=await wn.BHj.nonMaxSuppressionPaddedAsync(r,a,s,o,i,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:a,maxOutputSize:s,iouThreshold:o,scoreThreshold:i}=Sn(e,t,n);return[await wn.BHj.nonMaxSuppressionAsync(r,a,s,o,i)]}case"Where":{const r=Ce.p(I("condition",e,t,n),"bool"),a=[await xn(r)];return r.dispose(),a}case"ListDiff":return _n(I("x",e,t,n),I("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return _.lub((()=>((e,t,n)=>{switch(e.op){case"TopKV2":{const r=I("x",e,t,n),a=I("k",e,t,n),s=I("sorted",e,t,n),o=kn(r,a,s);return[o.values,o.indices]}case"Unique":{const r=I("x",e,t,n),a=Nn(r);return[a.values,a.indices]}case"UniqueV2":{const r=I("x",e,t,n),a=I("axis",e,t,n),s=Nn(r,a);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return _.lub((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const r=I("images",e,t,n),a=I("size",e,t,n),s=I("alignCorners",e,t,n),o=I("halfPixelCenters",e,t,n);return[wn.BHj.resizeBilinear(r,[a[0],a[1]],s,o)]}case"ResizeNearestNeighbor":{const r=I("images",e,t,n),a=I("size",e,t,n),s=I("alignCorners",e,t,n),o=I("halfPixelCenters",e,t,n);return[wn.BHj.resizeNearestNeighbor(r,[a[0],a[1]],s,o)]}case"CropAndResize":{const r=I("image",e,t,n),a=I("boxes",e,t,n),s=I("boxInd",e,t,n),o=I("cropSize",e,t,n),i=I("method",e,t,n),u=I("extrapolationValue",e,t,n);return[wn.BHj.cropAndResize(r,a,s,o,i,u)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=I("default",e,t,n);return[T(e.name,t,n)||r];case"Placeholder":return[T(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[F(I("x",e,t,n))];case"IdentityN":return I("x",e,t,n).map((e=>F(e)));case"Snapshot":return[F(I("x",e,t,n))];case"Shape":return[En.R(I("x",e,t,n).shape,"int32")];case"ShapeN":return I("x",e,t,n).map((e=>En.R(e.shape)));case"Size":return[In.i(I("x",e,t,n).size,"int32")];case"Rank":return[In.i(I("x",e,t,n).rank,"int32")];case"NoOp":return[In.i(1)];case"Print":const a=I("x",e,t,n),s=I("data",e,t,n),o=I("message",e,t,n),i=I("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,i));return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Equal":return[Te(I("a",e,t,n),I("b",e,t,n))];case"NotEqual":return[An.Q(I("a",e,t,n),I("b",e,t,n))];case"Greater":return[Mn.p(I("a",e,t,n),I("b",e,t,n))];case"GreaterEqual":return[On.b(I("a",e,t,n),I("b",e,t,n))];case"Less":return[Dn(I("a",e,t,n),I("b",e,t,n))];case"LessEqual":return[Fn.z(I("a",e,t,n),I("b",e,t,n))];case"LogicalAnd":return[Rn.H(I("a",e,t,n),I("b",e,t,n))];case"LogicalNot":return[Cn(I("a",e,t,n))];case"LogicalOr":return[$n(I("a",e,t,n),I("b",e,t,n))];case"Select":case"SelectV2":return[Ae.a(I("condition",e,t,n),I("a",e,t,n),I("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return _.lub((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Zt.O(I("a",e,t,n),I("b",e,t,n),I("transposeA",e,t,n),I("transposeB",e,t,n))];case"Einsum":return[Bn(I("equation",e,t,n),...I("tensors",e,t,n))];case"Transpose":return[Pn.p(I("x",e,t,n),I("perm",e,t,n))];case"_FusedMatMul":const[r,a]=I("fusedOps",e,t,n),s="biasadd"===r,o="prelu"===a,i=I("numArgs",e,t,n),u=I("leakyreluAlpha",e,t,n);if(s){if(o&&2!==i)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==i)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,l]=I("args",e,t,n);return[Gt({a:I("a",e,t,n),b:I("b",e,t,n),transposeA:I("transposeA",e,t,n),transposeB:I("transposeB",e,t,n),bias:c,activation:a,preluActivationWeights:l,leakyreluAlpha:u})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return _.lub((()=>((e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Ln(I("x",e,t,n),I("mean",e,t,n),I("variance",e,t,n),I("offset",e,t,n),I("scale",e,t,n),I("epsilon",e,t,n))];case"LRN":return[Vn(I("x",e,t,n),I("radius",e,t,n),I("bias",e,t,n),I("alpha",e,t,n),I("beta",e,t,n))];case"Softmax":return[zn(I("x",e,t,n))];case"LogSoftmax":return[Hn(I("x",e,t,n))];case"SparseToDense":return[jn(I("sparseIndices",e,t,n),I("outputShape",e,t,n),I("sparseValues",e,t,n),I("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Max":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[Wn.F(I("x",e,t,n),r,a)]}case"Mean":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[qn.J(I("x",e,t,n),r,a)]}case"Min":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[Zn.V(I("x",e,t,n),r,a)]}case"Sum":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[Un.S(I("x",e,t,n),r,a)]}case"All":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[Gn(I("x",e,t,n),r,a)]}case"Any":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[Kn(I("x",e,t,n),r,a)]}case"ArgMax":{const r=I("axis",e,t,n);return[Xn(I("x",e,t,n),r)]}case"ArgMin":{const r=I("axis",e,t,n);return[Qn(I("x",e,t,n),r)]}case"Prod":{const r=I("axis",e,t,n),a=I("keepDims",e,t,n);return[St(I("x",e,t,n),r,a)]}case"Cumsum":{const r=I("axis",e,t,n),a=I("exclusive",e,t,n),s=I("reverse",e,t,n);return[Yn(I("x",e,t,n),r,a,s)]}case"Bincount":const r=I("x",e,t,n),a=I("weights",e,t,n),s=I("size",e,t,n);return[Jn.y(r,a,s)];case"DenseBincount":{const r=I("x",e,t,n),a=I("weights",e,t,n),s=I("size",e,t,n),o=I("binaryOutput",e,t,n);return[er(r,a,s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return _.lub((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=I("n",e,t,n),a=I("axis",e,t,n);let s=I("tensors",e,t,n);return s=s.slice(0,r),[tr.z(s,a)]}case"Gather":{const r=I("x",e,t,n),a=I("indices",e,t,n);return[nr(r,Ce.p(a,"int32"),0)]}case"GatherV2":{const r=I("axis",e,t,n),a=I("batchDims",e,t,n),s=I("x",e,t,n),o=I("indices",e,t,n);return[nr(s,Ce.p(o,"int32"),r,a)]}case"Reverse":{const r=I("dims",e,t,n),a=[];for(let e=0;e<r.length;e++)r[e]&&a.push(e);const s=I("x",e,t,n);return[rr.G(s,a)]}case"ReverseV2":{const r=I("axis",e,t,n),a=I("x",e,t,n);return[rr.G(a,r)]}case"Slice":{const r=I("begin",e,t,n),a=I("size",e,t,n);return[ar.t(I("x",e,t,n),r,a)]}case"StridedSlice":{const r=I("begin",e,t,n),a=I("end",e,t,n),s=I("strides",e,t,n),o=I("beginMask",e,t,n),i=I("endMask",e,t,n),u=I("ellipsisMask",e,t,n),c=I("newAxisMask",e,t,n),l=I("shrinkAxisMask",e,t,n),p=I("x",e,t,n);return[sr(p,r,a,s,o,i,u,c,l)]}case"Pack":return(0,_.lub)((()=>{const r=I("axis",e,t,n),a=I("tensors",e,t,n),s=a[0].shape,o=or.L(a[0]).shape,i=a.map((e=>{const t=_.D5U.arraysEqual(e.shape,s);if(!t&&!_.D5U.arraysEqual(or.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:Ct.X(e,s)}));return[ir.k(i,r)]}));case"Unpack":{const r=I("axis",e,t,n),a=I("tensor",e,t,n);return ur.H(a,r)}case"Tile":{const r=I("reps",e,t,n);return[cr.G(I("x",e,t,n),r)]}case"Split":case"SplitV":{const r=I("axis",e,t,n),a=I("numOrSizeSplits",e,t,n),s=I("x",e,t,n);return lr.V(s,a,r)}case"ScatterNd":{const r=I("indices",e,t,n),a=I("values",e,t,n),s=I("shape",e,t,n);return[dr(r,a,s)]}case"GatherNd":{const r=I("x",e,t,n),a=I("indices",e,t,n);return[hr(r,a)]}case"SparseToDense":{const r=I("sparseIndices",e,t,n),a=I("outputShape",e,t,n),s=I("sparseValues",e,t,n),o=I("defaultValue",e,t,n);return[jn(r,s,a,s.dtype===o.dtype?o:Ce.p(o,s.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return _.lub((()=>((e,t,n)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:s,reverseIndexMap:o}=wn.rVs.sparseFillEmptyRows(I("indices",e,t,n),I("values",e,t,n),I("denseShape",e,t,n),I("defaultValue",e,t,n));return[r,a,s,o]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=wn.rVs.sparseReshape(I("inputIndices",e,t,n),I("inputShape",e,t,n),I("newShape",e,t,n));return[r,a]}case"SparseSegmentMean":return[wn.rVs.sparseSegmentMean(I("data",e,t,n),I("indices",e,t,n),I("segmentIds",e,t,n))];case"SparseSegmentSum":return[wn.rVs.sparseSegmentSum(I("data",e,t,n),I("indices",e,t,n),I("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return _.lub((()=>((e,t,n)=>{switch(e.op){case"FFT":return[fr.k(I("x",e,t,n))];case"IFFT":return[mr.S(I("x",e,t,n))];case"RFFT":return[yr.Q(I("x",e,t,n))];case"IRFFT":return[gr.w(I("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return _.lub((()=>((e,t,n)=>{switch(e.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=wn.Z_8.stringNGrams(I("data",e,t,n),I("dataSplits",e,t,n),I("separator",e,t,n),I("nGramWidths",e,t,n),I("leftPad",e,t,n),I("rightPad",e,t,n),I("padWidth",e,t,n),I("preserveShortSequences",e,t,n));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:s}=wn.Z_8.stringSplit(I("input",e,t,n),I("delimiter",e,t,n),I("skipEmpty",e,t,n));return[r,a,s]}case"StringToHashBucketFast":return[wn.Z_8.stringToHashBucketFast(I("input",e,t,n),I("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return _.lub((()=>((e,t,n)=>{switch(e.op){case"Cast":return[Ce.p(I("x",e,t,n),I("dtype",e,t,n))];case"ExpandDims":{const r=I("axis",e,t,n);return[br.d(I("x",e,t,n),r)]}case"Squeeze":{const r=I("axis",e,t,n);return[or.L(I("x",e,t,n),r)]}case"Reshape":return[Ct.X(I("x",e,t,n),I("shape",e,t,n))];case"MirrorPad":return[wr(I("x",e,t,n),I("padding",e,t,n),I("mode",e,t,n))];case"PadV2":case"Pad":return[xr(I("x",e,t,n),I("padding",e,t,n),I("constantValue",e,t,n))];case"SpaceToBatchND":{const r=I("blockShape",e,t,n),a=I("paddings",e,t,n);return[vr(I("x",e,t,n),r,a)]}case"BatchToSpaceND":{const r=I("blockShape",e,t,n),a=I("crops",e,t,n);return[_r(I("x",e,t,n),r,a)]}case"DepthToSpace":{const r=I("blockSize",e,t,n),a=I("dataFormat",e,t,n).toUpperCase();return[Sr(I("x",e,t,n),r,a)]}case"BroadcastTo":return[kr.U(I("x",e,t,n),I("shape",e,t,n))];case"BroadcastArgs":return[Nr(I("s0",e,t,n),I("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=I("keyDType",e,t,n),s=I("valueDType",e,t,n),o=new Tn(a,s);return r.addHashTable(e.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const a=I("tableHandle",e,t,n,r),s=I("keys",e,t,n),o=I("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const a=I("tableHandle",e,t,n,r),s=I("keys",e,t,n),o=I("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(s,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=I("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const a=E(e.op);if(a&&a.customExecutor)return a.customExecutor(new me(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return _.D5U.isPromise(a)?a.then((e=>[].concat(e))):[].concat(a)}class Ir{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Tr(e,t,n,r){const a=new Set,s=[];let o=null,i=null;const u=new Set,c=Object.keys(e).map((e=>O(e)[0]));let l=[];null!=r&&(l=r.map((e=>O(e.name)[0])));const p=[...t];for(;p.length>0;){const e=p.pop();(Dr(e)||Fr(e)||Rr(e))&&null==o&&(o=e,i=o.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(-1===c.indexOf(e.name)&&-1===l.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{u.has(e.name)||(u.add(e.name),p.push(e))})):s.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:i}}const Ar=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Mr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Or=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Dr(e){return Ar.indexOf(e.op)>=0}function Fr(e){return Mr.indexOf(e.op)>=0}function Rr(e){return Or.indexOf(e.op)>=0}class Cr{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Cr(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=Tr(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:s}=n;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${a}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:a}=n,s=[],o=Object.keys(a).map((e=>O(e)[0])).map((t=>e.nodes[t])),i=e.initNodes;o.forEach((e=>{r.has(e.name)&&s.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&s.push(e)})),null!=i&&i.forEach((e=>{r.has(e.name)&&s.push(e)}));const u=new Set,c=[];for(;s.length>0;){const e=s.pop();u.add(e.name),t[e.name]||c.push(e),e.children.forEach((e=>{!u.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>u.has(e.name)))&&s.push(e)}))}return c}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[O(e)[0]])),a=t.map((e=>O(e)[0]));let s=a.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===s.length&&(s=this._outputs);const o=this.getCompilationKey(r,s);let i=this.compiledMap.get(o);null==i&&(i=this.compile(e,s),this.compiledMap.set(o,i));const u={},c={};return(0,_.lub)((()=>{const n=new Ir(this.weightMap,u,c,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=O(t),s=[];s[a]=e[t],r[n]=s}));const s=this.getFrozenTensorIds(r),o={};for(let e=0;e<i.length;e++){const t=i[e];if(!r[t.name]){const e=Er(t,r,n,this._resourceManager);if(_.D5U.isPromise(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,s,a,o)}}return null==this.parent&&n.dispose(s),t.map((e=>T(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,s,o){"control"!==t.category&&-1===s.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const s=function(e,t,n){return t[M(e,n.currentContextId)]}(e.name,n,r);null!=s&&s.forEach((e=>{if(e&&!e.kept&&!a.has(e.id)){const n=o[e.id];if(1===n){if(this.keepTensorForDebug){const[n,a]=A(t.name,r);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][a]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,r={},a={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=(0,_.OBj)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();const s=new Ir(this.weightMap,r,a,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,s,t,n);const o=t.map((e=>T(e,this.tensorsMap,s))),i=o.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...i,...u,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&s.dispose(this.keepIds),o}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),s=a.map((e=>this.graph.nodes[O(e)[0]])),o=n.map((e=>O(e)[0]));let i=o.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:l,syncInputs:p}=Tr(e,i,this.weightMap,this._initNodes),d=[...s,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),h=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=O(t),a=[];a[r]=e[t],h[n]=a}));const f={},m=this.getFrozenTensorIds(h),y={};for(;d.length>0;){const e=this.processStack(s,d,t,h,y,m,o,f,u);await Promise.all(e)}null!=l||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const g=i.filter((e=>!Dr(e)&&!T(e.name,h,t))).map((e=>e.name));if(g.length>0){let e="";throw null!=l&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${g}] from the provided inputs [${a}]. Consider providing the following inputs: [${c}]. ${e}`)}return h}processStack(e,t,n,r,a,s,o,i,u){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let l="";if("Enter"===e.node.op&&I("isConstant",e.node,r,n)&&([l]=A(e.node.name,n)),null==r[e.node.name]){const p=Er(e.node,r,n,this._resourceManager);l||([l]=A(e.node.name,n));const d=n.currentContext;_.D5U.isPromise(p)?c.push(p.then((c=>(r[l]=c,n.currentContext=d,this.checkTensorForDisposal(l,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,u),c)))):(r[l]=p,this.checkTensorForDisposal(l,e.node,r,n,s,o,i),this.processChildNodes(e.node,t,n,r,a,u))}else this.processChildNodes(e.node,t,n,r,a,u)}return c}processChildNodes(e,t,n,r,a,s){e.children.forEach((e=>{const[o]=A(e.name,n);!a[o]&&s.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!T(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!T(e,r,n)))&&(a[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=O(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));_.D5U.assert(t,(()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}a.attrParams.dtype&&a.attrParams.dtype.value&&_.D5U.assert(n.dtype===a.attrParams.dtype.value,(()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=O(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=O(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class $r{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class Br{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new $r}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=_.io.browserHTTPRequest(e,this.loadOptions);else{const t=_.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(_.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=_.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Cr(ee.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=ee.Instance.transformGraph(e.modelInitializer);this.initializer=new Cr(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"===typeof e){const t=_.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof _.esB)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function Pr(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}model.json?tfjs-format=file`);const n=new Br(e,t);return await n.load(),n}function Lr(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))}function Vr(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}var zr=function(e){return{startEndTensor:e,startPoint:(0,_.tPi)(e,[0,0],[-1,2]),endPoint:(0,_.tPi)(e,[0,2],[-1,2])}},Wr={strides:[8,16],anchors:[2,6]};function Ur(e,t){var n,r,a;if(e.topLeft instanceof _.esB&&e.bottomRight instanceof _.esB){var s=(0,_.lub)((function(){return[(0,_.zoF)([(0,_.tPi)((0,_.luU)(t-1,e.topLeft),0,1),(0,_.tPi)(e.topLeft,1,1)]),(0,_.zoF)([(0,_.luU)(t-1,(0,_.tPi)(e.bottomRight,0,1)),(0,_.tPi)(e.bottomRight,1,1)])]}));n=s[0],r=s[1],null!=e.landmarks&&(a=(0,_.lub)((function(){var n=(0,_.luU)((0,_.RRF)([t-1,0]),e.landmarks),r=(0,_.RRF)([1,-1]);return(0,_.dC7)(n,r)})))}else{var o=e.topLeft,i=o[0],u=o[1],c=e.bottomRight,l=c[0],p=c[1];n=[t-1-i,u],r=[t-1-l,p],null!=e.landmarks&&(a=e.landmarks.map((function(e){return[t-1-e[0],e[1]]})))}var d={topLeft:n,bottomRight:r};return null!=a&&(d.landmarks=a),null!=e.probability&&(d.probability=e.probability instanceof _.esB?e.probability.clone():e.probability),d}function Hr(e,t){return(0,_.lub)((function(){var n;return n=e.hasOwnProperty("box")?e.box:e,(0,_.L9e)(function(e,t){var n=(0,_.dC7)(e.startPoint,t),r=(0,_.dC7)(e.endPoint,t),a=(0,_.Izb)([n,r],1);return zr(a)}(n,t).startEndTensor)}))}var jr=function(){function e(e,t,n,r,a,s){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=r,this.anchorsData=function(e,t,n){for(var r=[],a=0;a<n.strides.length;a++)for(var s=n.strides[a],o=Math.floor((t+s-1)/s),i=Math.floor((e+s-1)/s),u=n.anchors[a],c=0;c<o;c++)for(var l=s*(c+.5),p=0;p<i;p++)for(var d=s*(p+.5),h=0;h<u;h++)r.push([d,l]);return r}(t,n,Wr),this.anchors=(0,_.odF)(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=(0,_.RRF)([t,n]),this.iouThreshold=a,this.scoreThreshold=s}return e.prototype.getBoundingBoxes=function(e,t,n){return void 0===n&&(n=!0),Lr(this,void 0,void 0,(function(){var r,a,s,o,i,u,c,l,p,d,h,f,m,y,g=this;return Vr(this,(function(b){switch(b.label){case 0:return r=(0,_.lub)((function(){var t=_.BHj.resizeBilinear(e,[g.width,g.height]),n=(0,_.dC7)((0,_.luU)((0,_.hiC)(t,255),.5),2),r=g.blazeFaceModel.predict(n),a=(0,_.L9e)(r),s=function(e,t,n){var r=(0,_.tPi)(e,[0,1],[-1,2]),a=(0,_.IHx)(r,t),s=(0,_.tPi)(e,[0,3],[-1,2]),o=(0,_.hiC)(s,n),i=(0,_.hiC)(a,n),u=(0,_.hiC)(o,2),c=(0,_.luU)(i,u),l=(0,_.IHx)(i,u),p=(0,_.dC7)(c,n),d=(0,_.dC7)(l,n);return(0,_.Izb)([p,d],1)}(a,g.anchors,g.inputSize),o=(0,_.tPi)(a,[0,0],[-1,1]);return[a,s,(0,_.L9e)((0,_.XD2)(o))]})),a=r[0],s=r[1],o=r[2],i=console.warn,console.warn=function(){},u=_.BHj.nonMaxSuppression(s,o,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=i,[4,u.array()];case 1:return c=b.sent(),u.dispose(),l=c.map((function(e){return(0,_.tPi)(s,[e,0],[1,-1])})),t?[3,3]:[4,Promise.all(l.map((function(e){return Lr(g,void 0,void 0,(function(){var t;return Vr(this,(function(n){switch(n.label){case 0:return[4,e.array()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 2:l=b.sent(),b.label=3;case 3:for(p=e.shape[1],d=e.shape[2],h=t?(0,_.hiC)([d,p],this.inputSize):[d/this.inputSizeData[0],p/this.inputSizeData[1]],f=[],m=function(e){var r=l[e],s=(0,_.lub)((function(){var s=zr(r instanceof _.esB?r:(0,_.odF)(r));if(!n)return s;var i,u=c[e];return i=t?(0,_.tPi)(g.anchors,[u,0],[1,2]):g.anchorsData[u],{box:s,landmarks:(0,_.XLQ)((0,_.L9e)((0,_.tPi)(a,[u,5],[1,-1])),[6,-1]),probability:(0,_.tPi)(o,[u],[1]),anchor:i}}));f.push(s)},y=0;y<l.length;y++)m(y);return s.dispose(),o.dispose(),a.dispose(),[2,{boxes:f,scaleFactor:h}]}}))}))},e.prototype.estimateFaces=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),Lr(this,void 0,void 0,(function(){var a,s,o,i,u,c,l=this;return Vr(this,(function(p){switch(p.label){case 0:return a=function(e){return e instanceof _.esB?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),s=a[1],o=(0,_.lub)((function(){return e instanceof _.esB||(e=_.Xhn.fromPixels(e)),(0,_.dt4)((0,_.pju)(e,"float32"),0)})),[4,this.getBoundingBoxes(o,t,r)];case 1:return i=p.sent(),u=i.boxes,c=i.scaleFactor,o.dispose(),t?[2,u.map((function(e){var t=Hr(e,c),a={topLeft:(0,_.tPi)(t,[0],[2]),bottomRight:(0,_.tPi)(t,[2],[2])};if(r){var o=e,i=o.landmarks,u=o.probability,l=o.anchor,p=(0,_.dC7)((0,_.IHx)(i,l),c);a.landmarks=p,a.probability=u}return n&&(a=Ur(a,s)),a}))]:[2,Promise.all(u.map((function(e){return Lr(l,void 0,void 0,(function(){var t,a,o,i,u,l,p,d,h,f,m,y=this;return Vr(this,(function(g){switch(g.label){case 0:return t=Hr(e,c),r?[3,2]:[4,t.array()];case 1:return u=g.sent(),a={topLeft:u.slice(0,2),bottomRight:u.slice(2)},[3,4];case 2:return[4,Promise.all([e.landmarks,t,e.probability].map((function(e){return Lr(y,void 0,void 0,(function(){return Vr(this,(function(t){return[2,e.array()]}))}))})))];case 3:o=g.sent(),i=o[0],u=o[1],l=o[2],p=e.anchor,h=(d=c)[0],f=d[1],m=i.map((function(e){return[(e[0]+p[0])*h,(e[1]+p[1])*f]})),a={topLeft:u.slice(0,2),bottomRight:u.slice(2),landmarks:m,probability:l},function(e){e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()}(e.box),e.landmarks.dispose(),e.probability.dispose(),g.label=4;case 4:return t.dispose(),n&&(a=Ur(a,s)),[2,a]}}))}))})))]}}))}))},e}();function qr(e){var t=void 0===e?{}:e,n=t.maxFaces,r=void 0===n?10:n,a=t.inputWidth,s=void 0===a?128:a,o=t.inputHeight,i=void 0===o?128:o,u=t.iouThreshold,c=void 0===u?.3:u,l=t.scoreThreshold,p=void 0===l?.75:l,d=t.modelUrl;return Lr(this,void 0,void 0,(function(){var e;return Vr(this,(function(t){switch(t.label){case 0:return null==d?[3,2]:[4,Pr(d)];case 1:return e=t.sent(),[3,4];case 2:return[4,Pr("https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1",{fromTFHub:!0})];case 3:e=t.sent(),t.label=4;case 4:return[2,new jr(e,s,i,r,c,p)]}}))}))}},3835:function(e,t,n){"use strict";n.d(t,{_1:function(){return In},Ye:function(){return Mn}});var r,a,s=n(7228);let o;!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(r||(r={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(a||(a={}));const i={kernelName:s.usg,backendName:"wasm",setupFunc:function(e){o=e.wasm.cwrap(s.usg,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:i,b:u,bias:c,preluActivationWeights:l}=t;if("float32"!==i.dtype||"float32"!==u.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:p,transposeB:d,activation:h,leakyreluAlpha:f}=r,m=n.dataIdMap.get(i.dataId).id,y=n.dataIdMap.get(u.dataId).id;let g=0;if(null!=c){const e=n.dataIdMap.get(c.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);g=e.id}const b=null==l?0:n.dataIdMap.get(l.dataId).id,w=a[h];if(null==w)throw new Error(`${h} activation not yet supported for FusedConv2D in the wasm backend.`);const x=p?i.shape[2]:i.shape[1],v=d?u.shape[1]:u.shape[2],_=s.Jyw.assertAndGetBroadcastShape(i.shape.slice(0,-2),u.shape.slice(0,-2)),S=n.makeOutput([..._,x,v],i.dtype),k=n.dataIdMap.get(S.dataId).id,N=new Uint8Array(new Int32Array(i.shape).buffer),E=new Uint8Array(new Int32Array(u.shape).buffer);return o(m,N,i.shape.length,y,E,u.shape.length,p,d,w,g,b,f||0,k),S}};function u(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:a,inputs:{x:o}}=e,i=a.dataIdMap.get(o.dataId).id,u=a.makeOutput(o.shape,t||o.dtype),c=a.dataIdMap.get(u.dataId).id;return 0===s.D5U.sizeFromShape(u.shape)||n(i,r[o.dtype],c),u}}}const c=u(s.SYM);function l(e,t,n){let a;return{kernelName:e,backendName:"wasm",setupFunc:function(t){a=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:o}=e,{a:i,b:u}=o,c=t.dataIdMap.get(i.dataId).id,l=t.dataIdMap.get(u.dataId).id,p=null!=n?n:i.dtype,d=s.Wap.assertAndGetBroadcastShape(i.shape,u.shape),h=t.makeOutput(d,p);if(0===s.D5U.sizeFromShape(d))return h;const f=new Uint8Array(new Int32Array(i.shape).buffer),m=new Uint8Array(new Int32Array(u.shape).buffer),y=t.dataIdMap.get(h.dataId).id;return a(c,f,i.shape.length,l,m,u.shape.length,r[i.dtype],y),h}}}const p=l(s.mm_);let d;const h={kernelName:s.Xze,backendName:"wasm",setupFunc:function(e){d=e.wasm.cwrap(s.Xze,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,a=n.makeOutput(t[0].shape,t[0].dtype);if(0===s.D5U.sizeFromShape(a.shape))return a;const o=t.map((e=>n.dataIdMap.get(e.dataId).id)),i=new Uint8Array(new Int32Array(o).buffer),u=n.dataIdMap.get(a.dataId).id;return d(i,o.length,r[a.dtype],u),a}};function f(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}const m={kernelName:s.iJz,backendName:"wasm",kernelFunc:f};let y;function g(e){const{inputs:t,backend:n,attrs:a}=e,[s,o]=function(e,t){const n=[],r=[];for(let a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(let a=0;a<r.length;++a){let e=-1;for(let t=0;t<r.length;++t)r[t]>=a&&(-1===e||r[e]>r[t])&&(e=t);r[e]=a}return[n,r]}(t.x.shape,a.perm);let i=!0;for(let r=0;r<o.length;r++)o[r]!==r&&(i=!1);const u=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,a.perm),c={dataId:t.x.dataId,shape:s,dtype:t.x.dtype};if(i){const e=f({inputs:t,backend:n});return e.shape=u,e}const l=n.makeOutput(u,c.dtype),p=n.dataIdMap.get(c.dataId).id,d=n.dataIdMap.get(l.dataId).id,h=new Uint8Array(new Int32Array(o).buffer),m=new Uint8Array(new Int32Array(c.shape).buffer);return y(p,m,c.shape.length,r[c.dtype],d,h,o.length),l}const b={kernelName:s.G3Y,backendName:"wasm",kernelFunc:g,setupFunc:function(e){y=e.wasm.cwrap(s.G3Y,null,["number","array","number","number","number","array","number"])}};function w(e,t,n){const r=e.shape,a=e.shape.length,o=s.D5U.parseAxisParam(t,r);let i=o;const u=s.Wap.getAxesPermutation(i,a);let c=null,l=!1;if(null!=u){const t=new Array(a);for(let e=0;e<t.length;e++)t[e]=r[u[e]];i=s.Wap.getInnerMostAxes(i.length,a),c=g({inputs:{x:e},attrs:{perm:u},backend:n});const o=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(c.dataId).id!==o&&(l=!0)}return{transposed:c,originalAxes:o,axes:i,inputWasTransposed:l}}let x;const v={kernelName:s.oT6,backendName:"wasm",setupFunc:function(e){x=e.wasm.cwrap(s.oT6,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n;let u=t.dataIdMap.get(i.dataId).id,c=i;const{transposed:l,axes:p,originalAxes:d,inputWasTransposed:h}=w(i,a,t);if(h){c=l,u=t.dataIdMap.get(l.dataId).id}const f=c.shape.length;s.Wap.assertAxesAreInnerMostDims("all",p,f);const[m,y]=s.Wap.computeOutAndReduceShapes(c.shape,p),g=s.D5U.sizeFromShape(y),b=t.makeOutput(m,i.dtype);if(0!==s.D5U.sizeFromShape(c.shape)){const e=t.dataIdMap.get(b.dataId).id;x(u,g,e)}if(h&&t.disposeData(l.dataId),o){const e=s.Wap.expandShapeToKeepDim(b.shape,d);b.shape=e}return b}};let _;const S={kernelName:s.IKK,backendName:"wasm",setupFunc:function(e){_=e.wasm.cwrap(s.IKK,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n;let u=t.dataIdMap.get(i.dataId).id,c=i;const{transposed:l,axes:p,originalAxes:d,inputWasTransposed:h}=w(i,a,t);if(h){c=l,u=t.dataIdMap.get(l.dataId).id}const f=c.shape.length;s.Wap.assertAxesAreInnerMostDims("any",p,f);const[m,y]=s.Wap.computeOutAndReduceShapes(c.shape,p),g=s.D5U.sizeFromShape(y),b=t.makeOutput(m,i.dtype);if(0!==s.D5U.sizeFromShape(c.shape)){const e=t.dataIdMap.get(b.dataId).id;_(u,g,e)}if(h&&t.disposeData(l.dataId),o){const e=s.Wap.expandShapeToKeepDim(b.shape,d);b.shape=e}return b}};let k;const N={kernelName:s.sJF,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:o}=a,{x:i}=n,u=t.dataIdMap.get(i.dataId).id;let c=u,l=i;const{transposed:p,axes:d,inputWasTransposed:h}=w(i,o,t);if(h){const e=t.dataIdMap.get(p.dataId).id;e!==u&&(l=p,c=e)}const f=l.shape.slice(0,-1),m=t.makeOutput(f,"int32"),y=t.dataIdMap.get(m.dataId).id,g=s.D5U.sizeFromShape(m.shape),b=l.shape[d[0]];return k(c,r[l.dtype],g,b,y),h&&t.disposeData(p.dataId),m},setupFunc:function(e){k=e.wasm.cwrap(s.sJF,null,["number","number","number","number","number"])}};let E;const I={kernelName:s.JhU,backendName:"wasm",setupFunc:function(e){E=e.wasm.cwrap(s.JhU,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:i,strides:u,pad:c,dimRoundingMode:l}=n,p=s.Wap.computePool2DInfo(a.shape,i,u,1,c,l),d=p.filterHeight,h=p.filterWidth,f=p.padInfo.top,m=p.padInfo.right,y=p.padInfo.bottom,g=p.padInfo.left,b=p.strideHeight,w=p.strideWidth,x=p.inChannels;if("channelsLast"!==p.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${p.dataFormat}'. Please use 'channelsLast'.`);if(1!==p.dilationWidth||1!==p.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${p.dilationHeight}, ${p.dilationWidth}].`);const v=r.makeOutput(p.outShape,"float32"),_=r.dataIdMap.get(v.dataId).id;return E(o,a.shape[0],a.shape[1],a.shape[2],d,h,f,m,y,g,b,w,x,_),v}};function T(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,o=s.D5U.sizeFromShape(r.shape),i=s.D5U.inferFromImplicitShape(a,o);return s.D5U.assert(o===s.D5U.sizeFromShape(i),(()=>`new shape: ${i}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`)),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:i,dtype:r.dtype}}const A={kernelName:s.HZH,backendName:"wasm",kernelFunc:T};let M;const O={kernelName:s.XLW,backendName:"wasm",setupFunc:function(e){M=e.wasm.cwrap(s.XLW,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:i,transposeB:u}=r;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const c=a.shape.length,l=o.shape.length,p=i?a.shape[c-2]:a.shape[c-1],d=u?o.shape[l-1]:o.shape[l-2],h=i?a.shape[c-1]:a.shape[c-2],f=u?o.shape[l-2]:o.shape[l-1],m=a.shape.slice(0,-2),y=o.shape.slice(0,-2),g=s.D5U.sizeFromShape(m),b=s.D5U.sizeFromShape(y),w=s.Jyw.assertAndGetBroadcastShape(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,f]);s.D5U.assert(p===d,(()=>`Error in matMul: inner shapes (${p}) and (${d}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${i} and transposeB=${u} must match.`));const x=u?[b,f,d]:[b,d,f],v=T({inputs:{x:a},backend:n,attrs:{shape:i?[g,p,h]:[g,h,p]}}),_=T({inputs:{x:o},backend:n,attrs:{shape:x}}),S=n.dataIdMap.get(v.dataId).id,k=n.dataIdMap.get(_.dataId).id,N=i?v.shape[2]:v.shape[1],E=u?_.shape[1]:_.shape[2],I=Math.max(g,b),A=n.makeOutput([I,N,E],v.dtype),O=n.dataIdMap.get(A.dataId).id,D=new Uint8Array(new Int32Array(v.shape).buffer),F=new Uint8Array(new Int32Array(_.shape).buffer);return M(S,D,v.shape.length,k,F,_.shape.length,i,u,O),n.disposeData(v.dataId),n.disposeData(_.dataId),A.shape=w,A}};function D(e,t,n,r,a){const o=s.kuN.isSliceContinous(r,t,n),i=s.D5U.sizeFromShape(n),u=s.D5U.computeStrides(r);if(o){const n=s.kuN.computeFlatOffset(t,u);return"string"===a?e.slice(n,n+i):e.subarray(n,n+i)}const c="string"===a?s.Wap.fromUint8ToStringArray(e):e,l=(0,s.f3b)(r,a,c),p=(0,s.f3b)(n,a);for(let s=0;s<p.size;++s){const e=p.indexToLoc(s),n=e.map(((e,n)=>e+t[n]));p.set(l.get(...n),...e)}return"string"===a?s.Wap.fromStringArrayToUint8(p.values):p.values}s.p2w;function F(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[o,i]=s.kuN.parseSliceParams(t,n,r),u=s.kuN.isSliceContinous(t.shape,o,i),c=a.readSync(t.dataId),l=a.makeOutput(i,t.dtype),p=s.D5U.computeStrides(t.shape),d=a.dataIdMap.get(l.dataId);if(u){const e=s.kuN.computeFlatOffset(o,p);if("string"===t.dtype)d.stringBytes=c.slice(e,e+s.D5U.sizeFromShape(i));else{a.typedArrayFromHeap(l).set(c.subarray(e,e+s.D5U.sizeFromShape(i)))}return l}if("string"===t.dtype){const e=D(c,o,i,t.shape,t.dtype);return d.stringBytes=e,l}const h=a.typedArrayFromHeap(l),f=t.shape.length;if(2===f)!function(e,t,n,r,a){let s=0;const o=r[0],i=r[1],u=o+a[0];for(let c=o;c<u;c++){const r=c*t+i;n.set(e.subarray(r,r+a[1]),s),s+=a[1]}}(c,p[0],h,o,i);else if(3===f)!function(e,t,n,r,a,s){let o=0;const i=a[0],u=a[1],c=a[2],l=i+s[0],p=u+s[1];for(let d=i;d<l;d++)for(let a=u;a<p;a++){const i=d*t+a*n+c;r.set(e.subarray(i,i+s[2]),o),o+=s[2]}}(c,p[0],p[1],h,o,i);else if(4===f)!function(e,t,n,r,a,s,o){let i=0;const u=s[0],c=s[1],l=s[2],p=u+o[0],d=c+o[1],h=l+o[2],f=s[3];for(let m=u;m<p;m++)for(let s=c;s<d;s++)for(let u=l;u<h;u++){const c=m*t+s*n+u*r+f;a.set(e.subarray(c,c+o[3]),i),i+=o[3]}}(c,p[0],p[1],p[2],h,o,i);else{const e=D(c,o,i,t.shape,t.dtype);h.set(e)}return l}const R={kernelName:s.p2w,backendName:"wasm",kernelFunc:F};const C={kernelName:s.zws,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:i}=r,u=o.reduce(((e,t)=>e*t)),c=s.Wap.getReshaped(a.shape,o,u),l=s.Wap.getPermuted(c.length,o.length),p=s.Wap.getReshapedPermuted(a.shape,o,u),d=s.Wap.getSliceBeginCoords(i,o.length),h=s.Wap.getSliceSize(p,i,o.length),f=T({inputs:{x:a},backend:n,attrs:{shape:c}}),m=g({inputs:{x:f},backend:n,attrs:{perm:l}}),y=F({inputs:{x:T({inputs:{x:m},backend:n,attrs:{shape:p}})},backend:n,attrs:{begin:d,size:h}});return n.disposeData(f.dataId),n.disposeData(m.dataId),n.disposeData(f.dataId),y}};function $(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),s=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(s),a}const B={kernelName:s.RFZ,backendName:"wasm",kernelFunc:$},P=u(s.gJX);let L;const V={kernelName:s.xnO,backendName:"wasm",setupFunc:function(e){L=e.wasm.cwrap(s.xnO,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:s,clipValueMax:o}=r,i=n.dataIdMap.get(a.dataId).id,u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(u.dataId).id;return L(i,s,o,c),u}};function z(e){const{inputs:t,backend:n}=e,r=s.D5U.parseAxisParam(e.attrs.axis,t[0].shape)[0];let a=s.Wap.computeOutShape(t.map((e=>e.shape)),r);const o=t.filter((e=>s.D5U.sizeFromShape(e.shape)>0));if(1===o.length)return f({inputs:{x:o[0]},backend:n});const i=n.makeOutput(a,t[0].dtype);if(0===s.D5U.sizeFromShape(a))return i;const u=o.map((e=>e.shape));if(s.Wap.assertParamsConsistent(u,r),"string"===o[0].dtype){const e=o.map((e=>{const t=s.D5U.sizeFromShape(e.shape.slice(r));return T({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));a=s.Wap.computeOutShape(e.map((e=>e.shape)),1);const c=1===e[0].shape[0],l=function(e,t,n,r){const a=s.D5U.getArrayFromDType(n,s.D5U.sizeFromShape(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=s.D5U.sizeFromShape(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const o="string"===n?s.Wap.fromUint8ToStringArray(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[s+t]=o[i++]}r+=e.shape[1]}))}return a}(u,a,t[0].dtype,c),p=s.Wap.computeOutShape(o.map((e=>e.shape)),r);i.shape=p;return n.dataIdMap.get(i.dataId).stringBytes=s.Wap.fromStringArrayToUint8(l),e.forEach((e=>n.disposeData(e.dataId))),i}const c=s.D5U.sizeFromShape(o[0].shape.slice(0,r));let l=0;const p=o.map((e=>{const t=s.D5U.sizeFromShape(e.shape.slice(r));return l+=t,t})),d=o.map((e=>n.typedArrayFromHeap(e))),h=n.typedArrayFromHeap(i);for(let s=0;s<c;s++){let e=s*l;for(let t=0;t<d.length;t++){const n=p[t],r=s*n,a=d[t].subarray(r,r+n);h.set(a,e),e+=n}}return i}const W={kernelName:s.Eh3,backendName:"wasm",kernelFunc:z};let U;const H={kernelName:s.mhS,backendName:"wasm",setupFunc:function(e){U=e.wasm.cwrap(s.mhS,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,i=r.dataIdMap.get(a.dataId).id,u=r.dataIdMap.get(o.dataId).id,{strides:c,dilations:l,pad:p,dimRoundingMode:d,dataFormat:h}=n,f=s.Wap.convertConv2DDataFormat(h),m=s.Wap.computeConv2DInfo(a.shape,o.shape,c,l,p,d,!1,f),y=m.filterHeight,g=m.filterWidth,b=m.padInfo.top,w=m.padInfo.right,x=m.padInfo.bottom,v=m.padInfo.left,_=m.dilationHeight,S=m.dilationWidth,k=m.strideHeight,N=m.strideWidth,E=m.inChannels,I=m.outChannels,T="SAME"===m.padInfo.type?1:0;if("channelsLast"!==m.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${m.dataFormat}'. Please use 'channelsLast'.`);const A=r.makeOutput(m.outShape,"float32"),M=r.dataIdMap.get(A.dataId).id;return U(i,a.shape[0],a.shape[1],a.shape[2],u,y,g,b,w,x,v,T,_,S,k,N,E,I,M),A}};let j;const q={kernelName:s.wm,backendName:"wasm",setupFunc:function(e){j=e.wasm.cwrap(s.wm,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:o}=n,{strides:i,pad:u,dataFormat:c,dimRoundingMode:l,inputShape:p}=r,d=s.Wap.convertConv2DDataFormat(c),h=s.Wap.computeConv2DInfo(p,o.shape,i,1,u,l,!1,d),{batchSize:f,filterHeight:m,filterWidth:y,inChannels:g,inHeight:b,inWidth:w,outChannels:x,outHeight:v,outWidth:_,strideHeight:S,strideWidth:k}=h,N=m-1-h.padInfo.top,E=y-1-h.padInfo.left,I="channelsLast"===h.dataFormat,T=s.D5U.computeStrides(h.inShape),A=s.D5U.computeStrides(a.shape),[M,O,D]=s.D5U.computeStrides(o.shape),F=T[0],R=I?T[1]:T[2],C=I?T[2]:1,$=I?1:T[1],B=A[0],P=I?A[1]:A[2],L=I?A[2]:1,V=I?1:A[1],z=t.makeOutput(h.inShape,"float32"),W=t.dataIdMap.get(z.dataId).id,U=t.dataIdMap.get(a.dataId).id,H=t.dataIdMap.get(o.dataId).id;return j(U,H,f,m,y,b,w,g,v,_,x,S,k,N,E,M,O,D,F,R,C,$,B,P,L,V,W),z}},Z=u(s.mc4),G=u(s.TR1);var K;let X;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(K||(K={}));const Q={kernelName:s.VcC,backendName:"wasm",setupFunc:function(e){X=e.wasm.cwrap(s.VcC,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:s,cropSize:o}=r,{image:i,boxes:u,boxInd:c}=n,l=u.shape[0],[p,d]=o,h=[l,p,d,i.shape[3]];let f,m=t.dataIdMap.get(i.dataId);"float32"!==i.dtype&&(f=$({backend:t,inputs:{x:i},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(f.dataId));const y=m.id,g=t.dataIdMap.get(u.dataId).id,b=t.dataIdMap.get(c.dataId).id,w=t.makeOutput(h,"float32"),x=t.dataIdMap.get(w.dataId).id,v=new Uint8Array(new Int32Array(i.shape).buffer);return X(y,g,b,l,v,p,d,K[a],s,x),null!=f&&t.disposeData(f.dataId),w}};let Y;const J={kernelName:s.iHb,backendName:"wasm",setupFunc:function(e){Y=e.wasm.cwrap(s.iHb,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:o}=t,{axis:i,exclusive:u,reverse:c}=a,l=o.shape.length;s.D5U.assert("float32"===o.dtype||"int32"===o.dtype,(()=>`cumsum does not support ${o.dtype} tensors in the WASM backend`));const p=s.Wap.getAxesPermutation([i],l);let d=o;null!==p&&(d=g({inputs:{x:o},attrs:{perm:p},backend:n}));const h=s.Wap.getInnerMostAxes(1,l)[0];s.Wap.assertAxesAreInnerMostDims("cumsum",[h],l);const f=n.makeOutput(d.shape,d.dtype),m=d.shape[h],y=n.dataIdMap.get(d.dataId).id,b=n.dataIdMap.get(f.dataId).id;Y(y,u?1:0,c?1:0,m,b,r[o.dtype]);let w=f;if(null!==p){w=g({inputs:{x:f},attrs:{perm:s.Wap.getUndoAxesPermutation(p)},backend:n}),n.disposeData(d.dataId),n.disposeData(f.dataId)}return w}};let ee;const te={kernelName:s.T0n,backendName:"wasm",setupFunc:function(e){ee=e.wasm.cwrap(s.T0n,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:o,dataFormat:i}=r,u=a.shape[0],c=("NHWC"===i?a.shape[1]:a.shape[2])*o,l=("NHWC"===i?a.shape[2]:a.shape[3])*o,p=("NHWC"===i?a.shape[3]:a.shape[1])/(o*o),d="NHWC"===i?[u,c,l,p]:[u,p,c,l],h=t.makeOutput(d,"float32"),f=t.dataIdMap.get(a.dataId).id,m=new Uint8Array(new Int32Array(s.D5U.computeStrides(a.shape)).buffer),y=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(s.D5U.computeStrides(d)).buffer),b=t.dataIdMap.get(h.dataId).id;return ee(f,o,"NHWC"===i?1:0,m,a.shape.length-1,y,g,d.length,b),h}};let ne;const re={kernelName:s.cie,backendName:"wasm",setupFunc:function(e){ne=e.wasm.cwrap(s.cie,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,i=r.dataIdMap.get(a.dataId).id,u=r.dataIdMap.get(o.dataId).id,{strides:c,dilations:l,pad:p,dimRoundingMode:d}=n,h=null==l?[1,1]:l,f=s.Wap.computeConv2DInfo(a.shape,o.shape,c,h,p,d,!0),m=f.filterHeight,y=f.filterWidth,g=f.padInfo.top,b=f.padInfo.right,w=f.padInfo.bottom,x=f.padInfo.left,v=f.dilationHeight,_=f.dilationWidth,S=f.strideHeight,k=f.strideWidth,N=f.inChannels,E=f.outChannels,I="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const T=r.makeOutput(f.outShape,"float32"),A=r.dataIdMap.get(T.dataId).id;return ne(i,a.shape[0],a.shape[1],a.shape[2],u,m,y,g,b,w,x,I,v,_,S,k,N,E,A),T}},ae=u(s.SX0),se=l(s.hdR,0,"bool"),oe=u(s.NEP,"float32");function ie(e){const{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:o}=n,i=a.shape.length,u=a.shape.slice();let c=o;return o<0&&(s.D5U.assert(-(i+1)<=o,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),c=i+o+1),u.splice(c,0,1),T({inputs:{x:a},backend:r,attrs:{shape:u}})}const ue={kernelName:s.YFo,backendName:"wasm",kernelFunc:ie};function ce(e){const{attrs:{shape:t,value:n,dtype:r},backend:a}=e,s=a.makeOutput(t,r);return a.typedArrayFromHeap(s).fill(n),s}const le={kernelName:s.deh,backendName:"wasm",kernelFunc:ce};let pe;const de={kernelName:s.Uyb,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id,[i,u,c,l]=r.shape;return pe(s,i,u,c,l,o),a},setupFunc:function(e){pe=e.wasm.cwrap(s.Uyb,null,["number","number","number","number","number","number"])}},he=u(s.OR),fe=l(s.jeX);let me;const ye={kernelName:s.sHE,backendName:"wasm",setupFunc:function(e){me=e.wasm.cwrap(s.sHE,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:o,mean:i,variance:u,offset:c,scale:l}=n,p=t.dataIdMap.get(o.dataId).id,d=t.dataIdMap.get(i.dataId).id,h=t.dataIdMap.get(u.dataId).id,f=null!=c?t.dataIdMap.get(c.dataId).id:0,m=null!=l?t.dataIdMap.get(l.dataId).id:0,y=t.makeOutput(o.shape,o.dtype);if(0===s.D5U.sizeFromShape(o.shape))return y;const g=t.dataIdMap.get(y.dataId).id;return me(p,d,h,f,m,a,g),y}};let ge;const be={kernelName:s._V0,backendName:"wasm",setupFunc:function(e){ge=e.wasm.cwrap(s._V0,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:i,bias:u,preluActivationWeights:c}=t,{strides:l,pad:p,dilations:d,dataFormat:h,dimRoundingMode:f,activation:m,leakyreluAlpha:y}=n,g=s.Wap.computeConv2DInfo(o.shape,i.shape,l,d,p,f),b=a[m];if(null==b)throw new Error(`${m} activation not yet supported for FusedConv2D in the wasm backend.`);const w=r.dataIdMap.get(o.dataId).id,x=r.dataIdMap.get(i.dataId).id,v=g.outChannels;let _=0;if(null!=u){const e=r.dataIdMap.get(u.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);_=e.id}const S=g.filterHeight,k=g.filterWidth,N=g.padInfo.top,E=g.padInfo.right,I=g.padInfo.bottom,T=g.padInfo.left,A=g.dilationHeight,M=g.dilationWidth,O=g.strideHeight,D=g.strideWidth,F=g.inChannels,R="SAME"===g.padInfo.type?1:0,C=g.batchSize,$=g.inHeight,B=g.inWidth;if("NHWC"!==h)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${h}'. Please use 'NHWC'.`);const P=r.makeOutput(g.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,V=null==c?0:r.dataIdMap.get(c.dataId).id;return ge(w,C,$,B,x,S,k,_,N,E,I,T,R,A,M,O,D,F,v,b,V,y||0,L),P}};let we;const xe={kernelName:s.luS,backendName:"wasm",setupFunc:function(e){we=e.wasm.cwrap(s.luS,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:i,bias:u,preluActivationWeights:c}=t,{strides:l,pad:p,dilations:d,dataFormat:h,dimRoundingMode:f,activation:m,leakyreluAlpha:y}=n,g=s.Wap.computeConv2DInfo(o.shape,i.shape,l,d,p,f,!0),b=a[m];if(null==b)throw new Error(`${m} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const w=r.dataIdMap.get(o.dataId).id,x=r.dataIdMap.get(i.dataId).id,v=g.outChannels;let _=0;if(null!=u){const e=r.dataIdMap.get(u.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);_=e.id}const S=g.filterHeight,k=g.filterWidth,N=g.padInfo.top,E=g.padInfo.right,I=g.padInfo.bottom,T=g.padInfo.left,A=g.dilationHeight,M=g.dilationWidth,O=g.strideHeight,D=g.strideWidth,F=g.inChannels,R="SAME"===g.padInfo.type?1:0,C=g.batchSize,$=g.inHeight,B=g.inWidth;if("NHWC"!==h)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${h}'. Please use 'NHWC'.`);const P=r.makeOutput(g.outShape,"float32"),L=r.dataIdMap.get(P.dataId).id,V=null==c?0:r.dataIdMap.get(c.dataId).id;return we(w,C,$,B,x,S,k,_,N,E,I,T,R,A,M,O,D,F,v,b,V,y||0,L),P}};let ve;const _e={kernelName:s.q1x,backendName:"wasm",setupFunc:function(e){ve=e.wasm.cwrap(s.q1x,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:a,indices:o}=n,[i,u,c,l]=s.DaI.prepareAndValidate(a,o),p=t.makeOutput(i,a.dtype);if(0===u)return p;const d=o.shape,h=d[d.length-1],f=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(o.dataId).id,y=new Uint8Array(new Int32Array(l).buffer),g=t.dataIdMap.get(p.dataId).id;return ve(f,r[a.dtype],m,u,h,c,y,g),p}};let Se;const ke={kernelName:s.qi_,backendName:"wasm",setupFunc:function(e){Se=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{x:o,indices:i}=n,{axis:u,batchDims:c}=a,l=s.D5U.parseAxisParam(u,o.shape)[0],p=t.readSync(i.dataId),d=o.shape[l];for(let r=0;r<p.length;++r){const e=p[r];s.D5U.assert(e<=d-1&&e>=0,(()=>`GatherV2: the index value ${e} is not in [0, ${d-1}]`))}const h=s.Wap.segment_util.collectGatherOpShapeInfo(o,i,l,c),f=T({inputs:{x:o},attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]},backend:t}),m=s.D5U.sizeFromShape(i.shape),y=T({inputs:{x:i},attrs:{shape:[h.batchSize,m/h.batchSize]},backend:t}),g=[h.batchSize,h.outerSize,m/h.batchSize,h.sliceSize],b=t.makeOutput(g,o.dtype);if(0===s.D5U.sizeFromShape(o.shape))return b;const w=f.shape.length-1,x=t.dataIdMap.get(f.dataId).id,v=t.dataIdMap.get(y.dataId).id,_=t.dataIdMap.get(b.dataId).id,S=new Uint8Array(new Int32Array(s.D5U.computeStrides(f.shape)).buffer),k=new Uint8Array(new Int32Array(s.D5U.computeStrides(g)).buffer);return Se(x,r[o.dtype],S,w,v,h.batchSize,k,_),t.disposeData(f.dataId),t.disposeData(y.dataId),b.shape=h.outputShape,b}},Ne=l(s.iZT,0,"bool"),Ee=l(s.Acj,0,"bool");let Ie;const Te={kernelName:s.J$2,backendName:"wasm",setupFunc:function(e){Ie=e.wasm.cwrap(s.J$2,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:a}=e,o=a.dataIdMap.get(t.dataId).id,i=a.makeOutput(t.shape,"float32");if(0!==s.D5U.sizeFromShape(t.shape)){const e=a.dataIdMap.get(i.dataId).id;Ie(o,r[t.dtype],n,e)}return i}},Ae=l(s.vtC,0,"bool"),Me=l(s.CAk,0,"bool"),Oe=u(s.ZbH),De=l(s.PYm,0,"bool");let Fe;const Re={kernelName:s.YoZ,backendName:"wasm",setupFunc:function(e){Fe=e.wasm.cwrap(s.YoZ,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{reductionIndices:o,keepDims:i}=a,{x:u}=n;let c=t.dataIdMap.get(u.dataId).id,l=u;const{transposed:p,axes:d,originalAxes:h,inputWasTransposed:f}=w(u,o,t);if(f){l=p,c=t.dataIdMap.get(p.dataId).id}const m=l.shape.length;s.Wap.assertAxesAreInnerMostDims("max",d,m);const[y,g]=s.Wap.computeOutAndReduceShapes(l.shape,d),b=s.D5U.sizeFromShape(g),x=t.makeOutput(y,u.dtype);if(0!==s.D5U.sizeFromShape(l.shape)){const e=t.dataIdMap.get(x.dataId).id;Fe(c,r[u.dtype],b,e)}if(f&&t.disposeData(p.dataId),i){const e=s.Wap.expandShapeToKeepDim(x.shape,h);x.shape=e}return x}},Ce=l(s.BMI);let $e;const Be={kernelName:s.mTV,backendName:"wasm",setupFunc:function(e){$e=e.wasm.cwrap(s.mTV,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id;s.D5U.assert("float32"===a.dtype,(()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`));const{filterSize:i,strides:u,pad:c,dimRoundingMode:l}=n,p=s.Wap.computePool2DInfo(a.shape,i,u,1,c,l),d=p.filterHeight,h=p.filterWidth,f=p.padInfo.top,m=p.padInfo.right,y=p.padInfo.bottom,g=p.padInfo.left,b=p.dilationHeight,w=p.dilationWidth,x=p.strideHeight,v=p.strideWidth,_=p.inChannels,S=p.outChannels;if("channelsLast"!==p.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${p.dataFormat}'. Please use 'channelsLast'.`);const k=r.makeOutput(p.outShape,"float32"),N=r.dataIdMap.get(k.dataId).id;return $e(o,a.shape[0],a.shape[1],a.shape[2],d,h,f,m,y,g,b,w,x,v,_,S,N),k}};let Pe;const Le={kernelName:s.q2K,backendName:"wasm",setupFunc:function(e){Pe=e.wasm.cwrap(s.q2K,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:i}=n,u=t.dataIdMap.get(i.dataId).id;let c=u,l=i;const{transposed:p,axes:d,originalAxes:h,inputWasTransposed:f}=w(i,a,t);let m=d;if(f){const e=t.dataIdMap.get(p.dataId).id;e!==u&&(l=p,c=e,m=s.Wap.getInnerMostAxes(m.length,l.shape.length))}s.Wap.assertAxesAreInnerMostDims("mean",m,l.shape.length);const[y,g]=s.Wap.computeOutAndReduceShapes(l.shape,m),b=s.D5U.sizeFromShape(g);let x=l;"float32"!==l.dtype&&(x=$({backend:t,inputs:{x:l},attrs:{dtype:"float32"}}),c=t.dataIdMap.get(x.dataId).id);const v=t.makeOutput(y,"float32");if(0!==s.D5U.sizeFromShape(l.shape)){const e=t.dataIdMap.get(v.dataId).id;Pe(c,b,e)}if(f&&t.disposeData(p.dataId),o){const e=s.Wap.expandShapeToKeepDim(v.shape,h);v.shape=e}return"float32"!==l.dtype&&t.disposeData(x.dataId),v}};let Ve;const ze={kernelName:s.c17,backendName:"wasm",setupFunc:function(e){Ve=e.wasm.cwrap(s.c17,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:o,keepDims:i}=a,{x:u}=n,c=t.dataIdMap.get(u.dataId).id;let l=c,p=u;const{transposed:d,axes:h,originalAxes:f,inputWasTransposed:m}=w(u,o,t);if(m){const e=t.dataIdMap.get(d.dataId).id;e!==c&&(p=d,l=e)}const y=p.shape.length;s.Wap.assertAxesAreInnerMostDims("min",h,y);const[g,b]=s.Wap.computeOutAndReduceShapes(p.shape,h),x=s.D5U.sizeFromShape(b),v=t.makeOutput(g,p.dtype);if(0!==s.D5U.sizeFromShape(p.shape)){const e=t.dataIdMap.get(v.dataId).id;Ve(l,r[u.dtype],x,e)}if(m&&t.disposeData(d.dataId),i){const e=s.Wap.expandShapeToKeepDim(v.shape,f);v.shape=e}return v}},We=l(s.q8u);var Ue;let He;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Ue||(Ue={}));const je={kernelName:s.jQs,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:a,mode:s}}=e,o=a.map(((e,n)=>e[0]+t.shape[n]+e[1])),i=n.dataIdMap.get(t.dataId).id,u=n.makeOutput(o,t.dtype),c=n.dataIdMap.get(u.dataId).id,l=new Uint8Array(new Int32Array(t.shape).buffer),p=a.map((e=>e[0])),d=a.map((e=>e[1])),h=new Uint8Array(new Int32Array(p).buffer),f=new Uint8Array(new Int32Array(d).buffer);return He(i,l,t.shape.length,r[t.dtype],h,f,Ue[s],c),u},setupFunc:function(e){He=e.wasm.cwrap(s.jQs,null,["number","array","number","number","array","array","number","number"])}},qe=l(s.wYn),Ze=u(s.kuV);function Ge(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],s=n[2],o=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:s,pValidOutputs:o}}let Ke;const Xe={kernelName:s.uv1,backendName:"wasm",setupFunc:function(e){Ke=e.wasm.cwrap(s.uv1,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o}=r,{boxes:i,scores:u}=n,c=t.dataIdMap.get(i.dataId).id,l=t.dataIdMap.get(u.dataId).id,p=Ke(c,l,s,a,o),{pSelectedIndices:d,selectedSize:h,pSelectedScores:f,pValidOutputs:m}=Ge(t,p);return t.wasm._free(f),t.wasm._free(m),t.makeOutput([h],"int32",d)}};let Qe;const Ye={kernelName:s.cye,backendName:"wasm",setupFunc:function(e){Qe=e.wasm.cwrap(s.cye,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,padToMaxOutputSize:i}=r,{boxes:u,scores:c}=n,l=t.dataIdMap.get(u.dataId).id,p=t.dataIdMap.get(c.dataId).id,d=Qe(l,p,s,a,o,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:y}=Ge(t,d);return t.wasm._free(m),[t.makeOutput([f],"int32",h),t.makeOutput([],"int32",y)]}};let Je;const et={kernelName:s.W0H,backendName:"wasm",setupFunc:function(e){Je=e.wasm.cwrap(s.W0H,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,softNmsSigma:i}=r,{boxes:u,scores:c}=n,l=t.dataIdMap.get(u.dataId).id,p=t.dataIdMap.get(c.dataId).id,d=Je(l,p,s,a,o,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:y}=Ge(t,d);return t.wasm._free(y),[t.makeOutput([f],"int32",h),t.makeOutput([f],"float32",m)]}},tt=l(s.yQU,0,"bool");let nt;const rt={kernelName:s.we_,backendName:"wasm",setupFunc:function(e){nt=e.wasm.cwrap(s.we_,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{depth:s,onValue:o,offValue:i}=r,u=n.makeOutput([...a.shape,s],"int32"),c=n.dataIdMap.get(u.dataId).id,l=n.dataIdMap.get(a.dataId).id;return nt(l,s,o,i,c),u}};const at={kernelName:s.qWM,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};const st={kernelName:s.QiL,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return ie({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,i=t[0].dtype;t.forEach((e=>{s.D5U.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes"),s.D5U.assert(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const u=[],c=z({inputs:t.map((e=>{const t=ie({inputs:{input:e},backend:n,attrs:{dim:a}});return u.push(t),t})),backend:n,attrs:{axis:a}});return u.forEach((e=>n.disposeData(e.dataId))),c}};let ot;const it={kernelName:s.lyA,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:a,constantValue:o}}=e,i=a.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===s.D5U.sizeFromShape(t.shape))return ce({backend:n,attrs:{shape:i,value:o,dtype:t.dtype}});const u=n.dataIdMap.get(t.dataId).id,c=n.makeOutput(i,t.dtype),l=n.dataIdMap.get(c.dataId).id,p=new Uint8Array(new Int32Array(t.shape).buffer),d=a.map((e=>e[0])),h=a.map((e=>e[1])),f=new Uint8Array(new Int32Array(d).buffer),m=new Uint8Array(new Int32Array(h).buffer);return ot(u,p,t.shape.length,r[t.dtype],f,m,o,l),c},setupFunc:function(e){ot=e.wasm.cwrap(s.lyA,null,["number","array","number","number","array","array","number","number"])}},ut=l(s.pe_);let ct;const lt={kernelName:s.o0g,backendName:"wasm",setupFunc:function(e){ct=e.wasm.cwrap(s.o0g,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id;let i=s;const u=r;let c=u;"float32"!==u.dtype&&(c=$({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),i=n.dataIdMap.get(c.dataId).id);const l=n.makeOutput(r.shape,"float32"),p=n.dataIdMap.get(l.dataId).id;return ct(i,o,p),"float32"!==u.dtype&&n.disposeData(c.dataId),l}};let pt;const dt={kernelName:s.DlI,backendName:"wasm",setupFunc:function(e){pt=e.wasm.cwrap(s.DlI,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:o,keepDims:i}=a,{x:u}=n,c=t.dataIdMap.get(u.dataId).id;let l=c,p=u;const{transposed:d,axes:h,originalAxes:f,inputWasTransposed:m}=w(u,o,t);let y=h;if(m){const e=t.dataIdMap.get(d.dataId).id;e!==c&&(p=d,l=e,y=s.Wap.getInnerMostAxes(y.length,p.shape.length))}s.Wap.assertAxesAreInnerMostDims("prod",y,p.shape.length);const[g,b]=s.Wap.computeOutAndReduceShapes(p.shape,y),x=s.D5U.sizeFromShape(b),v=t.makeOutput(g,p.dtype);if(0!==s.D5U.sizeFromShape(p.shape)){const e=t.dataIdMap.get(v.dataId).id;pt(l,x,r[v.dtype],e)}if(m&&t.disposeData(d.dataId),i){const e=s.Wap.expandShapeToKeepDim(v.shape,f);v.shape=e}return v}};const ht={kernelName:s.e6w,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:o,dtype:i}=n,u=function(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return s.D5U.makeZerosTypedArray(0,r);const a=Math.abs(Math.ceil((t-e)/n)),o=s.D5U.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),o[0]=e;for(let s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}(r,a,o,i),c=t.makeOutput([u.length],i);return t.typedArrayFromHeap(c).set(u),c}},ft=l(s.oHH),mt=u(s.qkr),yt=u(s.SbG);let gt;const bt={kernelName:s._Yw,backendName:"wasm",setupFunc:function(e){gt=e.wasm.cwrap(s._Yw,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:i,size:u}=r,[c,l]=u,[p,d,h,f]=a.shape,m=[p,c,l,f];let y,g=t.dataIdMap.get(a.dataId);"float32"!==g.dtype&&(y=$({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(y.dataId));const b=g.id,w=t.makeOutput(m,"float32");if(0===s.D5U.sizeFromShape(a.shape))return w;const x=t.dataIdMap.get(w.dataId).id;return gt(b,p,d,h,f,c,l,o?1:0,i?1:0,x),null!=y&&t.disposeData(y.dataId),w}};let wt;const xt={kernelName:s.mKl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r,i=s.D5U.parseAxisParam(o,a.shape);if(0===a.shape.length)return f({inputs:{x:a},backend:n});const u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(u.dataId).id,p=new Uint8Array(new Int32Array(i).buffer),d=new Uint8Array(new Int32Array(a.shape).buffer);wt(c,p,i.length,d,a.shape.length,l);const h=T({inputs:{x:u},attrs:{shape:a.shape},backend:n});return n.disposeData(u.dataId),h},setupFunc:function(e){wt=e.wasm.cwrap(s.mKl,null,["number","array","number","array","number","number"])}};let vt;const _t={kernelName:s.b9H,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:o,fillValue:i,center:u}=r,c=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(c.dataId).id,[d,h,f,m]=a.shape,[y,g]=s.Wap.getImageCenter(u,h,f),b="number"===typeof i?[i,i,i,0===i?0:255]:[...i,255],w=new Uint8Array(new Int32Array(b).buffer);return vt(l,d,h,f,m,o,y,g,w,b.length,p),c},setupFunc:function(e){vt=e.wasm.cwrap(s.b9H,null,["number","number","number","number","number","number","number","number","array","number","number"])}},St=u(s.e07),kt=u(s.bV0);let Nt;const Et={kernelName:s.xQA,backendName:"wasm",setupFunc:function(e){Nt=e.wasm.cwrap(s.xQA,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{indices:o,updates:i}=n,{shape:u}=a,c=t.makeOutput(u,i.dtype);if(0===s.D5U.sizeFromShape(u))return c;const{sliceRank:l,numUpdates:p,sliceSize:d,strides:h,outputSize:f}=s.yV1.calculateShapes(i,o,u),m=t.dataIdMap.get(o.dataId).id,y=t.dataIdMap.get(i.dataId).id,g=new Uint8Array(new Int32Array(h).buffer),b=t.dataIdMap.get(c.dataId).id;return Nt(m,y,r[i.dtype],l,p,d,g,f,b),c}};let It;const Tt={kernelName:s.PhF,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t,i=n.dataIdMap.get(r.dataId).id,u=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(o.dataId).id,l=n.makeOutput(a.shape,a.dtype),p=n.dataIdMap.get(l.dataId).id,d=r.shape.length,h=a.shape.length,f=0===d||d>1||1===h?1:s.D5U.sizeFromShape(a.shape.slice(1));return It(i,u,c,f,p),l},setupFunc:function(e){It=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}};let At;const Mt={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){At=e.wasm.cwrap(s.a5O,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(a.dataId).id;return 0===s.D5U.sizeFromShape(a.shape)||At(r,o),a}},Ot=u(s.RQH);let Dt;const Ft={kernelName:s.Gcp,backendName:"wasm",setupFunc:function(e){Dt=e.wasm.cwrap(s.Gcp,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(o.dataId).id,u=n.shape[r],c=s.D5U.sizeFromShape(n.shape)/u;return 0===s.D5U.sizeFromShape(o.shape)||Dt(a,i,u,c),o}};const Rt={kernelName:s.TQc,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:i}=r,u=s.D5U.sizeFromShape(o),c=[[0,0]];c.push(...i);for(let s=1+o.length;s<a.shape.length;++s)c.push([0,0]);const l=it.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),p=s.Wap.getReshaped(l.shape,o,u,!1),d=s.Wap.getPermuted(p.length,o.length,!1),h=s.Wap.getReshapedPermuted(l.shape,o,u,!1),f=T({inputs:{x:l},backend:n,attrs:{shape:p}}),m=g({inputs:{x:f},backend:n,attrs:{perm:d}}),y=T({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeData(l.dataId),n.disposeData(f.dataId),n.disposeData(m.dataId),y}};let Ct;const $t={kernelName:s.O3z,backendName:"wasm",setupFunc:function(e){Ct=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:a,values:o,denseShape:i,defaultValue:u}=n,c=a.shape[0],l=a.shape[1],p=t.readSync(i.dataId)[0],d=[c+p,l],h=t.dataIdMap.get(a.dataId).id,f=t.dataIdMap.get(o.dataId).id,m=t.dataIdMap.get(u.dataId).id,y=t.makeOutput(d,a.dtype),g=t.dataIdMap.get(y.dataId).id,b=t.makeOutput(d.slice(0,1),o.dtype),w=t.dataIdMap.get(b.dataId).id,x=t.makeOutput([p],"bool"),v=t.dataIdMap.get(x.dataId).id,_=t.makeOutput([c],a.dtype),S=t.dataIdMap.get(_.dataId).id,k=t.makeOutput([4],"int32"),N=t.dataIdMap.get(k.dataId).id,E=Ct(h,f,r[o.dtype],c,p,l,m,g,w,v,S,N),I=t.readSync(k.dataId);let T;switch(I[0]){case 1:T=s.Wap.getSparseFillEmptyRowsIndicesDenseShapeMismatch(I[1]);break;case 2:T=s.Wap.getSparseFillEmptyRowsNegativeIndexErrorMessage(I[1],I[2]);break;case 3:T=s.Wap.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(I[1],I[2],I[3]);break;default:T=""}if(t.disposeData(k.dataId),T)throw t.disposeData(y.dataId),t.disposeData(b.dataId),t.disposeData(x.dataId),t.disposeData(_.dataId),new Error(T);let A=y,M=b;return E!==d[0]&&(A=F({inputs:{x:y},attrs:{begin:0,size:[E,l]},backend:t}),M=F({inputs:{x:b},attrs:{begin:0,size:E},backend:t}),t.disposeData(y.dataId),t.disposeData(b.dataId)),[A,M,x,_]}};let Bt;const Pt={kernelName:s.nhH,backendName:"wasm",setupFunc:function(e){Bt=e.wasm.cwrap(s.nhH,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:o}=n;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=t.dataIdMap.get(r.dataId).id,u=t.dataIdMap.get(a.dataId).id,c=t.dataIdMap.get(o.dataId).id,l=r.shape[0],p=s.D5U.sizeFromShape(o.shape),d=t.makeOutput([l,p],r.dtype),h=t.dataIdMap.get(d.dataId).id,f=t.makeOutput([p],o.dtype),m=t.dataIdMap.get(f.dataId).id,y=t.makeOutput([3],"int32"),g=t.dataIdMap.get(y.dataId).id;Bt(i,u,c,l,h,m,g);const b=t.readSync(y.dataId);let w;switch(b[0]){case 0:w=s.Wap.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(b[1],b[2]);break;case 1:w=s.Wap.getSparseReshapeNegativeOutputDimErrorMessage(b[1],b[2]);break;case 2:w=s.Wap.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:{const e=Array.from(t.readSync(a.dataId)),n=Array.from(t.readSync(f.dataId));w=s.Wap.getSparseReshapeInputOutputMultipleErrorMessage(e,n);break}case 4:{const e=Array.from(t.readSync(a.dataId)),n=Array.from(t.readSync(f.dataId));w=s.Wap.getSparseReshapeInputOutputMismatchErrorMessage(e,n);break}default:w=""}if(t.disposeData(y.dataId),w)throw t.disposeData(d.dataId),t.disposeData(f.dataId),new Error(w);return[d,f]}};let Lt;function Vt(e){Lt=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function zt(e,t){const{backend:n,inputs:a}=e,{data:o,indices:i,segmentIds:u}=a,c=i.shape[0],l=n.readSync(u.dataId,c-1,c)[0],p=c>0?l+1:0;if(p<0)throw new Error(s.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const d=o.shape.slice();d[0]=p;const h=n.dataIdMap.get(o.dataId).id,f=n.dataIdMap.get(i.dataId).id,m=n.dataIdMap.get(u.dataId).id,y=n.makeOutput(d,o.dtype),g=n.dataIdMap.get(y.dataId).id,b=n.makeOutput([4],"int32"),w=n.dataIdMap.get(b.dataId).id;Lt(h,r[o.dtype],o.shape[0],f,m,g,w,t,0);const x=n.readSync(b.dataId);let v;switch(x[0]){case 0:v=s.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break;case 1:v=s.Wap.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break;case 2:v=s.Wap.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(x[1],x[2]);break;case 3:v=s.Wap.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(x[1],x[2],x[3]);break;default:v=""}if(n.disposeData(b.dataId),v)throw n.disposeData(y.dataId),new Error(v);return y}const Wt={kernelName:s.w3H,backendName:"wasm",setupFunc:Vt,kernelFunc:function(e){return zt(e,!0)}};const Ut={kernelName:s.ZjV,backendName:"wasm",setupFunc:Vt,kernelFunc:function(e){return zt(e,!1)}};const Ht={kernelName:s.L8s,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:i}=n,u=s.D5U.parseAxisParam(i,a.shape)[0],c=s.Wap.prepareSplitSize(a,o,u),l=new Array(a.shape.length).fill(0),p=a.shape.slice();return c.map((e=>{const t=[...p];t[u]=e;const n=F({inputs:{x:a},attrs:{begin:l,size:t},backend:r});return l[u]+=e,n}))}},jt=u(s.FKq),qt=u(s.bK0),Zt=l(s._tC);let Gt;const Kt={kernelName:s.h8e,backendName:"wasm",setupFunc:function(e){Gt=e.wasm.cwrap(s.h8e,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{alpha:s}=a,{x:o}=n,i=t.dataIdMap.get(o.dataId).id,u=t.makeOutput(o.shape,o.dtype),c=t.dataIdMap.get(u.dataId).id;return Gt(i,s,r[o.dtype],c),u}};let Xt;const Qt={kernelName:s.jQk,backendName:"wasm",setupFunc:function(e){Xt=e.wasm.cwrap(s.jQk,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:o,end:i,strides:u,beginMask:c,endMask:l,ellipsisMask:p,newAxisMask:d,shrinkAxisMask:h}=r,{finalShapeSparse:f,finalShape:m,isIdentity:y,sliceDim0:g,isSimpleSlice:b,begin:w,end:x,strides:v}=s.kuN.sliceInfo(a.shape,o,i,u,c,l,p,d,h);let _;if(y)_=T({inputs:{x:a},backend:t,attrs:{shape:m}});else if(g||b){s.D5U.assert(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=s.kuN.computeOutShape(w,x,v),n=F({inputs:{x:a},backend:t,attrs:{begin:w,size:e}});_=T({inputs:{x:n},backend:t,attrs:{shape:m}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(f,"float32"),n=t.dataIdMap.get(a.dataId).id,r=new Uint8Array(new Int32Array(s.D5U.computeStrides(a.shape)).buffer),o=new Uint8Array(new Int32Array(w).buffer),i=new Uint8Array(new Int32Array(x).buffer),u=new Uint8Array(new Int32Array(v).buffer),c=new Uint8Array(new Int32Array(f).buffer),l=new Uint8Array(new Int32Array(s.D5U.computeStrides(f)).buffer),p=t.dataIdMap.get(e.dataId).id;Xt(n,r,a.shape.length,o,i,u,c,l,f.length,p),_=T({inputs:{x:e},backend:t,attrs:{shape:m}}),t.disposeData(e.dataId)}return _}},Yt=l(s.Tr8);let Jt;const en={kernelName:s.GBy,backendName:"wasm",setupFunc:function(e){Jt=e.wasm.cwrap(s.GBy,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:a}=e,{axis:o,keepDims:i}=a,{x:u}=n,c=t.dataIdMap.get(u.dataId).id;let l=c,p=u;const{transposed:d,axes:h,originalAxes:f,inputWasTransposed:m}=w(u,o,t);let y=h;if(m){const e=t.dataIdMap.get(d.dataId).id;e!==c&&(p=d,l=e,y=s.Wap.getInnerMostAxes(y.length,p.shape.length))}s.Wap.assertAxesAreInnerMostDims("sum",y,p.shape.length);const[g,b]=s.Wap.computeOutAndReduceShapes(p.shape,y),x=s.D5U.sizeFromShape(b),v=t.makeOutput(g,p.dtype);if(0!==s.D5U.sizeFromShape(p.shape)){const e=t.dataIdMap.get(v.dataId).id;Jt(l,x,r[v.dtype],e)}if(m&&t.disposeData(d.dataId),i){const e=s.Wap.expandShapeToKeepDim(v.shape,f);v.shape=e}return v}},tn=u(s.sEM),nn=u(s.MIZ);let rn;const an={kernelName:s.n9L,backendName:"wasm",setupFunc:function(e){rn=e.wasm.cwrap(s.n9L,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:s}=t,o=n.dataIdMap.get(s.dataId).id,{reps:i}=a,u=new Array(s.shape.length);for(let r=0;r<u.length;r++)u[r]=s.shape[r]*i[r];const c=new Uint8Array(new Int32Array(s.shape).buffer),l=new Uint8Array(new Int32Array(u).buffer),p=n.makeOutput(u,s.dtype),d=n.dataIdMap.get(p.dataId).id;return rn(o,c,s.shape.length,l,u.length,r[p.dtype],d),p}};let sn;const on={kernelName:s.cWu,backendName:"wasm",setupFunc:function(e){sn=e.wasm.cwrap(s.cWu,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a}=e,{k:s,sorted:o}=n,i=t.dataIdMap.get(a.dataId).id,u=new Uint8Array(new Int32Array(a.shape).buffer),c=a.shape.slice();c[c.length-1]=s;const l=t.makeOutput(c,a.dtype),p=t.dataIdMap.get(l.dataId).id,d=t.makeOutput(c,"int32"),h=t.dataIdMap.get(d.dataId).id;return sn(i,u,a.shape.length,r[a.dtype],s,o,p,h),[l,d]}};let un;const cn={kernelName:s.wx7,backendName:"wasm",setupFunc:function(e){un=e.wasm.cwrap(s.wx7,null,["number","number","bool","number","number","number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:o}=n,{interpolation:i,fillMode:u,fillValue:c,outputShape:l}=r,[p,d,h,f]=a.shape,[m,y]=null!=l?l:[d,h],g=[p,m,y,f],b=new Uint8Array(new Int32Array(s.D5U.computeStrides(a.shape)).buffer),w=t.makeOutput(g,a.dtype),x=t.dataIdMap.get(w.dataId).id,v=t.dataIdMap.get(a.dataId).id,_=t.dataIdMap.get(o.dataId).id,S="nearest"===i?1:2;let k;switch(u){case"constant":k=1;break;case"reflect":k=2;break;case"wrap":k=3;break;case"nearest":k=4;break;default:k=1}return un(v,_,o.shape[0]>1,p,m,y,f,h,d,b,a.shape.length-1,S,k,c,x),w}};const ln={kernelName:s.ToN,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a.shape[s],i=a.shape.length,u=new Array(i-1);let c=0;for(let h=0;h<i;h++)h!==s&&(u[c++]=a.shape[h]);const l=new Array(o),p=new Array(i).fill(0),d=a.shape.slice();d[s]=1;for(let h=0;h<l.length;h++)p[s]=h,l[h]=F({inputs:{x:a},attrs:{begin:p,size:d},backend:n});return l.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:u})))}};const pn={kernelName:s.RuY,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},dn=[i,c,p,h,v,S,N,I,O,C,B,P,V,W,H,q,Z,G,Q,J,te,re,ae,se,oe,ue,le,de,he,fe,ye,be,xe,_e,ke,Ne,Ee,m,Te,Ae,Me,Oe,De,Re,Ce,Be,Le,ze,We,je,qe,Ze,Xe,Ye,et,tt,rt,at,st,it,ut,lt,dt,ht,ft,mt,yt,A,bt,xt,_t,St,kt,Et,Tt,Mt,Ot,R,Ft,Rt,$t,Pt,Wt,Ut,Ht,jt,qt,Zt,Kt,Qt,Yt,en,tn,nn,an,on,cn,b,ln,pn];for(const On of dn)(0,s.wCN)(On);const hn=(0,s.OBj)();hn.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11])))),hn.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(hn.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var fn=n(8349),mn=n.n(fn);var yn=n(7234),gn=n.n(yn);class bn extends s.Zuw{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(Tn),An=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new s.JLz(this,(0,s.SRH)())}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=s.D5U.now();e();return{kernelMs:s.D5U.now()-t}}move(e,t,n,r,a){const o=this.dataIdNextNumber++;if("string"===r){const s=t;return void this.dataIdMap.set(e,{id:o,stringBytes:s,shape:n,dtype:r,memoryOffset:null,refCount:a})}const i=s.D5U.sizeFromShape(n),u=i*s.D5U.bytesPerElement(r),c=this.wasm._malloc(u);this.dataIdMap.set(e,{id:o,memoryOffset:c,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(o,i,c),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,u),c)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:a,shape:o,stringBytes:i}=this.dataIdMap.get(e);if("string"===a)return null!=t&&0!==t||!(null==n||n>=i.length)?i.slice(t,n):i;t=t||0,n=n||s.D5U.sizeFromShape(o);const u=s.D5U.bytesPerElement(a);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(r+t*u,r+n*u).buffer,a)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n){let r;if(null==n)r=this.write(null,e,t);else{const a=this.dataIdNextNumber++;r={id:a},this.dataIdMap.set(r,{id:a,memoryOffset:n,shape:e,dtype:t,refCount:1});const o=s.D5U.sizeFromShape(e);this.wasm.tfjs.registerTensor(a,o,n)}return{dataId:r,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){const r=this.wasm.HEAPU8.buffer,{memoryOffset:a}=this.dataIdMap.get(n),o=s.D5U.sizeFromShape(e);switch(t){case"float32":return new Float32Array(r,a,o);case"int32":return new Int32Array(r,a,o);case"bool":return new Uint8Array(r,a,o);default:throw new Error(`Unknown dtype ${t}`)}}}function wn(e,t,n){if(null!=_n)return _n;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=kn&&null!=kn[r]?kn[r]:n+r}async function xn(){const[e,t]=await Promise.all([(0,s.OBj)().getAsync("WASM_HAS_SIMD_SUPPORT"),(0,s.OBj)().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,r)=>{const a={};var o;a.locateFile=(n,r)=>{if(n.endsWith(".worker.js")){const e=new Blob(['var Module={};function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;this.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);Module["wasmModule"]=null;receiveInstance(instance);return instance.exports};function moduleLoaded(){}this.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance;moduleLoaded()})}else if(e.data.cmd==="objectTransfer"){Module["PThread"].receiveObjectTransfer(e.data)}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["_emscripten_tls_init"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].setThreadStatus(Module["_pthread_self"](),1);try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(!Module["getNoExitRuntime"]())Module["PThread"].threadExit(result)}catch(ex){if(ex==="Canceled!"){Module["PThread"].threadCancel()}else if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["getNoExitRuntime"]()){}else{Module["PThread"].threadExit(ex.status)}}else{Module["PThread"].threadExit(-2);throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["PThread"].threadCancel()}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};if(typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string"){self={location:{href:__filename}};var onmessage=this.onmessage;var nodeWorkerThreads=require("worker_threads");global.Worker=nodeWorkerThreads.Worker;var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var nodeFS=require("fs");var nodeRead=function(filename){return nodeFS.readFileSync(filename,"utf8")};function globalEval(x){global.require=require;global.Module=Module;eval.call(null,x)}importScripts=function(f){globalEval(nodeRead(f))};postMessage=function(msg){parentPort.postMessage(msg)};if(typeof performance==="undefined"){performance={now:function(){return Date.now()}}}}'],{type:"application/javascript"});return URL.createObjectURL(e)}return n.endsWith(".wasm")?wn(e,t,null!=Sn?Sn:r):r+n},En&&(a.instantiateWasm=(o=wn(e,t,null!=Sn?Sn:""),(e,t)=>(s.D5U.fetch(o,{credentials:"same-origin"}).then((n=>{n.ok||e.env.a(`failed to load wasm binary file at '${o}'`),n.arrayBuffer().then((n=>{WebAssembly.instantiate(n,e).then((e=>{t(e.instance,e.module)}))}))})),{})));let i,u=!1;a.onAbort=()=>{if(u)return;if(Nn)return;Nn=!0;r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})},t&&e&&null==_n?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+mn().toString()],{type:"text/javascript"}),i=mn()(a)):i=gn()(a),i.then((e=>{u=!0,Nn=!1;e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})}))}))}const vn=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let _n=null,Sn=null,kn={},Nn=!1,En=!1;function In(e,t=!1){if(Nn)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"===typeof e)Sn=e;else{kn=e;const t=vn.filter((e=>null==kn[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}En=t}let Tn=-1,An=null;const Mn="3.13.0";(0,s.jqO)("wasm",(async()=>{const{wasm:e}=await xn();return new bn(e)}),2)},8349:function(e,t,n){var r=n(3454),a=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){function a(){return R.buffer!=B&&te(R.buffer),P}function s(){return R.buffer!=B&&te(R.buffer),L}function o(){return R.buffer!=B&&te(R.buffer),V}function i(){return R.buffer!=B&&te(R.buffer),z}function u(){return R.buffer!=B&&te(R.buffer),W}var c,l,p,d="undefined"!==typeof(t=t||{})?t:{};d.ready=new Promise((function(e,t){c=e,l=t})),"undefined"!==typeof r&&r.listeners&&(p={uncaughtException:r.listeners("uncaughtException"),unhandledRejection:r.listeners("unhandledRejection")});var h,f={};for(h in d)d.hasOwnProperty(h)&&(f[h]=d[h]);var m=[],y=function(e,t){throw t},g=!1,b=!1,w=!1,x=!1;g="object"===typeof window,b="function"===typeof importScripts,w="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,x=!g&&!w&&!b;var v=d.ENVIRONMENT_IS_PTHREAD||!1;v&&(B=d.buffer);var _,S,k,N,E,I="";function T(e){return d.locateFile?d.locateFile(e,I):I+e}if(w){var A;I=b?n(2980).dirname(I)+"/":"//",_=function(e,t){return N||(N=n(7256)),E||(E=n(2980)),e=E.normalize(e),N.readFileSync(e,t?null:"utf8")},k=function(e){var t=_(e,!0);return t.buffer||(t=new Uint8Array(t)),H(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),m=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof bn))throw e})),r.on("unhandledRejection",ve),y=function(e){r.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{A=n(7958)}catch(_n){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),_n}n.g.Worker=A.Worker}else x?("undefined"!=typeof read&&(_=function(e){return read(e)}),k=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(H("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?m=scriptArgs:"undefined"!=typeof arguments&&(m=arguments),"function"===typeof quit&&(y=function(e){quit(e)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(g||b)&&(b?I=self.location.href:"undefined"!==typeof document&&document.currentScript&&(I=document.currentScript.src),"undefined"!==typeof e&&e&&(I=e),I=0!==I.indexOf("blob:")?I.substr(0,I.lastIndexOf("/")+1):"",w?(_=function(e,t){return N||(N=n(7256)),E||(E=n(2980)),e=E.normalize(e),N.readFileSync(e,t?null:"utf8")},k=function(e){var t=_(e,!0);return t.buffer||(t=new Uint8Array(t)),H(t.buffer),t}):(_=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(k=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),S=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),function(e){document.title=e});w&&"undefined"===typeof performance&&(n.g.performance=n(4862).performance);var M=d.print||console.log.bind(console),O=d.printErr||console.warn.bind(console);for(h in f)f.hasOwnProperty(h)&&(d[h]=f[h]);function D(e){D.shown||(D.shown={}),D.shown[e]||(D.shown[e]=1,O(e))}f=null,d.arguments&&(m=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(y=d.quit);var F;Atomics.load,Atomics.store,Atomics.compareExchange;d.wasmBinary&&(F=d.wasmBinary);var R,C,$=d.noExitRuntime||!0;"object"!==typeof WebAssembly&&ve("no native wasm support detected");var B,P,L,V,z,W,U=!1;function H(e,t){e||ve("Assertion failed: "+t)}function j(e){var t=d["_"+e];return H(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function q(e,t,n,r,a){var s={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);Q(e,t=hn(n),n)}return t},array:function(e){var t=hn(e.length);return J(e,t),t}};var o=j(e),i=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=s[n[c]];l?(0===u&&(u=pn()),i[c]=l(r[c])):i[c]=r[c]}var p=o.apply(null,i);return p=function(e){return"string"===t?K(e):"boolean"===t?Boolean(e):e}(p),0!==u&&dn(u),p}function Z(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?j(e):function(){return q(e,t,n,arguments)}}function G(e,t,n){for(var r=t+n,a="";!(t>=r);){var s=e[t++];if(!s)return a;if(128&s){var o=63&e[t++];if(192!=(224&s)){var i=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|i:(7&s)<<18|o<<12|i<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function K(e,t){return e?G(s(),e,t):""}function X(e,t,n,r){if(!(r>0))return 0;for(var a=n,s=n+r-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o);if(i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-a}function Q(e,t,n){return X(e,s(),t,n)}function Y(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function J(e,t){a().set(e,t)}function ee(e,t){return e%t>0&&(e+=t-e%t),e}function te(e){B=e,d.HEAP8=P=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=V=new Int32Array(e),d.HEAPU8=L=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=z=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=W=new Float64Array(e)}var ne,re=d.INITIAL_MEMORY||16777216;if(v)R=d.wasmMemory,B=d.buffer;else if(d.wasmMemory)R=d.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:re/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw O("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(B=R.buffer),re=B.byteLength,te(B);var ae=[],se=[],oe=[],ie=[],ue=[];function ce(){if(!v){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)fe(d.preRun.shift());Fe(ae)}}function le(){!0,v||Fe(se)}function pe(){v||Fe(oe)}function de(){v||!0}function he(){if(!v){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)me(d.postRun.shift());Fe(ue)}}function fe(e){ae.unshift(e)}function me(e){ue.unshift(e)}v||se.push({func:function(){Kt()}});var ye=0,ge=null,be=null;function we(e){H(!v,"addRunDependency cannot be used in a pthread worker"),ye++,d.monitorRunDependencies&&d.monitorRunDependencies(ye)}function xe(e){if(ye--,d.monitorRunDependencies&&d.monitorRunDependencies(ye),0==ye&&(null!==ge&&(clearInterval(ge),ge=null),be)){var t=be;be=null,t()}}function ve(e){d.onAbort&&d.onAbort(e),v&&console.error("Pthread aborting at "+(new Error).stack),O(e+=""),U=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw l(t),t}function _e(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}d.preloadedImages={},d.preloadedAudios={};var Se="data:application/octet-stream;base64,";function ke(e){return _e(e,Se)}var Ne="file://";function Ee(e){return _e(e,Ne)}var Ie="tfjs-backend-wasm-threaded-simd.wasm";function Te(e){try{if(e==Ie&&F)return new Uint8Array(F);if(k)return k(e);throw"both async and sync fetching of the wasm failed"}catch(O){ve(O)}}function Ae(){if(!F&&(g||b)){if("function"===typeof fetch&&!Ee(Ie))return fetch(Ie,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ie+"'";return e.arrayBuffer()})).catch((function(){return Te(Ie)}));if(S)return new Promise((function(e,t){S(Ie,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return Te(Ie)}))}function Me(){var e={a:Gt};function t(e,t){var n=e.exports;if(d.asm=n,ne=d.asm.I,C=t,!v){var r=Ve.unusedWorkers.length;Ve.unusedWorkers.forEach((function(e){Ve.loadWasmModuleToWorker(e,(function(){--r||xe()}))}))}}function n(e){t(e.instance,e.module)}function r(t){return Ae().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){O("failed to asynchronously prepare wasm: "+e),ve(e)}))}if(v||we(),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(_n){return O("Module.instantiateWasm callback failed with error: "+_n),!1}return(F||"function"!==typeof WebAssembly.instantiateStreaming||ke(Ie)||Ee(Ie)||"function"!==typeof fetch?r(n):fetch(Ie,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return O("wasm streaming compile failed: "+e),O("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(l),{}}ke(Ie)||(Ie=T(Ie));var Oe={10664:function(){throw"Canceled!"},10682:function(e,t){setTimeout((function(){sn(e,t)}),0)}};function De(){Ve.initRuntime()}function Fe(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?ne.get(n)():ne.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(d)}}var Re={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Ce(e,t){if(e<=0||e>a().length||!0&e||t<0)return-28;if(0==t)return 0;t>=2147483647&&(t=1/0);var n=Atomics.load(o(),gn>>2),r=0;if(n==e&&(Atomics.compareExchange(o(),gn>>2,n,0)==n&&(r=1,--t<=0)))return 1;var s=Atomics.notify(o(),e>>2,t);if(s>=0)return s+r;throw"Atomics.notify returned an unexpected value "+s}function $e(e){if(v)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";o()[e+12>>2]=0;var t=Ve.pthreads[e];t.worker.terminate(),Ve.freeThreadData(t),Ve.runningWorkers.splice(Ve.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}function Be(e){if(v)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";Ve.pthreads[e].worker.postMessage({cmd:"cancel"})}function Pe(e){if(v)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var t=Ve.pthreads[e];if(t){o()[e+12>>2]=0;var n=t.worker;Ve.returnWorkerToPool(n)}}d._emscripten_futex_wake=Ce;var Le,Ve={unusedWorkers:[],runningWorkers:[],initMainThreadBlock:function(){for(var e=0;e<8;++e)Ve.allocateUnusedWorker()},initRuntime:function(){for(var e=Xt(228),t=0;t<57;++t)i()[e/4+t]=0;o()[e+12>>2]=e;var n=e+152;o()[n>>2]=n;var r=Xt(512);for(t=0;t<128;++t)i()[r/4+t]=0;Atomics.store(i(),e+100>>2,r),Atomics.store(i(),e+40>>2,e),ln(e,!b,1),rn(e)},initWorker:function(){},pthreads:{},threadExitHandlers:[],setThreadStatus:function(){},runExitHandlers:function(){for(;Ve.threadExitHandlers.length>0;)Ve.threadExitHandlers.pop()();v&&en()&&tn()},runExitHandlersAndDeinitThread:function(e,t){Atomics.store(i(),e+56>>2,1),Atomics.store(i(),e+60>>2,0),Ve.runExitHandlers(),Atomics.store(i(),e+4>>2,t),Atomics.store(i(),e+0>>2,1),Ce(e+0,2147483647),ln(0,0,0)},threadExit:function(e){var t=en();t&&(Ve.runExitHandlersAndDeinitThread(t,e),v&&postMessage({cmd:"exit"}))},threadCancel:function(){Ve.runExitHandlersAndDeinitThread(en(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in Ve.pthreads){(r=Ve.pthreads[e])&&r.worker&&Ve.returnWorkerToPool(r.worker)}Ve.pthreads={};for(var t=0;t<Ve.unusedWorkers.length;++t){(n=Ve.unusedWorkers[t]).terminate()}Ve.unusedWorkers=[];for(t=0;t<Ve.runningWorkers.length;++t){var n,r=(n=Ve.runningWorkers[t]).pthread;Ve.freeThreadData(r),n.terminate()}Ve.runningWorkers=[]},freeThreadData:function(e){if(e){if(e.threadInfoStruct){var t=o()[e.threadInfoStruct+100>>2];o()[e.threadInfoStruct+100>>2]=0,Qt(t),Qt(e.threadInfoStruct)}e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&Qt(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null)}},returnWorkerToPool:function(e){Ve.runWithoutMainThreadQueuedCalls((function(){delete Ve.pthreads[e.pthread.threadInfoStruct],Ve.unusedWorkers.push(e),Ve.runningWorkers.splice(Ve.runningWorkers.indexOf(e),1),Ve.freeThreadData(e.pthread),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){o()[yn>>2]=0;try{e()}finally{o()[yn>>2]=1}},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(t,n){t.onmessage=function(e){var r=e.data,a=r.cmd;if(t.pthread&&(Ve.currentProxiedOperationCallerThread=t.pthread.threadInfoStruct),r.targetThread&&r.targetThread!=en()){var s=Ve.pthreads[r.targetThread];return s?s.worker.postMessage(e.data,r.transferList):console.error('Internal error! Worker sent a message "'+a+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(Ve.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===a)nn();else if("spawnThread"===a)Bt(e.data);else if("cleanupThread"===a)Pe(r.thread);else if("killThread"===a)$e(r.thread);else if("cancelThread"===a)Be(r.thread);else if("loaded"===a)t.loaded=!0,n&&n(t),t.runPthread&&(t.runPthread(),delete t.runPthread);else if("print"===a)M("Thread "+r.threadId+": "+r.text);else if("printErr"===a)O("Thread "+r.threadId+": "+r.text);else if("alert"===a)alert("Thread "+r.threadId+": "+r.text);else if("exit"===a){t.pthread&&Atomics.load(i(),t.pthread.threadInfoStruct+64>>2)&&Ve.returnWorkerToPool(t)}else if("exitProcess"===a)try{xn(r.returnCode)}catch(e){if(e instanceof bn)return;throw e}else"cancelDone"===a?Ve.returnWorkerToPool(t):"objectTransfer"===a?Ve.receiveObjectTransfer(e.data):"setimmediate"===e.data.target?t.postMessage(e.data):O("worker sent an unknown command "+a);Ve.currentProxiedOperationCallerThread=void 0},t.onerror=function(e){O("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},w&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("exit",(function(e){}))),t.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob||e,wasmMemory:R,wasmModule:C})},allocateUnusedWorker:function(){var e=T("tfjs-backend-wasm-threaded-simd.worker.js");Ve.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==Ve.unusedWorkers.length&&(Ve.allocateUnusedWorker(),Ve.loadWasmModuleToWorker(Ve.unusedWorkers[0])),Ve.unusedWorkers.length>0?Ve.unusedWorkers.pop():null},busySpinWait:function(e){for(var t=performance.now()+e;performance.now()<t;);}};function ze(e,t){fn(e,t),dn(e)}function We(){return $}function Ue(e,t){return ne.get(e)(t)}function He(e,t,n,r){ve("Assertion failed: "+K(e)+", at: "+[t?K(t):"unknown filename",n,r?K(r):"unknown function"])}function je(e,t){_main(e,t)}function qe(e){return o()[Yt()>>2]=e,e}function Ze(e,t){if(v)return tt(1,1,e,t)}function Ge(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(v)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var n=Ve.pthreads[e],r=n&&n.worker;if(!r)return;r.postMessage({cmd:"processThreadQueue"})}return 1}function Ke(){ve()}function Xe(e,t,n){var r=at(t,n);return Oe[e].apply(null,r)}function Qe(e,t){}function Ye(e,t,n){if(e<=0||e>a().length||!0&e)return-28;if(g){if(Atomics.load(o(),e>>2)!=t)return-6;var r=performance.now(),s=r+n;for(Atomics.exchange(o(),gn>>2,e);;){if((r=performance.now())>s)return Atomics.exchange(o(),gn>>2,0),-73;if(0==Atomics.exchange(o(),gn>>2,0))break;if(nn(),Atomics.load(o(),e>>2)!=t)return-6;Atomics.exchange(o(),gn>>2,e)}return 0}var i=Atomics.wait(o(),e>>2,t,n);if("timed-out"===i)return-73;if("not-equal"===i)return-6;if("ok"===i)return 0;throw"Atomics.wait returned an unexpected value "+i}function Je(e,t,n){s().copyWithin(e,t,t+n)}function et(){return w?n(2578).cpus().length:navigator.hardwareConcurrency}function tt(e,t){for(var n=arguments.length-2,r=pn(),a=n,s=hn(8*a),o=s>>3,i=0;i<n;i++){var c=arguments[2+i];u()[o+i]=c}var l=un(e,a,s,t);return dn(r),l}d.establishStackSpace=ze,d.getNoExitRuntime=We,d.invokeEntryPoint=Ue,Le=w?function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6}:v?function(){return performance.now()-d.__performance_now_clock_drift}:"undefined"!==typeof dateNow?dateNow:function(){return performance.now()};var nt=[],rt=[];function at(e,t){var n;for(rt.length=0,t>>=2;n=s()[e++];){var r=n<105;r&&1&t&&t++,rt.push(r?u()[t++>>1]:o()[t]),++t}return rt}function st(e,t,n){nt.length=t;for(var r=n>>3,a=0;a<t;a++)nt[a]=u()[r+a];return(e<0?Oe[-e-1]:Zt[e]).apply(null,nt)}function ot(){return s().length}function it(e){try{return R.grow(e-B.byteLength+65535>>>16),te(R.buffer),1}catch(_n){}}function ut(e){var t=ot();if(e<=t)return!1;var n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var a=t*(1+.2/r);if(a=Math.min(a,e+100663296),it(Math.min(n,ee(Math.max(e,a),65536))))return!0}return!1}var ct={inEventHandler:0,removeAllEventListeners:function(){for(var e=ct.eventHandlers.length-1;e>=0;--e)ct._removeHandler(e);ct.eventHandlers=[],ct.deferredCalls=[]},registerRemoveEventListeners:function(){ct.removeEventListenersRegistered||(ie.push(ct.removeAllEventListeners),ct.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function r(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var a in ct.deferredCalls){var s=ct.deferredCalls[a];if(s.targetFunction==e&&r(s.argsList,n))return}ct.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),ct.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<ct.deferredCalls.length;++t)ct.deferredCalls[t].targetFunction==e&&(ct.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return ct.inEventHandler&&ct.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(ct.canPerformEventHandlerRequests())for(var e=0;e<ct.deferredCalls.length;++e){var t=ct.deferredCalls[e];ct.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<ct.eventHandlers.length;++n)ct.eventHandlers[n].target!=e||t&&t!=ct.eventHandlers[n].eventTypeString||ct._removeHandler(n--)},_removeHandler:function(e){var t=ct.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),ct.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++ct.inEventHandler,ct.currentEventHandler=e,ct.runDeferredCalls(),e.handlerFunc(t),ct.runDeferredCalls(),--ct.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),ct.eventHandlers.push(e),ct.registerRemoveEventListeners();else for(var n=0;n<ct.eventHandlers.length;++n)ct.eventHandlers[n].target==e.target&&ct.eventHandlers[n].eventTypeString==e.eventTypeString&&ct._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(e,t,n,r,a){var s=pn(),i=hn(12);o()[i>>2]=n,o()[i+4>>2]=r,o()[i+8>>2]=a,cn(0,e,637534208,t,r,i),dn(s)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return Ve.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function lt(e){var t=Y(e)+1,n=Xt(t);return Q(e,n,t),n}function pt(e,t,n,r){var a=pn(),s=hn(12),i=0;t&&(i=lt(t)),o()[s>>2]=i,o()[s+4>>2]=n,o()[s+8>>2]=r,cn(0,e,657457152,0,i,s),dn(a)}function dt(e,t,n,r){pt(e,t=t?K(t):"",n,r)}function ht(e){return e>2?K(e):e}var ft=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];function mt(e){return e=ht(e),ft[e]||("undefined"!==typeof document?document.querySelector(e):void 0)}function yt(e){return mt(e)}function gt(e,t,n){var r=yt(e);if(!r)return-4;if(r.canvasSharedPtr&&(o()[r.canvasSharedPtr>>2]=t,o()[r.canvasSharedPtr+4>>2]=n),!r.offscreenCanvas&&r.controlTransferredOffscreen)return r.canvasSharedPtr?(dt(o()[r.canvasSharedPtr+8>>2],e,t,n),1):-4;r.offscreenCanvas&&(r=r.offscreenCanvas);var a=!1;if(r.GLctxObject&&r.GLctxObject.GLctx){var s=r.GLctxObject.GLctx.getParameter(2978);a=0===s[0]&&0===s[1]&&s[2]===r.width&&s[3]===r.height}return r.width=t,r.height=n,a&&r.GLctxObject.GLctx.viewport(0,0,t,n),0}function bt(e,t,n){return v?tt(2,1,e,t,n):gt(e,t,n)}function wt(e,t,n){return yt(e)?gt(e,t,n):bt(e,t,n)}function xt(e){}function vt(e,t){}function _t(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)return e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,s){t.drawElementsInstancedANGLE(e,n,r,a,s)},1}function St(e){var t=e.getExtension("OES_vertex_array_object");if(t)return e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)},1}function kt(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)return e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)},1}function Nt(e){return!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw"))}var Et={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){Et.lastError||(Et.lastError=e)},getNewId:function(e){for(var t=Et.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var a="",s=0;s<t;++s){var i=r?o()[r+4*s>>2]:-1;a+=K(o()[n+4*s>>2],i<0?void 0:i)}return a},createContext:function(e,t){var n=e.getContext("webgl",t);return n?Et.registerContext(n,t):0},registerContext:function(e,t){var n=Xt(8);o()[n+4>>2]=en();var r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),Et.contexts[n]=r,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Et.initExtensions(r),n},makeContextCurrent:function(e){return Et.currentContext=Et.contexts[e],d.ctx=Mt=Et.currentContext&&Et.currentContext.GLctx,!(e&&!Mt)},getContext:function(e){return Et.contexts[e]},deleteContext:function(e){Et.currentContext===Et.contexts[e]&&(Et.currentContext=null),"object"===typeof ct&&ct.removeAllHandlersOnTarget(Et.contexts[e].GLctx.canvas),Et.contexts[e]&&Et.contexts[e].GLctx.canvas&&(Et.contexts[e].GLctx.canvas.GLctxObject=void 0),Qt(Et.contexts[e].handle),Et.contexts[e]=null},initExtensions:function(e){if(e||(e=Et.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;_t(t),St(t),kt(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),Nt(t),(t.getSupportedExtensions()||[]).forEach((function(e){e.indexOf("lose_context")<0&&e.indexOf("debug")<0&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var t=Et.programs[e],n=Et.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=n.uniforms,a=Mt.getProgramParameter(t,35718),s=0;s<a;++s){var o=Mt.getActiveUniform(t,s),i=o.name;n.maxUniformLength=Math.max(n.maxUniformLength,i.length+1),"]"==i.slice(-1)&&(i=i.slice(0,i.lastIndexOf("[")));var u=Mt.getUniformLocation(t,i);if(u){var c=Et.getNewId(Et.uniforms);r[i]=[o.size,c],Et.uniforms[c]=u;for(var l=1;l<o.size;++l){var p=i+"["+l+"]";u=Mt.getUniformLocation(t,p),c=Et.getNewId(Et.uniforms),Et.uniforms[c]=u}}}}},It=["default","low-power","high-performance"];function Tt(e,t){var n=t>>2,r=o()[n+6],a={alpha:!!o()[n+0],depth:!!o()[n+1],stencil:!!o()[n+2],antialias:!!o()[n+3],premultipliedAlpha:!!o()[n+4],preserveDrawingBuffer:!!o()[n+5],powerPreference:It[r],failIfMajorPerformanceCaveat:!!o()[n+7],majorVersion:o()[n+8],minorVersion:o()[n+9],enableExtensionsByDefault:o()[n+10],explicitSwapControl:o()[n+11],proxyContextToMainThread:o()[n+12],renderViaOffscreenBackBuffer:o()[n+13]},s=yt(e);return s?a.explicitSwapControl?0:Et.createContext(s,a):0}function At(e,t){return Tt(e,t)}var Mt,Ot={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Ot.buffers[e];0===t||10===t?((1===e?M:O)(G(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Ot.varargs+=4,o()[Ot.varargs-4>>2]},getStr:function(e){return K(e)},get64:function(e,t){return e}};function Dt(e){return v?tt(3,1,e):0}function Ft(e,t,n,r,a){if(v)return tt(4,1,e,t,n,r,a)}function Rt(e,t,n,r){if(v)return tt(5,1,e,t,n,r);for(var a=0,i=0;i<n;i++){for(var u=o()[t+8*i>>2],c=o()[t+(8*i+4)>>2],l=0;l<c;l++)Ot.printChar(e,s()[u+l]);a+=c}return o()[r>>2]=a,0}function Ct(e){var t=Ve.threadExitHandlers.pop();e&&t()}function $t(e,t){Ve.threadExitHandlers.push((function(){ne.get(e)(t)}))}function Bt(e){if(v)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var t=Ve.getNewWorker();if(void 0!==t.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";Ve.runningWorkers.push(t);for(var n=Xt(512),r=0;r<128;++r)o()[n+4*r>>2]=0;var a=e.stackBase+e.stackSize,s=Ve.pthreads[e.pthread_ptr]={worker:t,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},u=s.threadInfoStruct>>2;Atomics.store(i(),u+16,e.detached),Atomics.store(i(),u+25,n),Atomics.store(i(),u+10,s.threadInfoStruct),Atomics.store(i(),u+20,e.stackSize),Atomics.store(i(),u+19,a),Atomics.store(i(),u+26,e.stackSize),Atomics.store(i(),u+28,a),Atomics.store(i(),u+29,e.detached);var c=Jt()+40;Atomics.store(i(),u+43,c),t.pthread=s;var l={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};t.runPthread=function(){l.time=performance.now(),t.postMessage(l,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread)}function Pt(e,t,n,r){if("undefined"===typeof SharedArrayBuffer)return O("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return O("pthread_create called with a null thread pointer!"),28;var a=[];if(v&&0===a.length)return on(687865856,e,t,n,r);var s=0,u=0,c=0;t&&-1!=t?(s=o()[t>>2],s+=81920,u=o()[t+8>>2],c=0!==o()[t+12>>2]):s=2097152;var l=0==u;l?u=mn(16,s):H((u-=s)>0);for(var p=Xt(228),d=0;d<57;++d)i()[(p>>2)+d]=0;o()[e>>2]=p,o()[p+12>>2]=p;var h=p+152;o()[h>>2]=h;var f={stackBase:u,stackSize:s,allocatedOwnStack:l,detached:c,startRoutine:n,pthread_ptr:p,arg:r,transferList:a};return v?(f.cmd="spawnThread",postMessage(f,a)):Bt(f),0}function Lt(){if(v){var e=en();if(e)if(!Atomics.load(i(),e+56>>2))if(2==Atomics.load(i(),e+0>>2))throw"Canceled!"}}function Vt(){w||b||D("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function zt(e,t,n){if(!e)return O("pthread_join attempted on a null thread pointer!"),Re.ESRCH;if(v&&en()==e)return O("PThread "+e+" is attempting to join to itself!"),Re.EDEADLK;if(!v&&an()==e)return O("Main thread "+e+" is attempting to join to itself!"),Re.EDEADLK;if(o()[e+12>>2]!==e)return O("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),Re.ESRCH;if(Atomics.load(i(),e+64>>2))return O("Attempted to join thread "+e+", which was already detached!"),Re.EINVAL;for(n&&Vt();;){var r=Atomics.load(i(),e+0>>2);if(1==r){var a=Atomics.load(i(),e+4>>2);return t&&(o()[t>>2]=a),Atomics.store(i(),e+64>>2,1),v?postMessage({cmd:"cleanupThread",thread:e}):Pe(e),0}if(!n)return Re.EBUSY;Lt(),v||nn(),Ye(e+0,r,v?100:1)}}function Wt(e,t){return zt(e,t,!0)}function Ut(e){if(v)return tt(6,1,e);switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return qe(28),-1}v||Ve.initMainThreadBlock();var Ht,jt,qt,Zt=[null,Ze,bt,Dt,Ft,Rt,Ut],Gt={e:He,r:je,x:Ge,b:Ke,y:Xe,j:Qe,d:Ye,c:Ce,f:Le,p:Je,A:et,u:st,q:ut,v:wt,i:xt,s:vt,w:At,l:Dt,n:Ft,g:Rt,o:De,a:R||d.wasmMemory,z:Ct,k:$t,h:Pt,m:Wt,t:Ut},Kt=(Me(),d.___wasm_call_ctors=function(){return(Kt=d.___wasm_call_ctors=d.asm.B).apply(null,arguments)}),Xt=(d._init=function(){return(d._init=d.asm.C).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.D).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.E).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.F).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.G).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.H).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.J).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.K).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.L).apply(null,arguments)},d._All=function(){return(d._All=d.asm.M).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.N).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.O).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.P).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.Q).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.R).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.S).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.T).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.U).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.V).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.W).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.X).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Y).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.Z).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm._).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.$).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.aa).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.ba).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.ca).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.da).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.ea).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.fa).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.ga).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.ha).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.ia).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.ja).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.ka).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.la).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.ma).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.na).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.oa).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.pa).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.qa).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.ra).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.sa).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.ta).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.ua).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.va).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.wa).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.xa).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.ya).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.za).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.Aa).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.Ba).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.Ca).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.Da).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.Ea).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.Fa).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Ga).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Ha).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Ia).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.Ja).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Ka).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.La).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.Ma).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Na).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.Oa).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Pa).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Qa).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.Ra).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.Sa).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Ta).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Ua).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Va).apply(null,arguments)},d._SparseFillEmptyRows=function(){return(d._SparseFillEmptyRows=d.asm.Wa).apply(null,arguments)},d._SparseReshape=function(){return(d._SparseReshape=d.asm.Xa).apply(null,arguments)},d._SparseSegmentReduction=function(){return(d._SparseSegmentReduction=d.asm.Ya).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Za).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm._a).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.$a).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.ab).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm.bb).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.cb).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.db).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.eb).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.fb).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.gb).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.hb).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.ib).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.jb).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm.kb).apply(null,arguments)},d._malloc=function(){return(Xt=d._malloc=d.asm.lb).apply(null,arguments)}),Qt=d._free=function(){return(Qt=d._free=d.asm.mb).apply(null,arguments)},Yt=d.___errno_location=function(){return(Yt=d.___errno_location=d.asm.nb).apply(null,arguments)},Jt=d._emscripten_get_global_libc=function(){return(Jt=d._emscripten_get_global_libc=d.asm.ob).apply(null,arguments)},en=d._pthread_self=function(){return(en=d._pthread_self=d.asm.pb).apply(null,arguments)},tn=d.___pthread_tsd_run_dtors=function(){return(tn=d.___pthread_tsd_run_dtors=d.asm.qb).apply(null,arguments)},nn=d._emscripten_main_thread_process_queued_calls=function(){return(nn=d._emscripten_main_thread_process_queued_calls=d.asm.rb).apply(null,arguments)},rn=(d._emscripten_current_thread_process_queued_calls=function(){return(d._emscripten_current_thread_process_queued_calls=d.asm.sb).apply(null,arguments)},d._emscripten_register_main_browser_thread_id=function(){return(rn=d._emscripten_register_main_browser_thread_id=d.asm.tb).apply(null,arguments)}),an=d._emscripten_main_browser_thread_id=function(){return(an=d._emscripten_main_browser_thread_id=d.asm.ub).apply(null,arguments)},sn=d.__emscripten_do_dispatch_to_thread=function(){return(sn=d.__emscripten_do_dispatch_to_thread=d.asm.vb).apply(null,arguments)},on=d._emscripten_sync_run_in_main_thread_4=function(){return(on=d._emscripten_sync_run_in_main_thread_4=d.asm.wb).apply(null,arguments)},un=d._emscripten_run_in_main_runtime_thread_js=function(){return(un=d._emscripten_run_in_main_runtime_thread_js=d.asm.xb).apply(null,arguments)},cn=d.__emscripten_call_on_thread=function(){return(cn=d.__emscripten_call_on_thread=d.asm.yb).apply(null,arguments)},ln=(d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.zb).apply(null,arguments)},d.__emscripten_thread_init=function(){return(ln=d.__emscripten_thread_init=d.asm.Ab).apply(null,arguments)}),pn=d.stackSave=function(){return(pn=d.stackSave=d.asm.Bb).apply(null,arguments)},dn=d.stackRestore=function(){return(dn=d.stackRestore=d.asm.Cb).apply(null,arguments)},hn=d.stackAlloc=function(){return(hn=d.stackAlloc=d.asm.Db).apply(null,arguments)},fn=d._emscripten_stack_set_limits=function(){return(fn=d._emscripten_stack_set_limits=d.asm.Eb).apply(null,arguments)},mn=d._memalign=function(){return(mn=d._memalign=d.asm.Fb).apply(null,arguments)},yn=d.__emscripten_allow_main_runtime_queued_calls=10656,gn=d.__emscripten_main_thread_futex=12292;function bn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function wn(e){if(e=e||m,!(ye>0)){if(v)return c(d),le(),void postMessage({cmd:"loaded"});ce(),ye>0||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),t()}),1)):t())}function t(){Ht||(Ht=!0,d.calledRun=!0,U||(le(),pe(),c(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),he()))}}function xn(e,t){if(!t||!$||0!==e){if(!t&&v)throw postMessage({cmd:"exitProcess",returnCode:e}),new bn(e);$||(Ve.terminateAllThreads(),e,de(),d.onExit&&d.onExit(e),U=!0),y(e,new bn(e))}}if(d.cwrap=Z,d.PThread=Ve,d.PThread=Ve,d.wasmMemory=R,d.ExitStatus=bn,be=function e(){Ht||wn(),Ht||(be=e)},d.run=wn,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();if(v&&($=!1,Ve.initWorker()),wn(),p&&(jt={uncaughtException:r.listeners("uncaughtException").filter((function(e){return!p.uncaughtException.indexOf(e)>-1})),unhandledRejection:r.listeners("unhandledRejection").filter((function(e){return!p.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof WasmBackendModule)qt=WasmBackendModule;else{if("undefined"===typeof t)throw new Error("Could not find wasm module in post.js");qt=t}if(jt){var vn=qt._dispose;qt._dispose=function(){vn(),jt.uncaughtException.forEach((function(e){r.removeListener("uncaughtException",e)})),jt.unhandledRejection.forEach((function(e){r.removeListener("unhandledRejection",e)}))}}return t.ready}}();e.exports=a},7234:function(e,t,n){var r=n(3454),a=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var a,s,o,i="undefined"!==typeof(t=t||{})?t:{};i.ready=new Promise((function(e,t){a=e,s=t})),"undefined"!==typeof r&&r.listeners&&(o={uncaughtException:r.listeners("uncaughtException"),unhandledRejection:r.listeners("unhandledRejection")});var u,c={};for(u in i)i.hasOwnProperty(u)&&(c[u]=i[u]);var l=[],p=!1,d=!1,h=!1,f=!1;p="object"===typeof window,d="function"===typeof importScripts,h="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,f=!p&&!h&&!d;var m,y,g,b,w,x="";function v(e){return i.locateFile?i.locateFile(e,x):x+e}h?(x=d?n(2980).dirname(x)+"/":"//",m=function(e,t){return b||(b=n(7256)),w||(w=n(2980)),e=w.normalize(e),b.readFileSync(e,t?null:"utf8")},g=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),I(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),l=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof Pe))throw e})),r.on("unhandledRejection",se),function(e){r.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(m=function(e){return read(e)}),g=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(I("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?l=scriptArgs:"undefined"!=typeof arguments&&(l=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||d)&&(d?x=self.location.href:"undefined"!==typeof document&&document.currentScript&&(x=document.currentScript.src),e&&(x=e),x=0!==x.indexOf("blob:")?x.substr(0,x.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),y=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var _,S=i.print||console.log.bind(console),k=i.printErr||console.warn.bind(console);for(u in c)c.hasOwnProperty(u)&&(i[u]=c[u]);c=null,i.arguments&&(l=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(_=i.wasmBinary);var N;i.noExitRuntime;"object"!==typeof WebAssembly&&se("no native wasm support detected");var E=!1;function I(e,t){e||se("Assertion failed: "+t)}function T(e){var t=i["_"+e];return I(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function A(e,t,n,r,a){var s={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);L(e,t=Be(n),n)}return t},array:function(e){var t=Be(e.length);return V(e,t),t}};var o=T(e),i=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=s[n[c]];l?(0===u&&(u=Ce()),i[c]=l(r[c])):i[c]=r[c]}var p=o.apply(null,i);return p=function(e){return"string"===t?B(e):"boolean"===t?Boolean(e):e}(p),0!==u&&$e(u),p}function M(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?T(e):function(){return A(e,t,n,arguments)}}var O,D,F,R,C="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function $(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&C)return C.decode(e.subarray(t,a));for(var s="";t<a;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|u:(7&o)<<18|i<<12|u<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var c=o-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else s+=String.fromCharCode((31&o)<<6|i)}else s+=String.fromCharCode(o)}return s}function B(e,t){return e?$(F,e,t):""}function P(e,t,n,r){if(!(r>0))return 0;for(var a=n,s=n+r-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o);if(i<=127){if(n>=s)break;t[n++]=i}else if(i<=2047){if(n+1>=s)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=s)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=s)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-a}function L(e,t,n){return P(e,F,t,n)}function V(e,t){D.set(e,t)}function z(e,t){return e%t>0&&(e+=t-e%t),e}function W(e){O=e,i.HEAP8=D=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=R=new Int32Array(e),i.HEAPU8=F=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var U,H=[],j=[],q=[],Z=[];function G(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)Y(i.preRun.shift());me(H)}function K(){!0,me(j)}function X(){me(q)}function Q(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)J(i.postRun.shift());me(Z)}function Y(e){H.unshift(e)}function J(e){Z.unshift(e)}j.push({func:function(){Fe()}});var ee=0,te=null,ne=null;function re(e){ee++,i.monitorRunDependencies&&i.monitorRunDependencies(ee)}function ae(e){if(ee--,i.monitorRunDependencies&&i.monitorRunDependencies(ee),0==ee&&(null!==te&&(clearInterval(te),te=null),ne)){var t=ne;ne=null,t()}}function se(e){i.onAbort&&i.onAbort(e),k(e+=""),E=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw s(t),t}function oe(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}i.preloadedImages={},i.preloadedAudios={};var ie="data:application/octet-stream;base64,";function ue(e){return oe(e,ie)}var ce="file://";function le(e){return oe(e,ce)}var pe="tfjs-backend-wasm.wasm";function de(e){try{if(e==pe&&_)return new Uint8Array(_);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(k){se(k)}}function he(){if(!_&&(p||d)){if("function"===typeof fetch&&!le(pe))return fetch(pe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()})).catch((function(){return de(pe)}));if(y)return new Promise((function(e,t){y(pe,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return de(pe)}))}function fe(){var e={a:De};function t(e,t){var n=e.exports;i.asm=n,W((N=i.asm.j).buffer),U=i.asm.r,ae()}function n(e){t(e.instance)}function r(t){return he().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){k("failed to asynchronously prepare wasm: "+e),se(e)}))}if(re(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(a){return k("Module.instantiateWasm callback failed with error: "+a),!1}return(_||"function"!==typeof WebAssembly.instantiateStreaming||ue(pe)||le(pe)||"function"!==typeof fetch?r(n):fetch(pe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return k("wasm streaming compile failed: "+e),k("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(s),{}}function me(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?U.get(n)():U.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}function ye(){se()}function ge(e,t,n){F.copyWithin(e,t,t+n)}function be(){return F.length}function we(e){try{return N.grow(e-O.byteLength+65535>>>16),W(N.buffer),1}catch(t){}}function xe(e){var t=be(),n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var a=t*(1+.2/r);if(a=Math.min(a,e+100663296),we(Math.min(n,z(Math.max(e,a),65536))))return!0}return!1}ue(pe)||(pe=v(pe));var ve={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=ve.buffers[e];0===t||10===t?((1===e?S:k)($(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return ve.varargs+=4,R[ve.varargs-4>>2]},getStr:function(e){return B(e)},get64:function(e,t){return e}};function _e(e){return 0}function Se(e,t,n,r,a){}function ke(e,t,n,r){for(var a=0,s=0;s<n;s++){for(var o=R[t+8*s>>2],i=R[t+(8*s+4)>>2],u=0;u<i;u++)ve.printChar(e,F[o+u]);a+=i}return R[r>>2]=a,0}function Ne(){return 6}function Ee(){return 28}function Ie(e){return R[Re()>>2]=e,e}function Te(e){switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return Ie(28),-1}var Ae,Me,Oe,De={a:ye,d:ge,e:xe,f:_e,c:Se,b:ke,h:Ne,g:Ee,i:Te},Fe=(fe(),i.___wasm_call_ctors=function(){return(Fe=i.___wasm_call_ctors=i.asm.k).apply(null,arguments)}),Re=(i._init=function(){return(i._init=i.asm.l).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.m).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.n).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.o).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.p).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.q).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.s).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.t).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.u).apply(null,arguments)},i._All=function(){return(i._All=i.asm.v).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.w).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.x).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.y).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.z).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.A).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.B).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.C).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.D).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.E).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.F).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.G).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.H).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.I).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.J).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.K).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.L).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.M).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.N).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.O).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.P).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.Q).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.R).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.S).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.T).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.U).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.V).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.W).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.X).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Y).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.Z).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm._).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.$).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.aa).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.ba).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.ca).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.da).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.ea).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.fa).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.ga).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.ha).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.ia).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.ja).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.ka).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.la).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.ma).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.na).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.oa).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.pa).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.qa).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.ra).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.sa).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.ta).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.ua).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.va).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.wa).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.xa).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.ya).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.za).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.Aa).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.Ba).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Ca).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Da).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Ea).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.Fa).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.Ga).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.Ha).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Ia).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Ja).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.Ka).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.La).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.Ma).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Na).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Oa).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Pa).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Qa).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Ra).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.Sa).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Ta).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Ua).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm.Va).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.Wa).apply(null,arguments)},i._free=function(){return(i._free=i.asm.Xa).apply(null,arguments)},i.___errno_location=function(){return(Re=i.___errno_location=i.asm.Ya).apply(null,arguments)}),Ce=i.stackSave=function(){return(Ce=i.stackSave=i.asm.Za).apply(null,arguments)},$e=i.stackRestore=function(){return($e=i.stackRestore=i.asm._a).apply(null,arguments)},Be=i.stackAlloc=function(){return(Be=i.stackAlloc=i.asm.$a).apply(null,arguments)};function Pe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Le(e){function t(){Ae||(Ae=!0,i.calledRun=!0,E||(K(),X(),a(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Q()))}e=e||l,ee>0||(G(),ee>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i.cwrap=M,ne=function e(){Ae||Le(),Ae||(ne=e)},i.run=Le,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(Le(),o&&(Me={uncaughtException:r.listeners("uncaughtException").filter((function(e){return!o.uncaughtException.indexOf(e)>-1})),unhandledRejection:r.listeners("unhandledRejection").filter((function(e){return!o.unhandledRejection.indexOf(e)>-1}))}),"undefined"!==typeof t)Oe=t;else{if("undefined"===typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");Oe=WasmBackendModuleThreadedSimd}if(Me){var Ve=Oe._dispose;Oe._dispose=function(){Ve(),Me.uncaughtException.forEach((function(e){r.removeListener("uncaughtException",e)})),Me.unhandledRejection.forEach((function(e){r.removeListener("unhandledRejection",e)}))}}return t.ready}}();e.exports=a},8713:function(e,t,n){"use strict";n.d(t,{JL:function(){return r},Zu:function(){return a}});class r{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class a{refCount(e){return s("refCount")}incRef(e){return s("incRef")}timerAvailable(){return!0}time(e){return s("time")}read(e){return s("read")}readSync(e){return s("readSync")}readToGPU(e,t){return s("readToGPU")}numDataIds(){return s("numDataIds")}disposeData(e,t){return s("disposeData")}write(e,t,n){return s("write")}move(e,t,n,r,a){return s("move")}memory(){return s("memory")}floatPrecision(){return s("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return s("dispose")}}function s(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},196:function(e,t,n){"use strict";n.d(t,{BV:function(){return x},wv:function(){return w}});var r=n(8713),a=n(2885),s=n(5938),o=n(9121),i=n(6151),u=n(4706),c=n(3418),l=n(569);class p{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new h)}profileKernel(e,t,n){let r;const s=()=>{r=n()};let o;const i=c.now();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(s);else{s();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:c.now()-i})}if((0,a.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let a=0;a<r.length;a++){const t=r[a];t.data().then((n=>{d(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:s}=e;n.forEach((e=>{Promise.all([e.data(),r,s]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function d(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class h{logKernelProfile(e,t,n,r,a,s){const o="number"===typeof r?l.oj(`${r}ms`,9):r.error,i=l.oj(e,25),u=t.rank,c=t.size,p=l.oj(t.shape.toString(),14);let d="";for(const l in a){const e=a[l];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${l}: ${r}D ${r>0?n:""} `}}console.log(`%c${i}\t%c${o}\t%c${u}D ${p}\t%c${c}\t%c${d}\t%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var f=n(974),m=n(747);function y(e){return null!=e.kernelName}class g{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class b{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new g}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void(await this.setBackend(n))}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(u.Z(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new p(this.backendInstance),!0}setupRegisteredKernels(){(0,i.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,i.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof r.Zu||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,u.Z(`Initialization of backend ${e} failed`),u.Z(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return u.Z(`Initialization of backend ${e} failed`),u.Z(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),s=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return b.nextTensorId++}nextVariableId(){return b.nextVariableId++}clone(e){const t=x.runKernel(o.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return x.runKernel(o.RF,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=(0,i.pI)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-s;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,s=this.state.numTensors;let o,u;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=y(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(y(e)){const{kernelName:t,inputs:a,attrs:s}=e;null==this.backendName&&this.backend;const c=(0,i.pI)(t,this.backendName);l.hu(null!=c,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();u=c.kernelFunc({inputs:a,attrs:s,backend:this.backend});const o=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const i=o.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:n,dtype:r}=e;return this.makeTensorFromDataId(t,n,r)}));if(r){const e=this.getTensorsForGradient(t,a,i);n=this.saveTensorsForBackwardMode(e)}return i}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();u=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:p,attrs:d}=e,h=y(e)?null:e.backwardsFunc;let f;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(f=this.profiler.profileKernel(c,p,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(f),t=f.outputs):t=o()})),r&&this.addTapeNode(c,p,t,h,n,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(p).map((e=>null!=p[e]?p[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:f.timeMs,extraInfo:f.extraInfo}),Array.isArray(u)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=(0,i.uk)(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let s;r.saveAllInputs?(l.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),s=Object.keys(t).map((e=>t[e]))):s=e.map((e=>t[e]));const o=n.filter(((e,t)=>a[t]));return s.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&l.HD(e[0])&&(a=e.map((e=>c.encodeString(e))));const s=r.write(a,t,n),o=new f.es(t,n,s,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(s),t=(0,l.Ub)(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){n=n||"float32";const a=new f.es(t,n,e,this.nextTensorId());return this.trackTensor(a,r),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new f._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*l.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof f._w||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*l.bT(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,s){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=(0,i.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=l.wT(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,s))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,m.Vu)(e),n=new Set(t.map((e=>e.id)));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(l.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));l.hu(a instanceof f.es,(()=>"The result y returned by f() must be a tensor."));const s=function(e,t,n){const r={},a={};for(let u=0;u<t.length;u++)r[t[u].id]=!0;for(let u=0;u<e.length;u++){const n=e[u],s=n.inputs;for(const e in s){const o=s[e];let i=!1;for(let e=0;e<t.length;e++)if(r[o.id]){n.outputs.forEach((e=>r[e.id]=!0)),i=!0,a[n.id]=!0;break}if(i)break}}const s={};s[n.id]=!0;const o={};for(let u=e.length-1;u>=0;u--){const t=e[u],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(s[t.outputs[e].id]){for(const e in n)s[n[e].id]=!0,o[t.id]=!0;break}}const i=[];for(let u=0;u<e.length;u++){const t=e[u];if(a[t.id]&&o[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,a);if(!r&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=(0,l.p8)((0,l.NA)(e),"float32");return x.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const s=t[a],o=[];if(s.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const i=s.gradient(o);for(const t in s.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const a=n((()=>i[t]()));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const o=s.inputs[t];if(!l.cO(a.shape,o.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=a;else{const t=e[o.id];e[o.id]=r(t,a),t.dispose()}}}}(e,s,(e=>this.tidy(e)),v);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){return l.hu(l.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;l.hu(t.every((e=>e instanceof f.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};t.forEach(((e,t)=>{r[t]=e}));return this.runKernelFunc({forwardFunc:(r,a)=>(n=e(...t,a),l.hu(n.value instanceof f.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),l.hu(l.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const a=n.gradFunc(e,r),s=Array.isArray(a)?a:[a];l.hu(s.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),l.hu(s.every((e=>e instanceof f.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return s.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,c.now)(),n=await this.backend.time(e);return n.wallMs=(0,c.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new g;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function w(){const e=(0,s.D)();if(null==e._tfengine){const t=new a.qA(e);e._tfengine=new b(t)}return(0,a.iG)(e._tfengine.ENV),(0,f.Vi)((()=>e._tfengine)),e._tfengine}b.nextTensorId=0,b.nextVariableId=0;const x=w();function v(e,t){const n={a:e,b:t};return x.runKernel(o.mm,n)}},2885:function(e,t,n){"use strict";n.d(t,{qA:function(){return s},OB:function(){return i},iG:function(){return c}});var r=n(569);const a="tfjsflags";class s{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=o,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,r.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(a in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function o(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function i(){return u}let u=null;function c(e){u=e}},5938:function(e,t,n){"use strict";n.d(t,{D:function(){return s},R:function(){return o}});var r=n(3454);let a;function s(){if(null==a){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof r)e=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}a=e}return a}function o(e,t){const n=function(){const e=s();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}},4368:function(e,t,n){"use strict";n.d(t,{SR:function(){return i},lu:function(){return u},B9:function(){return c},Cn:function(){return l},CQ:function(){return p},Cd:function(){return d},jq:function(){return h}});var r=n(196),a=n(2885),s=n(974),o=n(747);function i(){return r.BV}function u(e,t){return r.BV.tidy(e,t)}function c(e){(0,o.Vu)(e).forEach((e=>e.dispose()))}function l(e){return r.BV.keep(e)}function p(e){return r.BV.setBackend(e)}function d(){return r.BV.ready()}function h(e,t,n=1){return r.BV.registerBackend(e,t,n)}(0,s.FZ)((function(e){(0,a.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}))},633:function(e,t,n){"use strict";n.d(t,{cb:function(){return a}});var r=n(196);n(974);function a(e){return r.BV.customGrad(e)}},7228:function(e,t,n){"use strict";n.d(t,{SYM:function(){return Be.SY},mm_:function(){return Be.mm},Xze:function(){return Be.Xz},oT6:function(){return Be.oT},IKK:function(){return Be.IK},sJF:function(){return Be.sJ},JhU:function(){return Be.Jh},XLW:function(){return Be.XL},zws:function(){return Be.zw},RFZ:function(){return Be.RF},gJX:function(){return Be.gJ},xnO:function(){return Be.xn},Eh3:function(){return Be.Eh},mhS:function(){return Be.mh},wm:function(){return Be.wm},mc4:function(){return Be.mc},TR1:function(){return Be.TR},VcC:function(){return Be.Vc},iHb:function(){return Be.iH},JLz:function(){return xn.JL},T0n:function(){return Be.T0},cie:function(){return Be.ci},SX0:function(){return Be.SX},hdR:function(){return Be.hd},NEP:function(){return Be.NE},YFo:function(){return Be.YF},deh:function(){return Be.de},Uyb:function(){return Be.Uy},OR:function(){return Be.OR},jeX:function(){return Be.je},sHE:function(){return Be.sH},_V0:function(){return Be._V},luS:function(){return Be.lu},q1x:function(){return Be.q1},qi_:function(){return Be.qi},iZT:function(){return Be.iZ},Acj:function(){return Be.Ac},iJz:function(){return Be.iJ},Zuw:function(){return xn.Zu},J$2:function(){return Be.J$},vtC:function(){return Be.vt},CAk:function(){return Be.CA},ZbH:function(){return Be.Zb},PYm:function(){return Be.PY},YoZ:function(){return Be.Yo},mTV:function(){return Be.mT},BMI:function(){return Be.BM},q2K:function(){return Be.q2},c17:function(){return Be.c1},q8u:function(){return Be.q8},jQs:function(){return Be.jQ},wYn:function(){return Be.wY},kuV:function(){return Be.ku},uv1:function(){return Be.uv},cye:function(){return Be.cy},W0H:function(){return Be.W0},yQU:function(){return Be.yQ},we_:function(){return Be.we},qWM:function(){return Be.qW},QiL:function(){return Be.Qi},lyA:function(){return Be.ly},pe_:function(){return Be.pe},o0g:function(){return Be.o0},DlI:function(){return Be.Dl},e6w:function(){return Be.e6},oHH:function(){return Be.oH},qkr:function(){return Be.qk},SbG:function(){return Be.Sb},HZH:function(){return Be.HZ},_Yw:function(){return Be._Y},mKl:function(){return Be.mK},b9H:function(){return Be.b9},e07:function(){return Be.e0},bV0:function(){return Be.bV},xQA:function(){return Be.xQ},PhF:function(){return Be.Ph},a5O:function(){return Be.a5},RQH:function(){return Be.RQ},p2w:function(){return Be.p2},Gcp:function(){return Be.Gc},TQc:function(){return Be.TQ},O3z:function(){return Be.O3},nhH:function(){return Be.nh},w3H:function(){return Be.YW},ZjV:function(){return Be.Zj},L8s:function(){return Be.L8},FKq:function(){return Be.FK},bK0:function(){return Be.bK},_tC:function(){return Be._t},h8e:function(){return Be.h8},jQk:function(){return Be.m2},Tr8:function(){return Be.Tr},GBy:function(){return Be.GB},sEM:function(){return Be.sE},MIZ:function(){return Be.MI},esB:function(){return ge.es},n9L:function(){return Be.n9},cWu:function(){return Be.cW},wx7:function(){return Be.wx},G3Y:function(){return Be.G3},ToN:function(){return Be.To},RuY:function(){return Be.Ru},usg:function(){return Be.us},IHx:function(){return ft.IHx},Wap:function(){return u},Jyw:function(){return $e},Xhn:function(){return a},f3b:function(){return ft.f3b},pju:function(){return ft.pju},d9v:function(){return ft.d9v},zoF:function(){return ft.zoF},Izb:function(){return ft.Izb},hiC:function(){return ft.hiC},SRH:function(){return mt.SR},OBj:function(){return l.OB},dt4:function(){return ft.dt4},DaI:function(){return s},BHj:function(){return ft.BHj},io:function(){return r},CnY:function(){return mt.Cn},dC7:function(){return ft.dC7},Cd_:function(){return mt.Cd},jqO:function(){return mt.jq},wCN:function(){return Pe.wC},XLQ:function(){return ft.XLQ},iD$:function(){return ft.iD$},yV1:function(){return Ke},CQI:function(){return mt.CQ},XD2:function(){return ft.XD2},tPi:function(){return ft.tPi},kuN:function(){return o},L9e:function(){return ft.L9e},knu:function(){return ft.knu},luU:function(){return ft.luU},XeE:function(){return ft.XeE},RRF:function(){return ft.RRF},odF:function(){return ft.odF},lub:function(){return mt.lu},HHK:function(){return ft.HHK},D5U:function(){return ht}});var r={};n.r(r),n.d(r,{browserFiles:function(){return _e},browserHTTPRequest:function(){return Oe},concatenateArrayBuffers:function(){return S},copyModel:function(){return ie},decodeWeights:function(){return w},encodeWeights:function(){return b},fromMemory:function(){return Re},getLoadHandlers:function(){return F},getModelArtifactsForJSON:function(){return E},getModelArtifactsInfoForJSON:function(){return I},getSaveHandlers:function(){return D},http:function(){return Me},isHTTPScheme:function(){return Te},listModels:function(){return se},loadWeights:function(){return Ne},moveModel:function(){return ue},registerLoadRouter:function(){return O},registerSaveRouter:function(){return M},removeModel:function(){return oe},weightsLoaderFactory:function(){return Ee},withSaveHandler:function(){return Ce}});var a={};n.r(a),n.d(a,{fromPixels:function(){return Ze},fromPixelsAsync:function(){return je},toPixels:function(){return qe}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return Ge}});var o={};n.r(o),n.d(o,{assertParamsValid:function(){return Xe},computeFlatOffset:function(){return ct},computeOutShape:function(){return Ye},getNormalizedAxes:function(){return nt},isSliceContinous:function(){return ut},maskToAxes:function(){return Qe},parseSliceParams:function(){return lt},sliceInfo:function(){return pt},startForAxis:function(){return ot},startIndicesWithElidedDims:function(){return rt},stopForAxis:function(){return it},stopIndicesWithElidedDims:function(){return at},stridesForAxis:function(){return st},stridesWithElidedDims:function(){return Je}});var i={};n.r(i),n.d(i,{collectGatherOpShapeInfo:function(){return gn},computeOutShape:function(){return yn},segOpComputeOptimalWindowSize:function(){return mn}});var u={};n.r(u),n.d(u,{ERF_A1:function(){return Ft},ERF_A2:function(){return Rt},ERF_A3:function(){return Ct},ERF_A4:function(){return $t},ERF_A5:function(){return Bt},ERF_P:function(){return Dt},PARALLELIZE_THRESHOLD:function(){return vt},SELU_SCALE:function(){return Ot},SELU_SCALEALPHA:function(){return Mt},applyActivation:function(){return xt.QH},assertAndGetBroadcastShape:function(){return $e.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return yt.lB},assertParamsConsistent:function(){return gt},assignToTypedArray:function(){return Ht},axesAreInnerMostDims:function(){return yt.YB},calculateShapes:function(){return Ke.calculateShapes},checkEinsumDimSizes:function(){return Qt},checkPadOnDimRoundingMode:function(){return wt.m},combineLocations:function(){return yt.Vh},complexWithEvenIndex:function(){return zt},complexWithOddIndex:function(){return Wt},computeConv2DInfo:function(){return wt.Ix},computeConv3DInfo:function(){return wt.jw},computeDefaultPad:function(){return wt.aO},computeDilation2DInfo:function(){return wt.Rf},computeOptimalWindowSize:function(){return _t},computeOutAndReduceShapes:function(){return yt.kz},computeOutShape:function(){return bt},computePool2DInfo:function(){return wt.Xw},computePool3DInfo:function(){return wt.pl},convertConv2DDataFormat:function(){return wt.sl},decodeEinsumEquation:function(){return Kt},eitherStridesOrDilationsAreOne:function(){return wt.jT},expandShapeToKeepDim:function(){return yt.rv},exponent:function(){return qt},exponents:function(){return jt},fromStringArrayToUint8:function(){return wn},fromUint8ToStringArray:function(){return bn},getAxesPermutation:function(){return yt.Q3},getBroadcastDims:function(){return $e.getBroadcastDims},getComplexWithIndex:function(){return Ut},getEinsumComputePath:function(){return Yt},getEinsumPermutation:function(){return Xt},getFusedBiasGradient:function(){return xt.pf},getFusedDyActivation:function(){return xt.Fr},getImageCenter:function(){return kt},getInnerMostAxes:function(){return yt.sY},getPermuted:function(){return Et},getReductionAxes:function(){return $e.getReductionAxes},getReshaped:function(){return Nt},getReshapedPermuted:function(){return It},getSliceBeginCoords:function(){return Tt},getSliceSize:function(){return At},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return nn},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return rn},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return an},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return un},getSparseReshapeInputOutputMismatchErrorMessage:function(){return ln},getSparseReshapeInputOutputMultipleErrorMessage:function(){return cn},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return sn},getSparseReshapeNegativeOutputDimErrorMessage:function(){return on},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return fn},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return pn},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return dn},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return hn},getUndoAxesPermutation:function(){return yt.LJ},isIdentityPermutation:function(){return Jt},log:function(){return Pt.c},mergeRealAndImagArrays:function(){return Lt},prepareAndValidate:function(){return Ge},prepareSplitSize:function(){return tn},segment_util:function(){return i},shouldFuse:function(){return xt.uy},slice_util:function(){return o},splitRealAndImagArrays:function(){return Vt},tupleValuesAreOne:function(){return wt.I0},upcastType:function(){return St.x8},validateInput:function(){return Ke.validateInput},validateUpdateShape:function(){return Ke.validateUpdateShape},warn:function(){return Pt.Z}});var c=n(196);var l=n(2885),p=n(3454);const d=(0,l.OB)();d.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),d.registerFlag("IS_BROWSER",(()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope)),d.registerFlag("IS_NODE",(()=>"undefined"!==typeof p&&"undefined"!==typeof p.versions&&"undefined"!==typeof p.versions.node)),d.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),d.registerFlag("PROD",(()=>!1)),d.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>d.getBool("DEBUG"))),d.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),d.registerFlag("IS_TEST",(()=>!1)),d.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),d.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1));var h=n(1661),f=n(701),m=n(569);const y={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var g=n(1876).Buffer;async function b(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let s=0;s<a.length;++s){const o=a[s],i=Array.isArray(e)?e[s].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${i.dtype}`);const u={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let a=0;for(let s=0;s<t.length;s++){const e=t[s],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=4,r.set(e,a),a+=e.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(u.group=t),n.push(u)}return{data:x(await Promise.all(r)),specs:n}}function w(e,t){const n={};let r,a=0;for(const s of t){const t=s.name,o=s.dtype,i=s.shape,u=(0,m.NA)(i);let c;if("quantization"in s){const n=s.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${s.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${s.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==o)throw new Error(`Weight ${s.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${o}.`)}const i=y[n.dtype],l=e.slice(a,a+u*i),p="uint8"===n.dtype?new Uint8Array(l):new Uint16Array(l);if("float32"===o)if("uint8"===n.dtype||"uint16"===n.dtype){c=new Float32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===r&&(r=T()),c=r(p)}else{if("int32"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);c=new Int32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=Math.round(t*n.scale+n.min)}}a+=u*i}else if("string"===o){const t=(0,m.NA)(s.shape);c=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(a,a+4))[0];a+=4;const n=new Uint8Array(e.slice(a,a+t));c.push(n),a+=t}}else{const r=y[o],s=e.slice(a,a+u*r);if("float32"===o)c=new Float32Array(s);else if("int32"===o)c=new Int32Array(s);else if("bool"===o)c=new Uint8Array(s);else{if("complex64"!==o)throw new Error(`Unsupported dtype in weight '${t}': ${o}`);{c=new Float32Array(s);const e=new Float32Array(c.length/2),r=new Float32Array(c.length/2);for(let t=0;t<e.length;t++)e[t]=c[2*t],r[t]=c[2*t+1];const a=(0,f.X)(e,i,"float32"),o=(0,f.X)(r,i,"float32");n[t]=(0,h.P)(a,o),a.dispose(),o.dispose()}}a+=u*r}"complex64"!==o&&(n[t]=(0,f.X)(c,i,o))}return n}function x(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const v="undefined"!==typeof g&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function _(e){return v?g.byteLength(e):new Blob([e]).size}function S(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function k(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function N(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function E(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[r,a]=await t(e.weightsManifest);n.weightSpecs=r,n.weightData=a}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function I(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:_(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:_(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function T(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),s=new Uint32Array(a);for(let o=0;o<r.length;o++){const a=r[o],i=e[n[a>>10]+(1023&a)]+t[a>>10];s[o]=i}return new Float32Array(a)}}class A{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==A.instance&&(A.instance=new A),A.instance}static registerSaveRouter(e){A.getInstance().saveRouters.push(e)}static registerLoadRouter(e){A.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return A.getHandlers(e,"save")}static getLoadHandlers(e,t){return A.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?A.getInstance().loadRouters:A.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const M=e=>A.registerSaveRouter(e),O=e=>A.registerLoadRouter(e),D=e=>A.getSaveHandlers(e),F=(e,t)=>A.getLoadHandlers(e,t),R="tensorflowjs",C="models_store",$="model_info_store";function B(){if(!(0,l.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function P(e){const t=e.result;t.createObjectStore(C,{keyPath:"modelPath"}),t.createObjectStore($,{keyPath:"modelPath"})}class L{constructor(e){if(this.indexedDB=B(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(R,1);r.onupgradeneeded=()=>P(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(C,"readonly"),r=t.objectStore(C).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=I(t),s=a.transaction($,"readwrite");let o=s.objectStore($);const i=o.put({modelPath:this.modelPath,modelArtifactsInfo:r});let u;i.onsuccess=()=>{u=a.transaction(C,"readwrite");const i=u.objectStore(C).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});i.onsuccess=()=>e({modelArtifactsInfo:r}),i.onerror=e=>{o=s.objectStore($);const t=o.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(i.error)),t.onerror=e=>(a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==u?a.close():u.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}L.URL_SCHEME="indexeddb://";const V=e=>{return(0,l.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(L.URL_SCHEME)?(t=e.slice(L.URL_SCHEME.length),new L(t)):null;var t};A.registerSaveRouter(V),A.registerLoadRouter(V);class z{constructor(){this.indexedDB=B()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(R,1);n.onupgradeneeded=()=>P(n),n.onsuccess=()=>{const r=n.result,a=r.transaction($,"readonly"),s=a.objectStore($).getAll();s.onsuccess=()=>{const t={};for(const e of s.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},s.onerror=e=>(r.close(),t(s.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(L.URL_SCHEME)?t.slice(L.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(R,1);r.onupgradeneeded=()=>P(r),r.onsuccess=()=>{const a=r.result,s=a.transaction($,"readwrite"),o=s.objectStore($),i=o.get(e);let u;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),s=()=>{u=a.transaction(C,"readwrite");const r=u.objectStore(C).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=s,r.onerror=e=>(s(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==u?a.close():u.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const W="/",U="tensorflowjs_models",H="info",j="model_topology",q="weight_specs",Z="weight_data",G="model_metadata";function K(e){return{info:[U,e,H].join(W),topology:[U,e,j].join(W),weightSpecs:[U,e,q].join(W),weightData:[U,e,Z].join(W),modelMetadata:[U,e,G].join(W)}}function X(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function Q(e){const t=e.split(W);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(W)}class Y{constructor(e){if(!(0,l.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=K(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=I(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(v)return g.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw X(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(v){const t=g.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(s),t}}Y.URL_SCHEME="localstorage://";const J=e=>{return(0,l.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Y.URL_SCHEME)?(t=e.slice(Y.URL_SCHEME.length),new Y(t)):null;var t};A.registerSaveRouter(J),A.registerLoadRouter(J);class ee{constructor(){(0,m.hu)((0,l.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,m.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=U+W,n=W+H;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[Q(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=K(e=(t=e).startsWith(Y.URL_SCHEME)?t.slice(Y.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return X(n),r}}const te="://";class ne{constructor(){this.managers={}}static getInstance(){return null==ne.instance&&(ne.instance=new ne),ne.instance}static registerManager(e,t){(0,m.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(te)&&(e=e.slice(0,e.indexOf(te))),(0,m.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=ne.getInstance();(0,m.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function re(e){if(-1===e.indexOf(te))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ne.getSchemes().join(",")}`);return{scheme:e.split(te)[0],path:e.split(te)[1]}}async function ae(e,t,n=!1){(0,m.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=A.getLoadHandlers(e);(0,m.hu)(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,m.hu)(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const a=r[0],s=A.getSaveHandlers(t);(0,m.hu)(s.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,m.hu)(s.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const o=s[0],i=re(e).scheme,u=re(e).path,c=i===re(e).scheme,l=await a.load();n&&c&&await ne.getManager(i).removeModel(u);const p=await o.save(l);return n&&!c&&await ne.getManager(i).removeModel(u),p.modelArtifactsInfo}async function se(){const e=ne.getSchemes(),t={};for(const n of e){const e=await ne.getManager(n).listModels();for(const r in e){t[n+te+r]=e[r]}}return t}async function oe(e){const t=re(e);return ne.getManager(t.scheme).removeModel(t.path)}async function ie(e,t){return ae(e,t,!1)}async function ue(e,t){return ae(e,t,!0)}class ce{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if((0,l.OB)().get("IS_BROWSER")){(0,l.OB)().setPlatform("browser",new ce);try{ne.registerManager(Y.URL_SCHEME,new ee)}catch(vn){}try{ne.registerManager(L.URL_SCHEME,new z)}catch(vn){}}var le=n(3454);const pe=()=>n(5410);let de;class he{constructor(){this.util=n(8628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=(0,l.OB)().global.fetch?(0,l.OB)().global.fetch(e,t):(null==de&&(de=pe()),de(e,t))}now(){const e=le.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}(0,l.OB)().get("IS_NODE")&&(0,l.OB)().setPlatform("node",new he);var fe=n(2657),me=n(2271),ye=n(8723);var ge=n(974);(0,c.wv)();const be={buffer:fe.f,cast:me.p,clone:ye.d,print:function(e,t=!1){console.log(e.toString(t))}};(0,ge.Vp)(be);function we(e){return new Promise((e=>setTimeout(e))).then(e)}class xe{constructor(e){if(!(0,l.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(xe.URL_SCHEME)&&(e=e.slice(xe.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=N(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await we((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await we((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:I(e)}}}}xe.URL_SCHEME="downloads://";class ve{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:a});const s=E(r,(e=>this.loadWeights(e)));e(s)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const s of e)t.push(...s.weights),n.push(...s.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,S(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>k(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=k(e);if(-1!==t.indexOf(a))throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(t.push(a),-1===n.indexOf(a))throw new Error(`Weight file with basename '${a}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function _e(e){return new ve(e)}function Se(e,t,n,r){!function(e){(0,m.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,m.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,m.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,m.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((s=>(s.then((s=>{const o=n+ ++a/e.length*(r-n);return t(o),s})),s))))}async function ke(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,l.OB)().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await Se(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await Se(a,t.onProgress,.5,1)}async function Ne(e,t="",n,r){return Ee((e=>ke(e,{requestInit:r})))(e,t,n)}function Ee(e){return async(t,n="",r)=>{const a=t.map((()=>!1)),s={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const u="quantization"in e?e.quantization.dtype:e.dtype,c=y[u]*m.NA(e.shape),l=()=>{a[t]=!0,null==s[t]&&(s[t]=[]),s[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=r?r.forEach(((t,n)=>{t===e.name&&(l(),o[n]=!0)})):l(),i.push(e.name),n+=c}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const u=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];u.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const l=await e(c),p={};let d=0;return u.forEach((e=>{const n=t[e].paths.length;let r=0;for(let t=0;t<n;t++)r+=l[d+t].byteLength;const a=new ArrayBuffer(r),o=new Uint8Array(a);let i=0;for(let t=0;t<n;t++){const e=new Uint8Array(l[d+t]);o.set(e,i),i+=e.byteLength}s[e].forEach((e=>{const t=w(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)p[n]=t[n]})),d+=n})),p}}A.registerSaveRouter((e=>(0,l.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(xe.URL_SCHEME)?function(e="model"){return new xe(e)}(e.slice(xe.URL_SCHEME.length)):null));class Ie{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,m.hu)("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,l.OB)().platform.fetch,(0,m.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,m.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=N(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:I(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(a){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return E(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,s=[];for(const u of e)s.push(...u.weights);const o=[],i=[];for(const u of e)for(const e of u.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):o.push(a+e+r);this.weightUrlConverter&&o.push(...await Promise.all(i));return[s,S(await ke(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function Te(e){return null!=e.match(Ie.URL_SCHEME_REGEX)}Ie.URL_SCHEME_REGEX=/^https?:\/\//;const Ae=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Te(e))):Te(e),n)return Me(e,t)}return null};function Me(e,t){return new Ie(e,t)}function Oe(e,t){return Me(e,t)}A.registerSaveRouter(Ae),A.registerLoadRouter(Ae);class De{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class Fe{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function Re(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new De(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new De({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new De({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Ce(e){return new Fe(e)}var $e=n(2200),Be=n(9121),Pe=n(6151),Le=n(3740),Ve=n(2668),ze=n(7852);let We;function Ue(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,s=!1,o=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)s=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);i=!0}if(a){const t=2;if(a&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,Pe.pI)(Be.eB,c.BV.backendName)){const n={pixels:e},r={numChannels:t};return c.BV.runKernel(Be.eB,n,r)}const[u,l]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let p,d;if(o)p=e.getContext("2d").getImageData(0,0,u,l).data;else if(r||n)p=e.data;else if(s||a||i){if(null==We)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");We=new OffscreenCanvas(1,1).getContext("2d")}else We=document.createElement("canvas").getContext("2d");We.canvas.width=u,We.canvas.height=l,We.drawImage(e,0,0,u,l),p=We.getImageData(0,0,u,l).data}if(4===t)d=new Int32Array(p);else{const e=u*l;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=p[4*n+e]}return function(e,t,n){if((0,m.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=(0,Le.C)(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,ze.H)(e,t,r,n)}(d,[l,u,t],"int32")}function He(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function je(e,t=3){let n=null;if((0,l.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&He(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(r){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return Ue(n,t)}async function qe(e,t){let n=(0,Le._1)(e,"img","toPixels");if(!(e instanceof ge.es)){const e=n;n=(0,me.p)(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,a]=n.shape.slice(0,2),s=2===n.rank?1:n.shape[2];if(s>4||2===s)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${s}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const o=await n.data(),i="float32"===n.dtype?255:1,u=new Uint8ClampedArray(a*r*4);for(let c=0;c<r*a;++c){const e=[0,0,0,255];for(let r=0;r<s;r++){const t=o[c*s+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===s?(e[0]=t*i,e[1]=t*i,e[2]=t*i):e[r]=t*i}const t=4*c;u[t+0]=Math.round(e[0]),u[t+1]=Math.round(e[1]),u[t+2]=Math.round(e[2]),u[t+3]=Math.round(e[3])}if(null!=t){t.width=a,t.height=r;const e=t.getContext("2d"),n=new ImageData(u,a,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),u}const Ze=(0,Ve.op)({fromPixels_:Ue});function Ge(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===(0,m.NA)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,s=a[a.length-1];let o=1;for(let p=0;p<a.length-1;++p)o*=a[p];const i=e.shape,u=a.slice();u.pop();let c=1;for(let p=s;p<n;++p)c*=i[p],u.push(i[p]);const l=[...(0,m.e3)(e.shape).map((e=>e/c)),1].slice(0,s);return[u,o,c,l]}var Ke=n(3028);function Xe(e,t,n){const r=e.shape.length;m.hu(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),m.hu(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let a=0;a<r;++a)m.hu(t[a]+n[a]<=e.shape[a],(()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`))}function Qe(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Ye(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Je(e,t,n,r){const a=[...e];for(let s=a.length;s<r.length;s++)a.push(1);for(let s=0;s<n;s++)0===s?a[t]=1:(a.splice(t,0,1),a.pop());return a}function et(e,t,n){return n<=e?n:n-(t-1)}function tt(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function nt(e,t,n,r,a,s,o,i,u){const c=e.length;let l=new Array(c),p=new Array(c),d=new Array(c);if(t.length&&n>0){const u=t[0],c=n+1;l=rt(o,u,c,r,e),p=at(i,u,c,a,e),d=Je(s,u,c,e)}else for(let h=0;h<c;h++)l[h]=ot(o,r,s,e,h,u),p[h]=it(i,a,s,e,h,u),d[h]=st(s,h,u);return{begin:l,end:p,strides:d}}function rt(e,t,n,r,a){const s=[...a],o=tt(n,t);for(let i=0;i<s.length;i++)if(o.indexOf(i)>-1)s[i]=0;else{const a=et(t,n,i);let o=r[a];e&1<<a&&(o=0),s[i]=o}return s}function at(e,t,n,r,a){const s=[...a],o=tt(n,t);for(let i=0;i<s.length;i++)if(o.indexOf(i)>-1)s[i]=Number.MAX_SAFE_INTEGER;else{const a=et(t,n,i);let o=r[a];e&1<<a&&(o=Number.MAX_SAFE_INTEGER),s[i]=o}for(let i=0;i<s.length;i++){const e=a[i];s[i]<0&&(s[i]+=e),s[i]=m.uZ(0,s[i],a[i])}return s}function st(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function ot(e,t,n,r,a,s){let o=t[a];const i=n[a]||1;(e&1<<a||s&1<<a||null==o)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const u=r[a];return o<0&&(o+=u),o=m.uZ(0,o,u-1),o}function it(e,t,n,r,a,s){let o=t[a];const i=n[a]||1;(e&1<<a||s&1<<a||null==o)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const u=r[a];return o<0&&(o+=u),o=i>0?m.uZ(0,o,u):m.uZ(-1,o,u-1),o}function ut(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function ct(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function lt(e,t,n){let r;const a=e.shape.length;let s;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{m.hu(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(m.hu(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,s]}function pt(e,t,n,r,a,s,o,i,u){let c;if(null==r?(c=new Array(t.length),c.fill(1)):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");let l=!1;const p={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:u};for(let b=0;b<p.dims;b++)l&&0!==(1<<b&i)&&p.numAddAxisAfterEllipsis++,1<<b&o&&(l=!0);l||(p.ellipsisMask|=1<<p.dims,p.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(p,d);let h=!0,f=!0,m=!0;const y=[],g=[];for(let b=0;b<e.length;++b){if(0===d.strides[b])throw Error(`strides[${b}] must be non-zero`);const t=!!(d.shrinkAxisMask&1<<b),n=e[b];if(-1===n){y.push(t?1:-1);continue}const r=[d.beginMask&1<<b,d.endMask&1<<b],a=[d.strides[b]>0?0:-1,d.strides[b]>0?n:n-1];if(t&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[b];const s=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(t){const e=d.begin[b]<0?n+d.begin[b]:d.begin[b];if(d.begin[b]=e,d.end[b]=d.begin[b]+1,e<0||e>=n)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=dt(d.begin[b],0,d.strides[b],n,r,a),d.end[b]=dt(d.end[b],1,d.strides[b],n,r,a);const e=1===d.strides[b]&&0===d.begin[b]&&d.end[b]===n;h=h&&e,f=f&&(0===b&&1===d.strides[b]||e)}else h=h&&1===d.strides[b]&&s,f=f&&(0===b&&1===d.strides[b]||s);let o,i=!1;if(d.beginValid&&d.endValid?(o=d.end[b]-d.begin[b],i=!0):t?(o=1,i=!0):s&&n>=0&&(o=d.strides[b]<0?-n:n,i=!0),i){let e;e=0===o||o<0!==d.strides[b]<0?0:Math.trunc(o/d.strides[b])+(o%d.strides[b]!==0?1:0),y.push(e)}else y.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const e=d.finalShapeGatherIndices[b];e>=0?g.push(y[e]):-2===e&&g.push(1)}return{finalShapeSparse:g.filter(((e,t)=>-2!==d.finalShapeGatherIndices[t])),finalShape:g,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function dt(e,t,n,r,a,s){if(a[t])return n>0?s[t]:s[t+1&1];{const t=e<0?r+e:e;return t<s[0]?s[0]:t>s[1]?s[1]:t}}var ht=n(3418),ft=n(1159),mt=n(4368),yt=n(3591);function gt(e,t){const n=e[0].length;e.forEach(((e,t)=>{m.hu(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),m.hu(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,a)=>{for(let s=0;s<n;s++)m.hu(s===t||e[s]===r[s],(()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`))}))}function bt(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var wt=n(2582),xt=n(4995);const vt=30;function _t(e){return e<=vt?e:(0,m.jP)(e,Math.floor(Math.sqrt(e)))}var St=n(1221);function kt(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Nt(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function Et(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],a=[];for(let r=1;r<e;++r)r>=2*t+1||r%2===1?a.push(r):n.push(r);r.push(...n),r.push(0),r.push(...a)}return r}function It(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let s=1;s<e.length;++s)s<=t.length?r?a.push(t[s-1]*e[s]):a.push(e[s]/t[s-1]):a.push(e[s]);return a}function Tt(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function At(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}const Mt=1.7580993408473768,Ot=1.0507009873554805,Dt=.3275911,Ft=.254829592,Rt=-.284496736,Ct=1.421413741,$t=-1.453152027,Bt=1.061405429;var Pt=n(4706);function Lt(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Vt(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function zt(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Wt(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Ut(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Ht(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function jt(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const s=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(s),r[a]=Math.sin(s)}return{real:n,imag:r}}function qt(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Zt="->",Gt=/->/g;function Kt(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Gt,"").length)/Zt.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[r,a]=e.split(Zt);(0,m.hu)(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const s=r.split(","),o=s.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let p=0;p<a.length;++p){const e=a[p];if(!s.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===i.indexOf(e)&&i.push(e)}for(let p=0;p<r.length;++p){const e=r[p];-1===i.indexOf(e)&&","!==e&&i.push(e)}const u=new Array(s.length);for(let p=0;p<o;++p){if(new Set(s[p].split("")).size!==s[p].length)throw new Error(`Found duplicate axes in input component ${s[p]}. Support for duplicate axes in input is not implemented yet.`);u[p]=[];for(let e=0;e<s[p].length;++e)u[p].push(i.indexOf(s[p][e]))}const c=i.length,l=[];for(let p=a.length;p<c;++p)l.push(p);return{allDims:i,summedDims:l,idDims:u}}function Xt(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Qt(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:(0,m.hu)(r[t[a][n]]===e[n],(()=>`Expected dimension ${r[t[a][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function Yt(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let o=0;o<a;++o)r.push([]);const s=[];for(let o=0;o<n.length;++o){const e=en(t,n[o]);for(const t of e)-1===s.indexOf(t)&&(r[o].push(t),s.push(t))}return{path:n,steps:r}}function Jt(e){return e.every(((e,t)=>e===t))}function en(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function tn(e,t,n=0){let r=[];if("number"===typeof t)(0,m.hu)(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);(0,m.hu)(a<=1,(()=>"There should be only one negative value in split array."));const s=t.indexOf(-1);if(-1!==s){const r=t.reduce(((e,t)=>t>0?e+t:e));t[s]=e.shape[n]-r}(0,m.hu)(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function nn(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function rn(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function an(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function sn(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function on(e,t){return`size ${e} must be non-negative, not ${t}`}function un(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function cn(e,t){return`Input to reshape is a SparseTensor with ${(0,m.NA)(e)}\n  dense values, but the requested shape requires a multiple of ${(0,m.NA)(t)}. inputShape=${e} outputShape= ${t}`}function ln(e,t){return`Input to reshape is a tensor with ${(0,m.NA)(e)} dense values, but the requested shape has ${(0,m.NA)(t)}. inputShape=${e} outputShape=${t}`}function pn(){return"segment ids must be >= 0"}function dn(){return"segment ids are not increasing"}function hn(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function fn(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function mn(e,t){let n,r=!1;for(e<=vt?(n=e,r=!0):n=(0,m.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,m.jP)(e,n+1);return n}function yn(e,t,n){const r=[],a=e.length;for(let s=0;s<a;s++)s!==t?r.push(e[s]):r.push(n);return r}function gn(e,t,n,r){const a=t.shape.length,s=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let p=0;p<r;++p)if(e.shape[p]!==t.shape[p])throw new Error(`x.shape[${p}]: ${e.shape[p]} should be equal to indices.shape[${p}]: ${t.shape[p]}.`);const o=e.shape[n],i=[];let u=1,c=1,l=1;for(let p=0;p<r;++p)i.push(e.shape[p]),u*=e.shape[p];for(let p=r;p<n;p++)i.push(e.shape[p]),c*=e.shape[p];for(let p=r;p<a;p++)i.push(t.shape[p]);for(let p=n+1;p<s;p++)i.push(e.shape[p]),l*=e.shape[p];return{batchSize:u,sliceSize:l,outerSize:c,dimSize:o,outputShape:i}}function bn(e){try{return e.map((e=>(0,ht.decodeString)(e)))}catch(vn){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${vn}`)}}function wn(e){return e.map((e=>(0,ht.encodeString)(e)))}var xn=n(8713)},9121:function(e,t,n){"use strict";n.d(t,{SY:function(){return r},VG:function(){return a},Sp:function(){return s},mm:function(){return o},Xz:function(){return i},oT:function(){return u},IK:function(){return c},sJ:function(){return l},aJ:function(){return p},M2:function(){return d},qw:function(){return h},jM:function(){return f},Oy:function(){return m},QC:function(){return y},Jh:function(){return g},_k:function(){return b},XL:function(){return w},zw:function(){return x},zv:function(){return v},eE:function(){return _},RF:function(){return S},gJ:function(){return k},xn:function(){return N},Zz:function(){return E},yj:function(){return I},Eh:function(){return T},mh:function(){return A},wU:function(){return M},wm:function(){return O},x1:function(){return D},mc:function(){return F},TR:function(){return R},iH:function(){return C},Vc:function(){return $},QR:function(){return B},T0:function(){return P},ci:function(){return L},sL:function(){return V},y7:function(){return z},p4:function(){return W},oH:function(){return U},$g:function(){return H},SX:function(){return j},Om:function(){return q},hd:function(){return Z},NE:function(){return G},YF:function(){return K},Y0:function(){return X},vw:function(){return Q},de:function(){return Y},Uy:function(){return J},OR:function(){return ee},je:function(){return te},sH:function(){return ne},qi:function(){return re},q1:function(){return ae},iZ:function(){return se},Ac:function(){return oe},iJ:function(){return ie},Qg:function(){return ue},J_:function(){return ce},r7:function(){return le},J$:function(){return pe},vt:function(){return de},CA:function(){return he},e7:function(){return fe},Zb:function(){return me},kU:function(){return ye},PY:function(){return ge},Vf:function(){return be},MZ:function(){return we},eZ:function(){return xe},Yo:function(){return ve},BM:function(){return _e},mT:function(){return Se},OA:function(){return ke},vF:function(){return Ne},q2:function(){return Ee},c1:function(){return Ie},q8:function(){return Te},jQ:function(){return Ae},Vb:function(){return Me},NZ:function(){return Oe},wY:function(){return De},ku:function(){return Fe},yQ:function(){return Re},uv:function(){return Ce},cy:function(){return $e},W0:function(){return Be},qW:function(){return Pe},we:function(){return Le},Qi:function(){return Ve},ly:function(){return ze},pe:function(){return We},o0:function(){return Ue},Dl:function(){return He},e6:function(){return je},xJ:function(){return qe},$H:function(){return Ze},qk:function(){return Ge},HZ:function(){return Ke},dp:function(){return Xe},_Y:function(){return Qe},Sb:function(){return Ye},mK:function(){return Je},e0:function(){return et},bV:function(){return tt},xQ:function(){return nt},Ph:function(){return rt},oF:function(){return at},p2:function(){return st},RQ:function(){return ot},w3:function(){return it},i5:function(){return ut},a5:function(){return ct},MR:function(){return lt},FK:function(){return pt},GB:function(){return dt},TQ:function(){return ht},L8:function(){return ft},Gc:function(){return mt},O3:function(){return yt},nh:function(){return gt},YW:function(){return bt},Zj:function(){return wt},D2:function(){return xt},_t:function(){return vt},bK:function(){return _t},m2:function(){return St},_J:function(){return kt},s1:function(){return Nt},Xk:function(){return Et},Tr:function(){return It},sE:function(){return Tt},MI:function(){return At},n9:function(){return Mt},cW:function(){return Ot},wx:function(){return Dt},G3:function(){return Ft},kp:function(){return Rt},To:function(){return Ct},Ru:function(){return $t},h8:function(){return Bt},eB:function(){return Pt},b9:function(){return Lt},us:function(){return Vt},_V:function(){return zt},lu:function(){return Wt}});const r="Abs",a="Acos",s="Acosh",o="Add",i="AddN",u="All",c="Any",l="ArgMax",p="ArgMin",d="Asin",h="Asinh",f="Atan",m="Atanh",y="Atan2",g="AvgPool",b="AvgPool3D",w="BatchMatMul",x="BatchToSpaceND",v="Bincount",_="BroadcastArgs",S="Cast",k="Ceil",N="ClipByValue",E="Complex",I="ComplexAbs",T="Concat",A="Conv2D",M="Conv2DBackpropFilter",O="Conv2DBackpropInput",D="Conv3D",F="Cos",R="Cosh",C="Cumsum",$="CropAndResize",B="DenseBincount",P="DepthToSpace",L="DepthwiseConv2dNative",V="DepthwiseConv2dNativeBackpropFilter",z="DepthwiseConv2dNativeBackpropInput",W="Dilation2D",U="RealDiv",H="Einsum",j="Elu",q="Erf",Z="Equal",G="Exp",K="ExpandDims",X="Expm1",Q="FFT",Y="Fill",J="FlipLeftRight",ee="Floor",te="FloorDiv",ne="FusedBatchNorm",re="GatherV2",ae="GatherNd",se="Greater",oe="GreaterEqual",ie="Identity",ue="IFFT",ce="Imag",le="IsNan",pe="LeakyRelu",de="Less",he="LessEqual",fe="LinSpace",me="Log",ye="Log1p",ge="LogicalAnd",be="LogicalNot",we="LogicalOr",xe="LRN",ve="Max",_e="Maximum",Se="MaxPool",ke="MaxPool3D",Ne="MaxPoolWithArgmax",Ee="Mean",Ie="Min",Te="Minimum",Ae="MirrorPad",Me="Mod",Oe="Multinomial",De="Multiply",Fe="Neg",Re="NotEqual",Ce="NonMaxSuppressionV3",$e="NonMaxSuppressionV4",Be="NonMaxSuppressionV5",Pe="OnesLike",Le="OneHot",Ve="Pack",ze="PadV2",We="Pow",Ue="Prelu",He="Prod",je="Range",qe="Real",Ze="Reciprocal",Ge="Relu",Ke="Reshape",Xe="ResizeNearestNeighbor",Qe="ResizeBilinear",Ye="Relu6",Je="Reverse",et="Round",tt="Rsqrt",nt="ScatterNd",rt="Select",at="Selu",st="Slice",ot="Sin",it="Sinh",ut="Sign",ct="Sigmoid",lt="Softplus",pt="Sqrt",dt="Sum",ht="SpaceToBatchND",ft="SplitV",mt="Softmax",yt="SparseFillEmptyRows",gt="SparseReshape",bt="SparseSegmentMean",wt="SparseSegmentSum",xt="SparseToDense",vt="SquaredDifference",_t="Square",St="StridedSlice",kt="StringNGrams",Nt="StringSplit",Et="StringToHashBucketFast",It="Sub",Tt="Tan",At="Tanh",Mt="Tile",Ot="TopK",Dt="Transform",Ft="Transpose",Rt="Unique",Ct="Unpack",$t="ZerosLike",Bt="Step",Pt="FromPixels",Lt="RotateWithOffset",Vt="_FusedMatMul",zt="FusedConv2D",Wt="FusedDepthwiseConv2D"},6151:function(e,t,n){"use strict";n.d(t,{pI:function(){return i},uk:function(){return u},tr:function(){return c},wC:function(){return l}});var r=n(5938),a=n(4706);const s=(0,r.R)("kernelRegistry",(()=>new Map)),o=(0,r.R)("gradRegistry",(()=>new Map));function i(e,t){const n=p(e,t);return s.get(n)}function u(e){return o.get(e)}function c(e){const t=s.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[s,o]=a,[i]=s.split("_");i===e&&n.push(o)}return n}function l(e){const{kernelName:t,backendName:n}=e,r=p(t,n);s.has(r)&&a.Z(`The kernel '${t}' for backend '${n}' is already registered`),s.set(r,e)}function p(e,t){return`${t}_${e}`}},4706:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},c:function(){return s}});var r=n(2885);function a(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.warn(...e)}function s(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.log(...e)}},6235:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({abs_:function(e){const t=(0,s._1)(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return r.BV.runKernel(a.yj,e)}{const e={x:t};return r.BV.runKernel(a.SY,e)}}})},6407:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({add_:function(e,t){let n=(0,o._1)(e,"a","add"),i=(0,o._1)(t,"b","add");[n,i]=(0,s.T_)(n,i);const u={a:n,b:i};return r.BV.runKernel(a.mm,u)}})},3591:function(e,t,n){"use strict";n.d(t,{YB:function(){return a},Vh:function(){return s},kz:function(){return o},rv:function(){return i},lB:function(){return u},Q3:function(){return c},LJ:function(){return l},sY:function(){return p}});var r=n(569);function a(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function s(e,t,n){const r=e.length+t.length,a=[];let s=0,o=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[s++]):a.push(t[o++]);return a}function o(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function i(e,t){return s(e,t.map((e=>1)),t)}function u(e,t,n){r.hu(a(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function c(e,t){if(a(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function l(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function p(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}},3865:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({bincount_:function(e,t,n){const i=(0,s._1)(e,"x","bincount"),u=(0,s._1)(t,"weights","bincount");o.hu("int32"===i.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${i.dtype}`)),o.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),o.hu(u.size===i.size||0===u.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${i.shape}, weights shape: ${u.shape}.`));const c={x:i,weights:u},l={size:n};return r.BV.runKernel(a.zv,c,l)}})},8247:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(196),a=n(9121),s=n(3740),o=n(8723),i=n(2668),u=n(4968);const c=(0,i.op)({broadcastTo_:function(e,t){let n=(0,s._1)(e,"broadcastTo","x");const i=n.shape;if(t.some((e=>!(e>0)||e%1!==0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=(0,u.X)(n,e)}const c=n.shape,l=Array.from(t);for(let r=t.length-1;r>=0;r--)if(c[r]===t[r])l[r]=1;else if(1!==n.shape[r])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);if(0===l.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return(0,o.d)(n);const p={x:n},d={reps:l};return r.BV.runKernel(a.n9,p,d)}})},2200:function(e,t,n){"use strict";function r(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const s=n-1-a,o=e[s]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(s)}return r}function a(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],s=t.length-r-1,o=t[s];(null==a||1===a&&o>1)&&n.unshift(s)}return n}function s(e,t){const n=[],r=Math.max(e.length,t.length);for(let a=0;a<r;a++){let r=e[e.length-a-1];null==r&&(r=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===r)n.unshift(s);else if(1===s)n.unshift(r);else{if(r!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}n.r(t),n.d(t,{getBroadcastDims:function(){return r},getReductionAxes:function(){return a},assertAndGetBroadcastShape:function(){return s}})},2657:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(974),a=n(569);function s(e,t="float32",n){return t=t||"float32",a.Mu(e),new r.YD(e,t,n)}},2271:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({cast_:function(e,t){const n=(0,s._1)(e,"x","cast");if(!o.LP(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const i={x:n},u={dtype:t};return r.BV.runKernel(a.RF,i,u)}})},8723:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({clone_:function(e){const t={x:(0,s._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(a.iJ,t)}})},1661:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({complex_:function(e,t){const n=(0,s._1)(e,"real","complex"),i=(0,s._1)(t,"imag","complex");o.k5(n.shape,i.shape,`real and imag shapes, ${n.shape} and ${i.shape}, must match in call to tf.complex().`);const u={real:n,imag:i};return r.BV.runKernel(a.Zz,u)}})},6884:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(196),a=n(9121),s=n(3740),o=n(569),i=n(8723);const u=(0,n(2668).op)({concat_:function(e,t=0){(0,o.hu)(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=(0,s.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return(0,i.d)(n[0]);const u=n,c={axis:t};return r.BV.runKernel(a.Eh,u,c)}})},2582:function(e,t,n){"use strict";n.d(t,{Rf:function(){return a},Xw:function(){return s},pl:function(){return o},Ix:function(){return i},jw:function(){return u},aO:function(){return c},I0:function(){return f},jT:function(){return m},sl:function(){return y},m:function(){return g}});var r=n(569);function a(e,t,n,r,a="NHWC",s){return i(e,[...t,e[3]],n,s,r,null,null,y(a))}function s(e,t,n,r,a,s,o="channelsLast"){const[u,c]=l(t);let p;if("channelsLast"===o)p=[u,c,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);p=[u,c,e[1],e[1]]}return i(e,p,n,r,a,s,!1,o)}function o(e,t,n,r,a,s,o="NDHWC"){const[i,c,l]=p(t);let d,h;if("NDHWC"===o)h="channelsLast",d=[i,c,l,e[4],e[4]];else{if("NCDHW"!==o)throw new Error(`Unknown dataFormat ${o}`);h="channelsFirst",d=[i,c,l,e[1],e[1]]}return u(e,d,n,r,a,!1,h,s)}function i(e,t,n,r,a,s,o=!1,i="channelsLast"){let[u,p,f,m]=[-1,-1,-1,-1];if("channelsLast"===i)[u,p,f,m]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[u,m,p,f]=e}const[y,g,,b]=t,[w,x]=l(n),[v,_]=l(r),S=d(y,v),k=d(g,_),{padInfo:N,outHeight:E,outWidth:I}=function(e,t,n,r,a,s,o,i,u){let l,p,d;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=c(e,t,n));const s=e[0],o=e[1],i=h((s-t+2*r)/n+1,a),u=h((o-t+2*r)/n+1,a);return[i,u]}([t,n],s,r,e,i);p=a[0],d=a[1]}else if("same"===e){p=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(p-1)*r+s-t),i=Math.max(0,(d-1)*a+o-n),u=Math.floor(e/2),c=e-u,h=Math.floor(i/2);l={top:u,bottom:c,left:h,right:i-h,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},p=Math.ceil((t-s+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const c="channelsLast"===u?e[1][0]:e[2][0],f="channelsLast"===u?e[1][1]:e[2][1],m="channelsLast"===u?e[2][0]:e[3][0],y="channelsLast"===u?e[2][1]:e[3][1];l={top:c,bottom:f,left:m,right:y,type:0===c&&0===f&&0===m&&0===y?"VALID":"EXPLICIT"},p=h((t-s+c+f)/r+1,i),d=h((n-o+m+y)/a+1,i)}}return{padInfo:l,outHeight:p,outWidth:d}}(a,p,f,w,x,S,k,s,i),T=o?b*m:b;let A;return"channelsFirst"===i?A=[u,T,E,I]:"channelsLast"===i&&(A=[u,E,I,T]),{batchSize:u,dataFormat:i,inHeight:p,inWidth:f,inChannels:m,outHeight:E,outWidth:I,outChannels:T,padInfo:N,strideHeight:w,strideWidth:x,filterHeight:y,filterWidth:g,effectiveFilterHeight:S,effectiveFilterWidth:k,dilationHeight:v,dilationWidth:_,inShape:e,outShape:A,filterShape:t}}function u(e,t,n,r,a,s=!1,o="channelsLast",i){let[u,l,f,m,y]=[-1,-1,-1,-1,-1];if("channelsLast"===o)[u,l,f,m,y]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[u,y,l,f,m]=e}const[g,b,w,,x]=t,[v,_,S]=p(n),[k,N,E]=p(r),I=d(g,k),T=d(b,N),A=d(w,E),{padInfo:M,outDepth:O,outHeight:D,outWidth:F}=function(e,t,n,r,a,s,o,i,u,l,p){let d,f,m,y;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const s=function(e,t,n,r,a,s){null==a&&(a=c(e,t,r));const o=e[0],i=e[1],u=e[2],l=h((o-t+2*a)/r+1,s),p=h((i-t+2*a)/r+1,s),d=h((u-t+2*a)/r+1,s);return[l,p,d,n]}([t,n,r,1],i,1,a,e,p);f=s[0],m=s[1],y=s[2]}else if("same"===e){f=Math.ceil(t/a),m=Math.ceil(n/s),y=Math.ceil(r/o);const e=(f-1)*a+i-t,c=(m-1)*s+u-n,p=(y-1)*o+l-r,h=Math.floor(e/2),g=e-h,b=Math.floor(c/2),w=c-b,x=Math.floor(p/2);d={top:b,bottom:w,left:x,right:p-x,front:h,back:g,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((t-i+1)/a),m=Math.ceil((n-u+1)/s),y=Math.ceil((r-l+1)/o)}return{padInfo:d,outDepth:f,outHeight:m,outWidth:y}}(a,l,f,m,v,_,S,I,T,A,i),R=s?x*y:x;let C;return"channelsFirst"===o?C=[u,R,O,D,F]:"channelsLast"===o&&(C=[u,O,D,F,R]),{batchSize:u,dataFormat:o,inDepth:l,inHeight:f,inWidth:m,inChannels:y,outDepth:O,outHeight:D,outWidth:F,outChannels:R,padInfo:M,strideDepth:v,strideHeight:_,strideWidth:S,filterDepth:g,filterHeight:b,filterWidth:w,effectiveFilterDepth:I,effectiveFilterHeight:T,effectiveFilterWidth:A,dilationDepth:k,dilationHeight:N,dilationWidth:E,inShape:e,outShape:C,filterShape:t}}function c(e,t,n,r=1){const a=d(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function l(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function p(e){return"number"===typeof e?[e,e,e]:e}function d(e,t){return t<=1?e:e+(e-1)*(t-1)}function h(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function f(e){const[t,n,r]=l(e);return 1===t&&1===n&&1===r}function m(e,t){return f(e)||f(t)}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function g(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}},1274:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(9165);const u=(0,n(2668).op)({div_:function(e,t){let n=(0,o._1)(e,"a","div"),u=(0,o._1)(t,"b","div");if([n,u]=(0,s.T_)(n,u),"int32"===n.dtype&&"int32"===u.dtype)return(0,i.q)(n,u);const c={a:n,b:u};return r.BV.runKernel(a.oH,c,{})}})},3233:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({elu_:function(e){const t={x:(0,s._1)(e,"x","elu","float32")};return r.BV.runKernel(a.SX,t)}})},4842:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({exp_:function(e){const t={x:(0,s._1)(e,"x","exp")};return r.BV.runKernel(a.NE,t)}})},1300:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({expandDims_:function(e,t=0){const n=(0,s._1)(e,"x","expandDims","string_or_numeric");o.hu(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const i={input:n},u={dim:t};return r.BV.runKernel(a.YF,i,u)}})},4006:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(196),a=n(9121);function s(e,t,n){const s={shape:e,value:t,dtype:n};return r.BV.runKernel(a.de,{},s)}},9165:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({floorDiv_:function(e,t){let n=(0,o._1)(e,"a","floorDiv"),i=(0,o._1)(t,"b","floorDiv");[n,i]=(0,s.T_)(n,i);const u={a:n,b:i};return r.BV.runKernel(a.je,u)}})},4995:function(e,t,n){"use strict";n.d(t,{QH:function(){return w},pf:function(){return b},Fr:function(){return g},uy:function(){return x}});var r=n(2200),a=n(3233),s=n(9133),o=n(4841),i=n(8151),u=n(7409),c=n(3582),l=n(4968),p=n(625),d=n(196),h=n(9121),f=n(3740);const m=(0,n(2668).op)({step_:function(e,t=0){const n={x:(0,f._1)(e,"x","step")},r={alpha:t};return d.BV.runKernel(h.h8,n,r)}});var y=n(5475);function g(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,m(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function b(e,t){let n=t;const a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=(0,y.S)(n,a)),(0,l.X)(n,e.shape)}function w(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,a.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,i.A)(e,n);if("leakyrelu"===t)return(0,s.h)(e,r);if("sigmoid"===t)return(0,p.X)(e);throw new Error(`Unknown fused activation ${t}.`)}const x=(e,t)=>!(e>0)||"linear"===t},636:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({greater_:function(e,t){let n=(0,o._1)(e,"a","greater","string_or_numeric"),u=(0,o._1)(t,"b","greater","string_or_numeric");[n,u]=(0,s.T_)(n,u),(0,i.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(a.iZ,c)}})},7630:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({greaterEqual_:function(e,t){let n=(0,o._1)(e,"a","greaterEqual","string_or_numeric"),u=(0,o._1)(t,"b","greaterEqual","string_or_numeric");[n,u]=(0,s.T_)(n,u),(0,i.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(a.Ac,c)}})},4386:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({imag_:function(e){const t={input:(0,s._1)(e,"input","imag")};return r.BV.runKernel(a.J_,t)}})},9133:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({leakyRelu_:function(e,t=.2){const n={x:(0,s._1)(e,"x","leakyRelu")},o={alpha:t};return r.BV.runKernel(a.J$,n,o)}})},624:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({lessEqual_:function(e,t){let n=(0,o._1)(e,"a","lessEqual","string_or_numeric"),u=(0,o._1)(t,"b","lessEqual","string_or_numeric");[n,u]=(0,s.T_)(n,u),(0,i.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(a.CA,c)}})},2597:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({log_:function(e){const t={x:(0,s._1)(e,"x","log","float32")};return r.BV.runKernel(a.Zb,t)}})},7474:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({log1p_:function(e){const t={x:(0,s._1)(e,"x","log1p")};return r.BV.runKernel(a.kU,t)}})},2856:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(2200);const i=(0,n(2668).op)({logicalAnd_:function(e,t){const n=(0,s._1)(e,"a","logicalAnd","bool"),i=(0,s._1)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,i.shape);const u={a:n,b:i};return r.BV.runKernel(a.PY,u)}})},9804:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({matMul_:function(e,t,n=!1,i=!1){let u=(0,o._1)(e,"a","matMul"),c=(0,o._1)(t,"b","matMul");[u,c]=(0,s.T_)(u,c);const l={a:u,b:c},p={transposeA:n,transposeB:i};return r.BV.runKernel(a.XL,l,p)}})},3307:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({max_:function(e,t=null,n=!1){const o={x:(0,s._1)(e,"x","max")},i={reductionIndices:t,keepDims:n};return r.BV.runKernel(a.Yo,o,i)}})},5130:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({mean_:function(e,t=null,n=!1){const o={x:(0,s._1)(e,"x","mean")},i={axis:t,keepDims:n};return r.BV.runKernel(a.q2,o,i)}})},5735:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({min_:function(e,t=null,n=!1){const o={x:(0,s._1)(e,"x","min")},i={axis:t,keepDims:n};return r.BV.runKernel(a.c1,o,i)}})},4513:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200),u=n(2271);const c=(0,n(2668).op)({minimum_:function(e,t){let n=(0,o._1)(e,"a","minimum"),c=(0,o._1)(t,"b","minimum");[n,c]=(0,s.T_)(n,c),"bool"===n.dtype&&(n=(0,u.p)(n,"int32"),c=(0,u.p)(c,"int32")),(0,i.assertAndGetBroadcastShape)(n.shape,c.shape);const l={a:n,b:c};return r.BV.runKernel(a.q8,l)}})},4841:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({mul_:function(e,t){let n=(0,o._1)(e,"a","mul"),i=(0,o._1)(t,"b","mul");[n,i]=(0,s.T_)(n,i);const u={a:n,b:i};return r.BV.runKernel(a.wY,u)}})},7370:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({neg_:function(e){const t={x:(0,s._1)(e,"x","neg")};return r.BV.runKernel(a.ku,t)}})},7122:function(e,t,n){"use strict";n.d(t,{Q:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({notEqual_:function(e,t){let n=(0,o._1)(e,"a","notEqual","string_or_numeric"),u=(0,o._1)(t,"b","notEqual","string_or_numeric");[n,u]=(0,s.T_)(n,u),(0,i.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(a.yQ,c)}})},4917:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(196),a=n(569),s=n(1661),o=n(9640);function i(e,t="float32"){if("complex64"===t){const t=i(e,"float32"),n=(0,o.l)(e,"float32");return(0,s.P)(t,n)}const n=(0,a.p8)((0,a.NA)(e),t);return r.BV.makeTensor(n,e,t)}},2668:function(e,t,n){"use strict";n.d(t,{op:function(){return s}});var r=n(196),a=n(569);function s(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const s=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const o=(...e)=>{r.BV.startScope(n);try{const t=s(...e);return(0,a.tI)(t)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(t),t}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}},1159:function(e,t,n){"use strict";n.d(t,{IHx:function(){return r.I},f3b:function(){return a.f},pju:function(){return s.p},d9v:function(){return o.d},zoF:function(){return i.z},Izb:function(){return c},hiC:function(){return l.h},dt4:function(){return p.d},BHj:function(){return Qe},dC7:function(){return d.d},XLQ:function(){return h.X},iD$:function(){return f.i},XD2:function(){return m.X},tPi:function(){return y.t},rVs:function(){return Ye},L9e:function(){return g.L},knu:function(){return b.k},Z_8:function(){return Je},luU:function(){return w.l},XeE:function(){return x.X},RRF:function(){return v.R},odF:function(){return N},HHK:function(){return E.H}});var r=n(6407),a=n(2657),s=n(2271),o=n(8723),i=n(6884),u=n(2668);const c=(0,u.op)({concat2d_:function(e,t){return(0,i.z)(e,t)}});var l=n(1274),p=n(1300),d=n(4841),h=n(4968),f=n(9494),m=n(625),y=n(2676),g=n(9590),b=n(2991),w=n(827),x=n(701),v=n(6092),_=n(3740),S=n(569),k=n(7852);function N(e,t,n){if((0,S.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=(0,_.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,k.H)(e,t,r,n)}var E=n(4136),I=n(3710),T=n(7020),A=n(8447),M=n(4415);function O(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let s=0;s<e;++s){const o=2*Math.PI*s/(e+r-1);a[s]=t-n*Math.cos(o)}return(0,v.R)(a,"float32")}(0,u.op)({hammingWindow_:function(e){return O(e,.54,.46)}});const D=(0,u.op)({hannWindow_:function(e){return O(e,.5,.5)}});var F=n(4006);const R=(0,u.op)({frame_:function(e,t,n,r=!1,a=0){let s=0;const o=[];for(;s+t<=e.size;)o.push((0,y.t)(e,s,t)),s+=n;if(r)for(;s<e.size;){const r=s+t-e.size,u=(0,i.z)([(0,y.t)(e,s,t-r),(0,F.h)([r],a)]);o.push(u),s+=n}return 0===o.length?N([],[0,t]):(0,h.X)((0,i.z)(o),[o.length,t])}});(0,u.op)({stft_:function(e,t,n,r,a=D){var s;null==r&&(s=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)))));const o=R(e,t,n),i=(0,d.d)(o,a(t));return(0,I.Q)(i,r)}});var C=n(196),$=n(9121);const B=(0,u.op)({cropAndResize_:function(e,t,n,r,a="bilinear",s=0){const o=(0,_._1)(e,"image","cropAndResize"),i=(0,_._1)(t,"boxes","cropAndResize","float32"),u=(0,_._1)(n,"boxInd","cropAndResize","int32"),c=i.shape[0];S.hu(4===o.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`)),S.hu(2===i.rank&&4===i.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${i.shape}.`)),S.hu(1===u.rank&&u.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${i.shape}.`)),S.hu(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),S.hu(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),S.hu("bilinear"===a||"nearest"===a,(()=>`method must be bilinear or nearest, but was ${a}`));const l={image:o,boxes:i,boxInd:u},p={method:a,extrapolationValue:s,cropSize:r};return C.BV.runKernel($.Vc,l,p)}});const P=(0,u.op)({flipLeftRight_:function(e){const t=(0,_._1)(e,"image","flipLeftRight","float32");S.hu(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return C.BV.runKernel($.Uy,n,{})}});var L=n(7501);const V=(0,u.op)({grayscaleToRGB_:function(e){const t=(0,_._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];S.hu(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),S.hu(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,(0,L.G)(t,a)}});const z=(0,u.op)({rotateWithOffset_:function(e,t,n=0,r=.5){const a=(0,_._1)(e,"image","rotateWithOffset","float32");S.hu(4===a.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`));const s={image:a},o={radians:t,fillValue:n,center:r};return C.BV.runKernel($.b9,s,o)}});function W(e,t,n,r,a,s){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);const o=e.shape[0];return n=Math.min(n,o),S.hu(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),S.hu(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),S.hu(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),S.hu(1===t.rank,(()=>"scores must be a 1D tensor")),S.hu(t.shape[0]===o,(()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`)),S.hu(0<=s&&s<=1,(()=>`softNmsSigma must be in [0, 1], but was '${s}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}const U=(0,u.op)({nonMaxSuppression_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=(0,_._1)(e,"boxes","nonMaxSuppression","float32"),o=(0,_._1)(t,"scores","nonMaxSuppression","float32"),i=W(s,o,n,r,a),u={maxOutputSize:n=i.maxOutputSize,iouThreshold:r=i.iouThreshold,scoreThreshold:a=i.scoreThreshold};return C.BV.runKernel($.uv,{boxes:s,scores:o},u)}});function H(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,s=0,o=!1;for(;r<a;){s=r+(a-r>>>1);const i=n(t,e[s]);i>0?r=s+1:(a=s,o=!i)}return o?r:-r-1}(e,t,n||j)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function j(e,t){return e>t?1:e<t?-1:0}function q(e,t,n,r,a,s,o=!1,i=!1,u=!1){const c=[];for(let y=0;y<t.length;y++)t[y]>a&&c.push({score:t[y],boxIndex:y,suppressBeginIndex:0});c.sort(K);const l=s>0?-.5/s:0,p=[],d=[];for(;p.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:s,suppressBeginIndex:o}=t;if(n<a)break;let i=!1;for(let u=p.length-1;u>=o;--u){const n=Z(e,s,p[u]);if(n>=r){i=!0;break}if(t.score=t.score*G(r,l,n),t.score<=a)break}t.suppressBeginIndex=p.length,i||(t.score===n?(p.push(s),d.push(t.score)):t.score>a&&H(c,t,K))}const h=p.length,f=n-h;i&&f>0&&(p.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const m={selectedIndices:p};return o&&(m.selectedScores=d),u&&(m.validOutputs=h),m}function Z(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),s=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),p=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(i-s)*(u-o),f=(p-c)*(d-l);if(h<=0||f<=0)return 0;const m=Math.max(s,c),y=Math.max(o,l),g=Math.min(i,p),b=Math.min(u,d),w=Math.max(g-m,0)*Math.max(b-y,0);return w/(h+f-w)}function G(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function K(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const X=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=(0,_._1)(e,"boxes","nonMaxSuppressionAsync"),o=(0,_._1)(t,"scores","nonMaxSuppressionAsync"),i=W(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const u=await Promise.all([s.data(),o.data()]),c=u[0],l=u[1],{selectedIndices:p}=function(e,t,n,r,a){return q(e,t,n,r,a,0)}(c,l,n,r,a);return s!==e&&s.dispose(),o!==t&&o.dispose(),(0,v.R)(p,"int32")};const Q=(0,u.op)({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=(0,_._1)(e,"boxes","nonMaxSuppression"),i=(0,_._1)(t,"scores","nonMaxSuppression"),u=W(o,i,n,r,a,s),c={boxes:o,scores:i},l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:s=u.softNmsSigma},p=C.BV.runKernel($.W0,c,l);return{selectedIndices:p[0],selectedScores:p[1]}}});const Y=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=(0,_._1)(e,"boxes","nonMaxSuppressionAsync"),i=(0,_._1)(t,"scores","nonMaxSuppressionAsync"),u=W(o,i,n,r,a,s);n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,s=u.softNmsSigma;const c=await Promise.all([o.data(),i.data()]),l=c[0],p=c[1],{selectedIndices:d,selectedScores:h}=function(e,t,n,r,a,s){return q(e,t,n,r,a,s,!0)}(l,p,n,r,a,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:(0,v.R)(d,"int32"),selectedScores:(0,v.R)(h)}};const J=(0,u.op)({nonMaxSuppressionPadded_:function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=(0,_._1)(e,"boxes","nonMaxSuppression"),i=(0,_._1)(t,"scores","nonMaxSuppression"),u=W(o,i,n,r,a,null),c={boxes:o,scores:i},l={maxOutputSize:u.maxOutputSize,iouThreshold:u.iouThreshold,scoreThreshold:u.scoreThreshold,padToMaxOutputSize:s},p=C.BV.runKernel($.cy,c,l);return{selectedIndices:p[0],validOutputs:p[1]}}});const ee=async function(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=(0,_._1)(e,"boxes","nonMaxSuppressionAsync"),i=(0,_._1)(t,"scores","nonMaxSuppressionAsync"),u=W(o,i,n,r,a,null),c=u.maxOutputSize,l=u.iouThreshold,p=u.scoreThreshold,[d,h]=await Promise.all([o.data(),i.data()]),{selectedIndices:m,validOutputs:y}=function(e,t,n,r,a,s){return q(e,t,n,r,a,0,!1,s,!0)}(d,h,c,l,p,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:(0,v.R)(m,"int32"),validOutputs:(0,f.i)(y,"int32")}};const te=(0,u.op)({resizeBilinear_:function(e,t,n=!1,r=!1){const a=(0,_._1)(e,"images","resizeBilinear");S.hu(3===a.rank||4===a.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`)),S.hu(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),S.hu(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=(0,h.X)(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},u={alignCorners:n,halfPixelCenters:r,size:t},c=C.BV.runKernel($._Y,i,u);return o?(0,h.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const ne=(0,u.op)({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const a=(0,_._1)(e,"images","resizeNearestNeighbor");S.hu(3===a.rank||4===a.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`)),S.hu(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),S.hu("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),S.hu(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let s=a,o=!1;3===a.rank&&(o=!0,s=(0,h.X)(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:s},u={alignCorners:n,halfPixelCenters:r,size:t},c=C.BV.runKernel($.dp,i,u);return o?(0,h.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var re=n(8644),ae=n(3865),se=n(624),oe=n(636),ie=n(5475),ue=n(7809),ce=n(5912),le=n(7245);const pe=(0,u.op)({threshold_:function(e,t="binary",n=!1,a=.5){const o=(0,_._1)(e,"image","threshold"),i=o.shape[0]*o.shape[1];let u,c,p,h,f=(0,d.d)((0,v.R)([a]),255);if(S.hu(3===o.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`)),S.hu(3===o.shape[2]||1===o.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`)),S.hu("int32"===o.dtype||"float32"===o.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`)),S.hu("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===o.shape[2]){[u,c,p]=(0,re.V)(o,[1,1,1],-1);const e=(0,d.d)(u,.2989),t=(0,d.d)(c,.587),n=(0,d.d)(p,.114);h=(0,r.I)((0,r.I)(e,t),n)}else h=e;if("otsu"===t){f=function(e,t){let n,a,s,o,i,u,c=(0,v.R)([-1]),p=(0,v.R)([0]),h=(0,v.R)([0]);for(let f=0;f<e.size-1;f++){n=(0,y.t)(e,0,f+1),a=(0,y.t)(e,f+1),i=(0,l.h)((0,ie.S)(n),t),u=(0,l.h)((0,ie.S)(a),t);const m=(0,ie.S)((0,d.d)(n,(0,le.w)(0,n.size)));s=(0,l.h)(m,(0,ie.S)(n));const g=(0,F.h)(a.shape,n.size),b=(0,r.I)((0,le.w)(0,a.size),g),x=(0,d.d)(a,b);o=(0,l.h)((0,ie.S)(x),(0,ie.S)(a));const _=(0,w.l)(s,o),S=(0,w.l)(s,o),k=(0,d.d)(i,u);h=(0,d.d)((0,d.d)(k,_),S);const N=(0,oe.p)(h,p);p=(0,ce.a)(N,h,p),c=(0,ce.a)(N,(0,v.R)([f]),c)}return c}((0,ae.y)((0,s.p)((0,ue.N)(h),"int32"),(0,x.X)([]),256),i)}const m=n?(0,se.z)(h,f):(0,oe.p)(h,f);return(0,s.p)((0,d.d)(m,255),"int32")}});const de=(0,u.op)({transform_:function(e,t,n="nearest",r="constant",a=0,s){const o=(0,_._1)(e,"image","transform","float32"),i=(0,_._1)(t,"transforms","transform","float32");S.hu(4===o.rank,(()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`)),S.hu(2===i.rank&&(i.shape[0]===o.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),S.hu(null==s||2===s.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`));const u={image:o,transforms:i},c={interpolation:n,fillMode:r,fillValue:a,outputShape:s};return C.BV.runKernel($.wx,u,c)}});var he=n(7630),fe=n(2856),me=n(9640);(0,u.op)({bandPart_:function(e,t,n){(0,S.hu)(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),(0,S.hu)(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=(0,_._1)(e,"a","bandPart");(0,S.hu)(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const a=r.shape,[s,o]=r.shape.slice(-2);if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);t<0&&(t=s),n<0&&(n=o);const i=(0,h.X)((0,le.w)(0,s,1,"int32"),[-1,1]),u=(0,le.w)(0,o,1,"int32"),c=(0,w.l)(i,u),l=(0,fe.H)((0,se.z)(c,(0,f.i)(+t,"int32")),(0,he.b)(c,(0,f.i)(-n,"int32"))),p=(0,me.l)([s,o],r.dtype);return(0,h.X)((0,b.k)((0,E.H)((0,h.X)(r,[-1,s,o])).map((e=>(0,ce.a)(l,e,p)))),a)}});var ye=n(6235),ge=n(3591),be=n(3307),we=n(5735),xe=n(3453),ve=n(3261),_e=n(248);function Se(e,t,n=null){if(0===e.rank)return(0,ye.W)(e);if(1!==e.rank&&null===n)return Se((0,h.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,ie.S)((0,ye.W)(e),n);if(t===1/0)return(0,be.F)((0,ye.W)(e),n);if(t===-1/0)return(0,we.V)((0,ye.W)(e),n);if("euclidean"===t||2===t)return(0,ve._)((0,ie.S)((0,xe.s)((0,ye.W)(e),(0,f.i)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,be.F)((0,ie.S)((0,ye.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,be.F)((0,ie.S)((0,ye.W)(e),n[1]),n[0]);if(t===-1/0)return(0,we.V)((0,ie.S)((0,ye.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,ve._)((0,ie.S)((0,_e.h)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const ke=(0,u.op)({norm_:function(e,t="euclidean",n=null,r=!1){const a=Se(e=(0,_._1)(e,"x","norm"),t,n);let s=a.shape;if(r){const t=(0,S.EC)(n,e.shape);s=ge.rv(a.shape,t)}return(0,h.X)(a,s)}});(0,u.op)({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,(0,S.hu)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)(0,S.hu)(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=(0,re.V)(e,e.shape[0],0).map((e=>(0,g.L)(e,[0])));(0,S.hu)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(C.BV.tidy((()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=(0,d.d)((0,ie.S)((0,d.d)(n[t],e)),n[t]);e=(0,w.l)(e,r)}return(0,l.h)(e,ke(e,"euclidean"))})));return t?(0,b.k)(n,0):n}});var Ne=n(4368);const Ee=(0,u.op)({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const s=(0,a.f)([e,t],r),o=e<=t?e:t;for(let a=0;a<o;++a)s.set(1,a,a);const i=(0,h.X)(s.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return(0,L.G)((0,p.d)(i,0),[n[0],1,1]);if(2===n.length)return(0,L.G)((0,p.d)((0,p.d)(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,L.G)((0,p.d)((0,p.d)((0,p.d)(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});var Ie=n(9804),Te=n(7370),Ae=n(9065);function Me(e,t=!1){return C.BV.tidy((()=>{(0,S.hu)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let a=Ee(n),s=(0,o.d)(e);const u=N([[1]],[1,1]);let c=(0,o.d)(u);const p=n>=r?r:n;for(let e=0;e<p;++e){const t=s,p=c,h=a;[c,s,a]=C.BV.tidy((()=>{const t=(0,y.t)(s,[e,e],[n-e,1]),p=ke(t),h=(0,y.t)(s,[e,e],[1,1]),f=(0,ce.a)((0,oe.p)(h,0),N([[-1]]),N([[1]])),m=(0,w.l)(h,(0,d.d)(f,p)),g=(0,l.h)(t,m);c=1===g.shape[0]?(0,o.d)(u):(0,i.z)([u,(0,y.t)(g,[1,0],[g.shape[0]-1,g.shape[1]])],0);const b=(0,Te.W)((0,l.h)((0,Ie.O)(f,m),p)),x=(0,y.t)(s,[e,0],[n-e,r]),v=(0,d.d)(b,c),_=(0,Ae.p)(c);if(0===e)s=(0,w.l)(x,(0,Ie.O)(v,(0,Ie.O)(_,x)));else{const t=(0,w.l)(x,(0,Ie.O)(v,(0,Ie.O)(_,x)));s=(0,i.z)([(0,y.t)(s,[0,0],[e,r]),t],0)}const S=(0,Ae.p)(v),k=(0,y.t)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=(0,w.l)(k,(0,Ie.O)((0,Ie.O)(k,c),S));else{const t=(0,w.l)(k,(0,Ie.O)((0,Ie.O)(k,c),S));a=(0,i.z)([(0,y.t)(a,[0,0],[n,e]),t],1)}return[c,s,a]})),(0,Ne.B9)([t,p,h])}return!t&&n>r&&(a=(0,y.t)(a,[0,0],[n,r]),s=(0,y.t)(s,[0,0],[r,r])),[a,s]}))}(0,u.op)({qr_:function(e,t=!1){if((0,S.hu)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Me(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=(0,E.H)((0,h.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];r.forEach((e=>{const[n,r]=Me(e,t);a.push(n),s.push(r)}));return[(0,h.X)((0,b.k)(a,0),e.shape),(0,h.X)((0,b.k)(s,0),e.shape)]}}});var Oe;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Oe||(Oe={}));var De=n(5130),Fe=n(7122),Re=n(4917);const Ce=(0,u.op)({computeWeightedLoss_:function(e,t,n=Oe.SUM_BY_NONZERO_WEIGHTS){const r=(0,_._1)(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=(0,_._1)(t,"weights","computeWeightedLoss"));const o=null==a?r:(0,d.d)(r,a);if(n===Oe.NONE)return o;if(n===Oe.SUM)return(0,ie.S)(o);if(n===Oe.MEAN){if(null==a)return(0,De.J)(o);{const e=r.size/a.size,t=(0,l.h)((0,ie.S)(o),(0,ie.S)(a));return e>1?(0,l.h)(t,(0,f.i)(e)):t}}if(n===Oe.SUM_BY_NONZERO_WEIGHTS){if(null==a)return(0,l.h)((0,ie.S)(o),(0,f.i)(r.size));{const e=(0,d.d)(a,(0,Re.i)(r.shape)),t=(0,s.p)((0,ie.S)((0,Fe.Q)(e,(0,f.i)(0))),"float32");return(0,l.h)((0,ie.S)(o),t)}}throw Error(`Unknown reduction: ${n}`)}});(0,u.op)({absoluteDifference_:function(e,t,n,r=Oe.SUM_BY_NONZERO_WEIGHTS){const a=(0,_._1)(e,"labels","absoluteDifference"),s=(0,_._1)(t,"predictions","absoluteDifference");let o=null;null!=n&&(o=(0,_._1)(n,"weights","absoluteDifference")),(0,S.k5)(a.shape,s.shape,"Error in absoluteDifference: ");const i=(0,ye.W)((0,w.l)(a,s));return Ce(i,o,r)}});(0,u.op)({cosineDistance_:function(e,t,n,r,a=Oe.SUM_BY_NONZERO_WEIGHTS){const s=(0,_._1)(e,"labels","cosineDistance"),o=(0,_._1)(t,"predictions","cosineDistance");let i=null;null!=r&&(i=(0,_._1)(r,"weights","cosineDistance")),(0,S.k5)(s.shape,o.shape,"Error in cosineDistance: ");const u=(0,f.i)(1),c=(0,w.l)(u,(0,ie.S)((0,d.d)(s,o),n,!0));return Ce(c,i,a)}});var $e=n(7409);(0,u.op)({hingeLoss_:function(e,t,n,r=Oe.SUM_BY_NONZERO_WEIGHTS){let a=(0,_._1)(e,"labels","hingeLoss");const s=(0,_._1)(t,"predictions","hingeLoss");let o=null;null!=n&&(o=(0,_._1)(n,"weights","hingeLoss")),(0,S.k5)(a.shape,s.shape,"Error in hingeLoss: ");const i=(0,f.i)(1);a=(0,w.l)((0,d.d)((0,f.i)(2),a),i);const u=(0,$e.U)((0,w.l)(i,(0,d.d)(a,s)));return Ce(u,o,r)}});var Be=n(4513);(0,u.op)({huberLoss_:function(e,t,n,a=1,s=Oe.SUM_BY_NONZERO_WEIGHTS){const o=(0,_._1)(e,"labels","huberLoss"),i=(0,_._1)(t,"predictions","huberLoss");let u=null;null!=n&&(u=(0,_._1)(n,"weights","huberLoss")),(0,S.k5)(o.shape,i.shape,"Error in huberLoss: ");const c=(0,f.i)(a),l=(0,ye.W)((0,w.l)(i,o)),p=(0,Be.L)(l,c),h=(0,w.l)(l,p),m=(0,r.I)((0,d.d)((0,f.i)(.5),(0,_e.h)(p)),(0,d.d)(c,h));return Ce(m,u,s)}});var Pe=n(2597);(0,u.op)({logLoss_:function(e,t,n,a=1e-7,s=Oe.SUM_BY_NONZERO_WEIGHTS){const o=(0,_._1)(e,"labels","logLoss"),i=(0,_._1)(t,"predictions","logLoss");let u=null;null!=n&&(u=(0,_._1)(n,"weights","logLoss")),(0,S.k5)(o.shape,i.shape,"Error in logLoss: ");const c=(0,f.i)(1),l=(0,f.i)(a),p=(0,Te.W)((0,d.d)(o,(0,Pe.c)((0,r.I)(i,l)))),h=(0,d.d)((0,w.l)(c,o),(0,Pe.c)((0,r.I)((0,w.l)(c,i),l))),m=(0,w.l)(p,h);return Ce(m,u,s)}});var Le=n(5265);(0,u.op)({meanSquaredError_:function(e,t,n,r=Oe.SUM_BY_NONZERO_WEIGHTS){const a=(0,_._1)(e,"labels","meanSquaredError"),s=(0,_._1)(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=(0,_._1)(n,"weights","meanSquaredError")),(0,S.k5)(a.shape,s.shape,"Error in meanSquaredError: ");const i=(0,Le.$)(a,s);return Ce(i,o,r)}});var Ve=n(4842),ze=n(7474);(0,u.op)({sigmoidCrossEntropy_:function(e,t,n,a=0,s=Oe.SUM_BY_NONZERO_WEIGHTS){let o=(0,_._1)(e,"multiClassLabels","sigmoidCrossEntropy");const i=(0,_._1)(t,"logits","sigmoidCrossEntropy");let u=null;if(null!=n&&(u=(0,_._1)(n,"weights","sigmoidCrossEntropy")),(0,S.k5)(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),a>0){const e=(0,f.i)(a),t=(0,f.i)(1),n=(0,f.i)(.5);o=(0,r.I)((0,d.d)(o,(0,w.l)(t,e)),(0,d.d)(n,e))}const c=function(e,t){const n=(0,_._1)(e,"labels","sigmoidCrossEntropyWithLogits"),a=(0,_._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,S.k5)(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=(0,$e.U)(a),o=(0,d.d)(a,n),i=(0,ze.K)((0,Ve.Q)((0,Te.W)((0,ye.W)(a))));return(0,r.I)((0,w.l)(s,o),i)}(o,i);return Ce(c,u,s)}});var We=n(633);const Ue=(0,u.op)({logSumExp_:function(e,t=null,n=!1){const a=(0,_._1)(e,"x","logSumExp"),s=(0,S.EC)(t,a.shape),o=(0,be.F)(a,s,!0),i=(0,w.l)(a,o),u=(0,Ve.Q)(i),c=(0,ie.S)(u,s),l=(0,Pe.c)(c),p=(0,r.I)((0,h.X)(o,l.shape),l);if(n){const e=(0,ge.rv)(p.shape,s);return(0,h.X)(p,e)}return p}});(0,u.op)({softmaxCrossEntropy_:function(e,t,n,a=0,o=Oe.SUM_BY_NONZERO_WEIGHTS){let i=(0,_._1)(e,"onehotLabels","softmaxCrossEntropy");const u=(0,_._1)(t,"logits","softmaxCrossEntropy");let c=null;if(null!=n&&(c=(0,_._1)(n,"weights","softmaxCrossEntropy")),(0,S.k5)(i.shape,u.shape,"Error in softmaxCrossEntropy: "),a>0){const e=(0,f.i)(a),t=(0,f.i)(1),n=(0,f.i)(i.shape[1]);i=(0,r.I)((0,d.d)(i,(0,w.l)(t,e)),(0,l.h)(e,n))}const p=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return(0,We.cb)(((e,t,r)=>{const a=Ue(t,[n],!0),o=(0,w.l)((0,s.p)(t,"float32"),a);r([e,o]);const i=(0,Te.W)((0,d.d)(o,e));return{value:(0,ie.S)(i,[n]),gradFunc:(e,t)=>{const[r,a]=t,o=(0,ge.rv)(e.shape,[n]);return[(0,d.d)((0,h.X)(e,o),(0,w.l)((0,s.p)(r,"float32"),(0,Ve.Q)(a))),(0,d.d)((0,h.X)(e,o),(0,w.l)((0,Ve.Q)(a),(0,s.p)(r,"float32")))]}}}))(e,t)}(i,u);return Ce(p,c,o)}});const He=(0,u.op)({sparseFillEmptyRows_:function(e,t,n,r){const a=(0,_._1)(e,"indices","sparseFillEmptyRows","int32"),s=(0,_._1)(t,"values","sparseFillEmptyRows"),o=(0,_._1)(n,"denseShape","sparseFillEmptyRows","int32"),i=(0,_._1)(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==s.rank)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(1!==o.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(0!==i.rank)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const u={indices:a,values:s,denseShape:o,defaultValue:i},c=C.BV.runKernel($.O3,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const je=(0,u.op)({sparseReshape_:function(e,t,n){const r=(0,_._1)(e,"inputIndices","sparseReshape","int32"),a=(0,_._1)(t,"inputShape","sparseReshape","int32"),s=(0,_._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==s.rank)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const o={inputIndices:r,inputShape:a,newShape:s},i=C.BV.runKernel($.nh,o);return{outputIndices:i[0],outputShape:i[1]}}});const qe=(0,u.op)({sparseSegmentMean_:function(e,t,n){const r=(0,_._1)(e,"data","sparseSegmentMean"),a=(0,_._1)(t,"indices","sparseSegmentMean","int32"),s=(0,_._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return C.BV.runKernel($.YW,o)}});const Ze=(0,u.op)({sparseSegmentSum_:function(e,t,n){const r=(0,_._1)(e,"data","sparseSegmentSum"),a=(0,_._1)(t,"indices","sparseSegmentSum","int32"),s=(0,_._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==s.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return C.BV.runKernel($.Zj,o)}});const Ge=(0,u.op)({stringNGrams_:function(e,t,n,r,a,s,o,i){const u=(0,_._1)(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error(`Data must be a vector, saw: ${u.shape}`);const c=(0,_._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const l={separator:n,nGramWidths:r,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:i},p={data:u,dataSplits:c},d=C.BV.runKernel($._J,p,l);return{nGrams:d[0],nGramsSplits:d[1]}}});const Ke=(0,u.op)({stringSplit_:function(e,t,n=!0){const r=(0,_._1)(e,"input","stringSplit","string"),a=(0,_._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const s={skipEmpty:n},o={input:r,delimiter:a},i=C.BV.runKernel($.s1,o,s);return{indices:i[0],values:i[1],shape:i[2]}}});const Xe=(0,u.op)({stringToHashBucketFast_:function(e,t){const n=(0,_._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return C.BV.runKernel($.Xk,a,r)}}),Qe=(T.k,A.S,I.Q,M.w,{flipLeftRight:P,grayscaleToRGB:V,resizeNearestNeighbor:ne,resizeBilinear:te,rotateWithOffset:z,cropAndResize:B,nonMaxSuppression:U,nonMaxSuppressionAsync:X,nonMaxSuppressionWithScore:Q,nonMaxSuppressionWithScoreAsync:Y,nonMaxSuppressionPadded:J,nonMaxSuppressionPaddedAsync:ee,threshold:pe,transform:de}),Ye={sparseFillEmptyRows:He,sparseReshape:je,sparseSegmentMean:qe,sparseSegmentSum:Ze},Je={stringNGrams:Ge,stringSplit:Ke,stringToHashBucketFast:Xe}},3453:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({pow_:function(e,t){let n=(0,o._1)(e,"base","pow"),i=(0,o._1)(t,"exp","pow");[n,i]=(0,s.T_)(n,i);const u={a:n,b:i};return r.BV.runKernel(a.pe,u)}})},8151:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({prelu_:function(e,t){const n={x:(0,s._1)(e,"x","prelu"),alpha:(0,s._1)(t,"alpha","prelu")};return r.BV.runKernel(a.o0,n)}})},7245:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r=n(196),a=n(9121);function s(e,t,n=1,s="float32"){if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:s};return r.BV.runKernel(a.e6,{},o)}},766:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({real_:function(e){const t={input:(0,s._1)(e,"input","real")};return r.BV.runKernel(a.xJ,t)}})},7409:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({relu_:function(e){const t={x:(0,s._1)(e,"x","relu")};return r.BV.runKernel(a.qk,t)}})},3582:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({relu6_:function(e){const t={x:(0,s._1)(e,"x","relu6")};return r.BV.runKernel(a.Sb,t)}})},4968:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({reshape_:function(e,t){const n={x:(0,s._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(a.HZ,n,o)}})},7486:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({reverse_:function(e,t){const n={x:(0,s._1)(e,"x","reverse")},o={dims:t};return r.BV.runKernel(a.mK,n,o)}})},7809:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({round_:function(e){const t={x:(0,s._1)(e,"x","round")};return r.BV.runKernel(a.e0,t)}})},9494:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(569),a=n(7852);function s(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,a.H)(e,[],[],t)}},3028:function(e,t,n){"use strict";n.r(t),n.d(t,{validateUpdateShape:function(){return a},validateInput:function(){return s},calculateShapes:function(){return o}});var r=n(569);function a(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(s+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(s+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(s+" update.rank != "+(a+e.length-r));for(let o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(s+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(let o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(s+` updates.shape[${o+a}] (${n.shape[o+a]}) != shape[${o+a}] (${e[o+a]})`)}function s(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}a(n,t,e)}function o(e,t,n){const a=t.shape.length,s=a>1?t.shape[a-1]:1,o=n.length;let i=1;for(let r=s;r<o;++r)i*=n[r];const u=s<1?1:s;return{sliceRank:s,numUpdates:(0,r.NA)(t.shape)/u,sliceSize:i,strides:[...(0,r.e3)(n.slice(0,s)),1],outputSize:(0,r.NA)(n)}}},625:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({sigmoid_:function(e){const t={x:(0,s._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(a.a5,t)}})},2676:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({slice_:function(e,t,n){const o=(0,s._1)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");const i={x:o},u={begin:t,size:n};return r.BV.runKernel(a.p2,i,u)}})},7020:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(196),a=n(9121),s=n(569);const o=(0,n(2668).op)({fft_:function(e){(0,s.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(a.vw,t)}})},8447:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(196),a=n(9121),s=n(569);const o=(0,n(2668).op)({ifft_:function(e){(0,s.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(a.Qg,t)}})},4415:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var r=n(1661),a=n(6884),s=n(4386),o=n(4841),i=n(2668),u=n(766),c=n(4968),l=n(7486),p=n(9494),d=n(2676),h=n(8447);const f=(0,i.op)({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let i;if(t<=2){const r=(0,c.X)(e,[n,t]);i=(0,h.S)(r)}else{const f=[n,2*(t-1)],m=(0,c.X)((0,u.k)(e),[n,t]),y=(0,c.X)((0,s.a)(e),[n,t]),g=(0,l.G)((0,d.t)(m,[0,1],[n,t-2]),1),b=(0,o.d)((0,l.G)((0,d.t)(y,[0,1],[n,t-2]),1),(0,p.i)(-1)),w=(0,a.z)([m,g],1),x=(0,a.z)([y,b],1),v=(0,c.X)((0,r.P)(w,x),[f[0],f[1]]);i=(0,h.S)(v)}if(i=(0,u.k)(i),3===e.rank&&0!==e.shape[0]){const t=i,n=e.shape[0];i=(0,c.X)(i,[n,i.shape[0]/n,i.shape[1]]),t.dispose()}return i}})},3710:function(e,t,n){"use strict";n.d(t,{Q:function(){return m}});var r=n(569),a=n(1661),s=n(6884),o=n(4386),i=n(2668),u=n(766),c=n(4968),l=n(2676),p=n(8644),d=n(9640),h=n(6577),f=n(7020);const m=(0,i.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const i=e.size/n;let m;if(null!=t&&t<n){const r=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,m=(0,l.t)(e,r,a),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,m=(0,s.z)([e,(0,d.l)(r)],e.shape.length-1),n=t}else m=e;const y=(0,h.P)(m),g=(0,c.X)((0,a.P)(m,y),[i,n]),b=(0,f.k)(g),w=Math.floor(n/2)+1,x=(0,u.k)(b),v=(0,o.a)(b),_=(0,p.V)(x,[w,n-w],x.shape.length-1),S=(0,p.V)(v,[w,n-w],v.shape.length-1),k=m.shape.slice();return k[m.shape.length-1]=w,(0,c.X)((0,a.P)(_[0],S[0]),k)}})},8644:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({split_:function(e,t,n=0){const o={x:(0,s._1)(e,"x","split")},i={numOrSizeSplits:t,axis:n};return r.BV.runKernel(a.L8,o,i)}})},3261:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({sqrt_:function(e){const t={x:(0,s._1)(e,"x","sqrt","float32")};return r.BV.runKernel(a.FK,t)}})},248:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(196),a=n(3740);const s=(0,n(2668).op)({square_:function(e){const t=(0,a._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},5265:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var r=n(196),a=n(9121),s=n(747),o=n(3740),i=n(2200);const u=(0,n(2668).op)({squaredDifference_:function(e,t){let n=(0,o._1)(e,"a","squaredDifference"),u=(0,o._1)(t,"b","squaredDifference");[n,u]=(0,s.T_)(n,u),(0,i.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(a._t,c,{})}})},9590:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(3740),a=n(569),s=n(2668),o=n(4968);const i=(0,s.op)({squeeze_:function(e,t){const n=(0,r._1)(e,"x","squeeze");return(0,o.X)(n,(0,a.bp)(n.shape,t).newShape)}})},2991:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({stack_:function(e,t=0){const n=(0,s.sI)(e,"tensors","stack","string_or_numeric");o.hu(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&o.hu(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const i=n,u={axis:t};return r.BV.runKernel(a.Qi,i,u)}})},827:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(196),a=n(9121),s=n(747),o=n(3740);const i=(0,n(2668).op)({sub_:function(e,t){let n=(0,o._1)(e,"a","sub"),i=(0,o._1)(t,"b","sub");[n,i]=(0,s.T_)(n,i);const u={a:n,b:i};return r.BV.runKernel(a.Tr,u)}})},5475:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(2271);const i=(0,n(2668).op)({sum_:function(e,t=null,n=!1){let i=(0,s._1)(e,"x","sum");"bool"===i.dtype&&(i=(0,o.p)(i,"int32"));const u={x:i},c={axis:t,keepDims:n};return r.BV.runKernel(a.GB,u,c)}})},701:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(3740),a=n(7852);function s(e,t,n){const s=(0,r.C)(e,n);return(0,a.H)(e,t,s,n)}},6092:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(3740),a=n(569),s=n(7852);function o(e,t){(0,a.Cq)(e);const n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,s.H)(e,null,n,t)}},7852:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(196),a=n(569),s=n(3418);function o(e,t,n,o){if(null==o&&(o=(0,a.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,a.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,a.Mu)(t);const e=(0,a.NA)(t),r=(0,a.NA)(n);(0,a.hu)(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let s=0;s<n.length;++s){const e=n[s],r=s!==n.length-1||e!==(0,a.NA)(t.slice(s));(0,a.hu)(n[s]===t[s]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return(0,a.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,s.toTypedArray)(e,o):(0,a.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},7501:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({tile_:function(e,t){const n=(0,s._1)(e,"x","tile","string_or_numeric");o.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const i={x:n},u={reps:t};return r.BV.runKernel(a.n9,i,u)}})},9065:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({transpose_:function(e,t){const n=(0,s._1)(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),o.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{o.hu(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const i={x:n},u={perm:t};return r.BV.runKernel(a.G3,i,u)}})},4136:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(196),a=n(9121),s=n(3740),o=n(569);const i=(0,n(2668).op)({unstack_:function(e,t=0){const n=(0,s._1)(e,"x","unstack","string_or_numeric");o.hu(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const i={value:n},u={axis:t};return r.BV.runKernel(a.To,i,u)}})},5912:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(196),a=n(9121),s=n(3740),o=n(8247),i=n(2200);const u=(0,n(2668).op)({where_:function(e,t,n){const u=(0,s._1)(t,"a","where"),c=(0,s._1)(n,"b","where"),l=(0,s._1)(e,"condition","where","bool"),p=(0,i.assertAndGetBroadcastShape)((0,i.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),d={condition:(0,o.U)(l,p),t:(0,o.U)(u,p),e:(0,o.U)(c,p)};return r.BV.runKernel(a.Ph,d)}})},9640:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(196),a=n(569),s=n(1661);function o(e,t="float32"){if("complex64"===t){const t=o(e,"float32"),n=o(e,"float32");return(0,s.P)(t,n)}const n=(0,a.wT)((0,a.NA)(e),t);return r.BV.makeTensor(n,e,t)}},6577:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(196),a=n(9121),s=n(3740);const o=(0,n(2668).op)({zerosLike_:function(e){const t={x:(0,s._1)(e,"x","zerosLike")};return r.BV.runKernel(a.Ru,t)}})},974:function(e,t,n){"use strict";n.d(t,{es:function(){return b},YD:function(){return p},_w:function(){return w},FZ:function(){return g},Vp:function(){return y},Vi:function(){return m}});var r=n(5938),a=n(569);function s(e,t,n,r){const s=(0,a.e3)(t),i=function(e,t,n,r){const s=(0,a.NA)(t),i=r[r.length-1],u=new Array(i).fill(0),l=t.length,p="complex64"===n?c(e):e;if(l>1)for(let a=0;a<s/i;a++){const e=a*i;for(let t=0;t<i;t++)u[t]=Math.max(u[t],o(p[e+t],0,n).length)}return u}(e,t,n,s),l=t.length,p=u(e,t,n,s,i),d=["Tensor"];return r&&(d.push(`  dtype: ${n}`),d.push(`  rank: ${l}`),d.push(`  shape: [${t}]`),d.push("  values:")),d.push(p.map((e=>"    "+e)).join("\n")),d.join("\n")}function o(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:(0,a.HD)(e)?`'${e}'`:"bool"===n?i(e):parseFloat(e.toFixed(7)).toString(),(0,a.oj)(r,t)}function i(e){return 0===e?"false":"true"}function u(e,t,n,r,a,s=!0){const l="complex64"===n?2:1,p=t[0],d=t.length;if(0===d){if("complex64"===n){return[o(c(e)[0],0,n)]}return"bool"===n?[i(e[0])]:[e[0].toString()]}if(1===d){if(p>20){const t=3*l;let r=Array.from(e.slice(0,t)),s=Array.from(e.slice((p-3)*l,p*l));return"complex64"===n&&(r=c(r),s=c(s)),["["+r.map(((e,t)=>o(e,a[t],n))).join(", ")+", ..., "+s.map(((e,t)=>o(e,a[p-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?c(e):Array.from(e)).map(((e,t)=>o(e,a[t],n))).join(", ")+"]"]}const h=t.slice(1),f=r.slice(1),m=r[0]*l,y=[];if(p>20){for(let t=0;t<3;t++){const r=t*m,s=r+m;y.push(...u(e.slice(r,s),h,n,f,a,!1))}y.push("...");for(let t=p-3;t<p;t++){const r=t*m,s=r+m;y.push(...u(e.slice(r,s),h,n,f,a,t===p-1))}}else for(let o=0;o<p;o++){const t=o*m,r=t+m;y.push(...u(e.slice(t,r),h,n,f,a,o===p-1))}const g=2===d?",":"";y[0]="["+y[0]+g;for(let o=1;o<y.length-1;o++)y[o]=" "+y[o]+g;let b=",\n";for(let o=2;o<d;o++)b+="\n";return y[y.length-1]=" "+y[y.length-1]+"]"+(s?"":b),y}function c(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var l=n(3418);class p{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=a.NA(e),null!=n){const e=n.length;a.hu(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||a.rQ(t,this.size),this.strides=(0,a.e3)(e)}set(e,...t){0===t.length&&(t=[0]),a.hu(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const r of e){if(r<0||r>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return d().makeTensor(this.values,this.shape,this.dtype)}}let d=null,h=null,f=null;function m(e){d=e}function y(e){h=e}function g(e){f=e}class b{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=a.NA(e),this.strides=(0,a.e3)(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return h.buffer(this.shape,this.dtype,e)}bufferSync(){return h.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return(0,a.GX)(this.shape,e,"complex64"===this.dtype)}arraySync(){return(0,a.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=d().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>l.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),d().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=d().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>l.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await d().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(d().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return h.print(this,e)}clone(){return this.throwIfDisposed(),h.clone(this)}toString(e=!1){return s(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),h.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),d().makeVariable(this,e,t,n)}}Object.defineProperty(b,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),(0,r.R)("Tensor",(()=>b));class w extends b{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!a.cO(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);d().disposeTensor(this),this.dataId=e.dataId,d().incRef(this,null)}dispose(){d().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(w,Symbol.hasInstance,{value:e=>e instanceof b&&null!=e.assign&&e.assign instanceof Function})},747:function(e,t,n){"use strict";n.d(t,{T_:function(){return s},Vu:function(){return o}});var r=n(974),a=n(1221);function s(e,t){if(e.dtype===t.dtype)return[e,t];const n=(0,a.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function o(e){const t=[];return i(e,t,new Set),t}function i(e,t,n){if(null==e)return;if(e instanceof r.es)return void t.push(e);if(a=e,!Array.isArray(a)&&"object"!==typeof a)return;var a;const s=e;for(const r in s){const e=s[r];n.has(e)||(n.add(e),i(e,t,n))}}},3740:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return p},sI:function(){return d}});var r=n(196),a=n(2885),s=n(974),o=n(569),i=n(3418);function u(e,t){let n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,a.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],!Array.isArray(e)&&!(0,o.fU)(e))return void(0,o.hu)(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));(0,o.hu)(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),(0,o.hu)(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let a=0;a<e.length;++a)c(e[a],r,n.concat(a))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function p(e,t,n,a="numeric"){if(e instanceof s.es)return l(a,e.dtype,t,n),e;let c=(0,o.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(a)>=0&&(c=a),l(a,c,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const p=u(e,c);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);const d="string"!==c?(0,i.toTypedArray)(e,c):(0,o.xH)(e,[],!0);return r.BV.makeTensor(d,p,c)}function d(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>p(e,`${t}[${a}]`,n,r)))}},1221:function(e,t,n){"use strict";var r,a,s,o,i;n.d(t,{x8:function(){return c}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(s||(s={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(i||(i={}));const u={float32:o,int32:a,bool:s,complex64:i};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return u[e][t]}},3418:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return a.cO},assert:function(){return a.hu},assertNonNegativeIntegerDimensions:function(){return a.Mu},assertNonNull:function(){return a.Cq},assertShapesMatch:function(){return a.k5},bytesFromStringArray:function(){return a.Ub},bytesPerElement:function(){return a.bT},checkConversionForErrors:function(){return a.D5},clamp:function(){return a.uZ},computeStrides:function(){return a.e3},createScalarValue:function(){return w},createShuffledIndices:function(){return a.U$},decodeString:function(){return k},distSquared:function(){return a.E7},encodeString:function(){return S},fetch:function(){return _},fingerPrint64:function(){return b},flatten:function(){return a.xH},getArrayFromDType:function(){return a.rQ},getTypedArrayFromDType:function(){return a.WP},hasEncodingLoss:function(){return a.QB},hexToLong:function(){return i},indexToLoc:function(){return a.NE},inferDtype:function(){return a.D2},inferFromImplicitShape:function(){return a.JZ},isBoolean:function(){return a.jn},isFunction:function(){return a.mf},isInt:function(){return a.GN},isNumber:function(){return a.hj},isPromise:function(){return a.tI},isScalarShape:function(){return a.N9},isString:function(){return a.HD},isTypedArray:function(){return a.fU},isValidDtype:function(){return a.LP},locToIndex:function(){return a.qy},makeOnesTypedArray:function(){return a.p8},makeZerosNestedTypedArray:function(){return a.l6},makeZerosTypedArray:function(){return a.wT},nearestDivisor:function(){return a.jP},nearestLargerEven:function(){return a.nY},now:function(){return v},parseAxisParam:function(){return a.EC},randUniform:function(){return a.bj},repeatedTry:function(){return a.WD},rightPad:function(){return a.oj},shuffle:function(){return a.TV},shuffleCombo:function(){return a.d7},sizeFromShape:function(){return a.NA},sizeToSquarishShape:function(){return a.YP},squeezeShape:function(){return a.bp},sum:function(){return a.Sm},swap:function(){return a.LF},tanh:function(){return a.AE},toNestedArray:function(){return a.GX},toTypedArray:function(){return x}});var r=n(2885),a=n(569),s=n(3720);const o=n.n(s)()||s;function i(e){return o.fromString(e,!0,16)}const u=i("c3a5c85c97cb3127"),c=i("b492b66fbe98f273"),l=i("9ae16a3b2f90404f");function p(e){return e.xor(e.shru(47))}function d(e,t,n){const r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function h(e,t){return d(e,t,8)}function f(e,t){return d(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function y(e,t,n=i("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function g(e,t,n,r){return function(e,t,n,r,a,s){a=a.add(e),s=m(s.add(a).add(r),21);const o=a;return a=(a=a.add(t)).add(n),s=s.add(m(a,44)),[a.add(r),s.add(o)]}(h(e,t),h(e,t+8),h(e,t+16),h(e,t+24),n,r)}function b(e,t=e.length){const n=o.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=l.add(2*t),r=h(e,0).add(l),a=h(e,t-8);return y(m(a,37).mul(n).add(r),m(r,25).add(a).mul(n),n)}if(t>=4){const n=l.add(2*t);return y(f(e,0).shl(3).add(t),f(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return p(l.mul(n).xor(u.mul(r))).mul(l)}return l}(e,t):function(e,t=e.length){const n=l.add(2*t),r=h(e,0).mul(c),a=h(e,8),s=h(e,t-8).mul(n),o=h(e,t-16).mul(l);return y(m(r.add(a),43).add(m(s,30)).add(o),r.add(m(a.add(l),18)).add(s),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=l.add(2*t),r=h(e,0).mul(l),a=h(e,8),s=h(e,t-8).mul(n),o=h(e,t-16).mul(l),i=m(r.add(a),43).add(m(s,30)).add(o),u=y(i,r.add(m(a.add(l),18)).add(s),n),c=h(e,16).mul(n),p=h(e,24),d=i.add(h(e,t-32)).mul(n),f=u.add(h(e,t-24)).mul(n);return y(m(c.add(p),43).add(m(d,30)).add(f),c.add(m(p.add(r),18)).add(d),n)}(e,t);let r=n,a=n.mul(c).add(113),s=p(a.mul(l).add(113)).mul(l),i=[o.UZERO,o.UZERO],d=[o.UZERO,o.UZERO];r=r.mul(l).add(h(e,0));let b=0;const w=64*(t-1>>6),x=w+(t-1&63)-63;do{r=m(r.add(a).add(i[0]).add(h(e,b+8)),37).mul(c),a=m(a.add(i[1]).add(h(e,b+48)),42).mul(c),r=r.xor(d[1]),a=a.add(i[0]).add(h(e,b+40)),s=m(s.add(d[0]),33).mul(c),i=g(e,b,i[1].mul(c),r.add(d[0])),d=g(e,b+32,s.add(d[1]),a.add(h(e,b+16))),[s,r]=[r,s],b+=64}while(b!==w);const v=c.add(s.and(255).shl(1));return b=x,d[0]=d[0].add(t-1&63),i[0]=i[0].add(d[0]),d[0]=d[0].add(i[0]),r=m(r.add(a).add(i[0]).add(h(e,b+8)),37).mul(v),a=m(a.add(i[1]).add(h(e,b+48)),42).mul(v),r=r.xor(d[1].mul(9)),a=a.add(i[0].mul(9).add(h(e,b+40))),s=m(s.add(d[0]),33).mul(v),i=g(e,b,i[1].mul(v),r.add(d[0])),d=g(e,b+32,s.add(d[1]),a.add(h(e,b+16))),[s,r]=[r,s],y(y(i[0],d[0],v).add(p(a).mul(u)).add(s),y(i[1],d[1],v).add(r),v)}function w(e,t){return"string"===t?S(e):x([e],t)}function x(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=a.xH(e)),(0,r.OB)().getBool("DEBUG")&&a.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function v(){return(0,r.OB)().platform.now()}function _(e,t){return(0,r.OB)().platform.fetch(e,t)}function S(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function k(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},569:function(e,t,n){"use strict";function r(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,i(e,t,n)}function a(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,i(e,n,r),i(t,n,r)}function s(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function u(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){const n=Math.random();return t*n+(1-n)*e}function l(e,t){let n=0;for(let r=0;r<e.length;r++){const a=Number(e[r])-Number(t[r]);n+=a*a}return n}function p(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function d(e,t,n=""){p(g(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function h(e){p(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function f(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||D(e)&&!n)for(let r=0;r<e.length;++r)f(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function y(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b(e){return e%1===0}function w(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function x(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function v(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return r(t),t}function _(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e,t=(e=>0),n){return new Promise(((r,a)=>{let s=0;const o=()=>{if(e())return void r();s++;const i=t(s);null!=n&&s>=n?a():setTimeout(o,i)};o()}))}function k(e,t){let n=1,r=-1;for(let s=0;s<e.length;++s)if(e[s]>=0)n*=e[s];else if(-1===e[s]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${s}`);r=s}else if(e[s]<0)throw Error(`Shapes can not be < 0. Found ${e[s]} at dim ${s}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function N(e,t){const n=t.length;return p((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),p(e.every((e=>b(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function E(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,s=null==t||a?null:N(t,e).sort();let o=0;for(let i=0;i<e.length;++i){if(null!=s){if(s[o]===i&&1!==e[i])throw new Error(`Can't squeeze axis ${i} since its dim '${e[i]}' is not 1`);(null==s[o]||s[o]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),s[o]<=i&&o++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}function I(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function T(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function A(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function M(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function O(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function D(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function F(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function R(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function C(e){return"string"===typeof e||e instanceof String}function $(e){return"boolean"===typeof e}function B(e){return"number"===typeof e}function P(e){return Array.isArray(e)?P(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":B(e)?"float32":C(e)?"string":$(e)?"bool":"float32"}function L(e){return!!(e&&e.constructor&&e.call&&e.apply)}function V(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function z(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function W(e,t,n,r=!1){const a=new Array;if(1===t.length){const s=t[0]*(r?2:1);for(let t=0;t<s;t++)a[t]=n[e+t]}else{const s=t[0],o=t.slice(1),i=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<s;t++)a[t]=W(e+t*i,o,n,r)}return a}function U(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return W(0,e,t,n)}function H(e,t){const n=j(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function j(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function q(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return U(e,new Float32Array(n));if("int32"===t)return U(e,new Int32Array(n));if("bool"===t)return U(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function Z(e){e.forEach((t=>{p(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function G(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function K(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{TV:function(){return r},d7:function(){return a},uZ:function(){return s},nY:function(){return o},LF:function(){return i},Sm:function(){return u},bj:function(){return c},E7:function(){return l},hu:function(){return p},k5:function(){return d},Cq:function(){return h},xH:function(){return f},NA:function(){return m},N9:function(){return y},cO:function(){return g},GN:function(){return b},AE:function(){return w},YP:function(){return x},U$:function(){return v},oj:function(){return _},WD:function(){return S},JZ:function(){return k},EC:function(){return N},bp:function(){return E},WP:function(){return I},rQ:function(){return T},D5:function(){return A},LP:function(){return M},QB:function(){return O},fU:function(){return D},bT:function(){return F},Ub:function(){return R},HD:function(){return C},jn:function(){return $},hj:function(){return B},D2:function(){return P},mf:function(){return L},jP:function(){return V},e3:function(){return z},GX:function(){return U},p8:function(){return H},wT:function(){return j},l6:function(){return q},Mu:function(){return Z},qy:function(){return G},NE:function(){return K},tI:function(){return X}})},3720:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(N){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},s={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?g:y;if(t){if(e<0)return g;if(e>=h)return _}else{if(e<=-f)return S;if(e+1>=f)return v}return e<0?i(-e,t).neg():u(e%d|0,e/d|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=i,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var a=i(c(n,8)),s=y,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),p=parseInt(e.substring(o,o+u),n);if(u<8){var d=i(c(n,u));s=s.mul(d).add(i(p))}else s=(s=s.mul(a)).add(i(p))}return s.unsigned=t,s}function p(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=p;var d=4294967296,h=d*d,f=h/2,m=o(1<<24),y=o(0);n.ZERO=y;var g=o(0,!0);n.UZERO=g;var b=o(1);n.ONE=b;var w=o(1,!0);n.UONE=w;var x=o(-1);n.NEG_ONE=x;var v=u(-1,2147483647,!1);n.MAX_VALUE=v;var _=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(c(e,6),this.unsigned),s=this,o="";;){var u=s.div(a),l=(s.sub(u.mul(a)).toInt()>>>0).toString(e);if((s=u).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1===(1&this.low)},k.isEven=function(){return 0===(1&this.low)},k.equals=function(e){return r(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(r(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},k.neg=k.negate,k.add=function(e){r(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,o=e.high>>>16,i=65535&e.high,c=e.low>>>16,l=0,d=0,h=0,f=0;return h+=(f+=s+(65535&e.low))>>>16,d+=(h+=a+c)>>>16,l+=(d+=n+i)>>>16,l+=t+o,u((h&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(e){return r(e)||(e=p(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return y;if(r(e)||(e=p(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(S))return e.isOdd()?S:y;if(e.eq(S))return this.isOdd()?S:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,s=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,d=e.low>>>16,h=65535&e.low,f=0,g=0,b=0,w=0;return b+=(w+=o*h)>>>16,g+=(b+=s*h)>>>16,b&=65535,g+=(b+=o*d)>>>16,f+=(g+=a*h)>>>16,g&=65535,f+=(g+=s*d)>>>16,g&=65535,f+=(g+=o*l)>>>16,f+=n*h+a*d+s*l+o*c,u((b&=65535)<<16|(w&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(r(e)||(e=p(e)),e.isZero())throw Error("division by zero");var n,a,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return w;s=g}else{if(this.eq(S))return e.eq(b)||e.eq(x)?S:e.eq(S)?b:(n=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:x:(a=this.sub(e.mul(n)),s=n.add(a.div(e)));if(e.eq(S))return this.unsigned?g:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=y}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),l=o<=48?1:c(2,o-48),d=i(n),h=d.mul(e);h.isNegative()||h.gt(a);)h=(d=i(n-=l,this.unsigned)).mul(e);d.isZero()&&(d=b),s=s.add(d),a=a.sub(h)}return s},k.div=k.divide,k.modulo=function(e){return r(e)||(e=p(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return u(~this.low,~this.high,this.unsigned)},k.and=function(e){return r(e)||(e=p(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return r(e)||(e=p(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return r(e)||(e=p(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},6377:function(e,t,n){var r=n(4832),a=n(8652),s=n(801),o=n(2030),i=n(3618),u=n(9049),c=n(1971);c.alea=r,c.xor128=a,c.xorwow=s,c.xorshift7=o,c.xor4096=i,c.tychei=u,e.exports=c},4832:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},9049:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},8652:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},3618:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,s=t.i;return t.w=r=r+1640531527|0,n=a[s+34&127],e=a[s=s+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[s]=n^e,t.i=s,n+(r^r>>>16)|0},function(e,t){var n,r,a,s,o,i=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,s=-32;s<u;++s)t&&(r^=t.charCodeAt((s+32)%t.length)),0===s&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(o=o+1640531527|0,a=0==(n=i[127&s]^=r+o)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=o,e.X=i,e.i=a}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},2030:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(e,a,s){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},1971:function(e,t,n){var r;!function(a,s){var o,i=this,u=256,c=s.pow(u,6),l=s.pow(2,52),p=2*l,d=255;function h(e,t,n){var r=[],d=g(y((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,b(a)]}}():e,3),r),h=new f(r),w=function(){for(var e=h.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=h.g(1);for(;e>=p;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|h.g(4)},w.quick=function(){return h.g(4)/4294967296},w.double=w,g(b(h.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(s.random=e,t):e})(w,d,"global"in t?t.global:this==s,t.state)}function f(e){var t,n=e.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;)o[a]=a++;for(a=0;a<u;a++)o[a]=o[s=d&s+e[a%n]+(t=o[a])],o[s]=t;(r.g=function(e){for(var t,n=0,a=r.i,s=r.j,o=r.S;e--;)t=o[a=d&a+1],n=n*u+o[d&(o[a]=o[s=d&s+t])+(o[s]=t)];return r.i=a,r.j=s,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function y(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(y(e[n],t-1))}catch(s){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(s.seedrandom=h,g(s.random(),a),e.exports){e.exports=h;try{o=n(5042)}catch(w){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)}}]);
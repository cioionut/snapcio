"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23,479],{8456:function(e,r,t){t.d(r,{Z:function(){return I}});var a=t(3366),n=t(7462),i=t(7294),o=(t(5697),t(6010)),s=t(7192),c=t(917),l=t(8216),d=t(7623),u=t(1496),f=t(8979);function v(e){return(0,f.Z)("MuiCircularProgress",e)}(0,t(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=t(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let b,g,k,x,p=e=>e;const Z=44,S=(0,c.F4)(b||(b=p`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,c.F4)(g||(g=p`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),C=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,c.iv)(k||(k=p`
      animation: ${0} 1.4s linear infinite;
    `),S))),y=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),w=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,c.iv)(x||(x=p`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j)));var I=i.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:i,color:c="primary",disableShrink:u=!1,size:f=40,style:b,thickness:g=3.6,value:k=0,variant:x="indeterminate"}=t,p=(0,a.Z)(t,m),S=(0,n.Z)({},t,{color:c,disableShrink:u,size:f,thickness:g,value:k,variant:x}),j=(e=>{const{classes:r,variant:t,color:a,disableShrink:n}=e,i={root:["root",t,`color${(0,l.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,n&&"circleDisableShrink"]};return(0,s.Z)(i,v,r)})(S),I={},D={},P={};if("determinate"===x){const e=2*Math.PI*((Z-g)/2);I.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(k),I.strokeDashoffset=`${((100-k)/100*e).toFixed(3)}px`,D.transform="rotate(-90deg)"}return(0,h.jsx)(C,(0,n.Z)({className:(0,o.Z)(j.root,i),style:(0,n.Z)({width:f,height:f},D,b),ownerState:S,ref:r,role:"progressbar"},P,p,{children:(0,h.jsx)(y,{className:j.svg,ownerState:S,viewBox:"22 22 44 44",children:(0,h.jsx)(w,{className:j.circle,style:I,ownerState:S,cx:Z,cy:Z,r:(Z-g)/2,fill:"none",strokeWidth:g})})}))}))},7479:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var a=t(5893),n=t(5988),i=t(7294),o=t(5819),s=t(7357),c=t(8456),l=t(3321),d=t(3946),u=t(4054),f=t(3841),v=t(4917),h=t(9074),m=t(5195),b=t(4229),g=t(7658),k=t(3851);var x=function(e){switch(function(e){var r=new Date;console.trace("["+r.toLocaleTimeString()+"] "+e)}(e),e.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:alert("Error opening your camera and/or microphone: "+e.message)}};function p(e){var r=e.defaultMute,t=void 0===r||r,p=e.hFlip,Z=void 0!==p&&p,S=(0,i.useContext)(k.WebRTCContext).hangUpCall,j=(0,i.useContext)(g.F),C=j.localStream,y=j.setLocalStream,w=(0,i.useRef)(null),I=(0,i.useState)(!1),D=I[0],P=I[1],E=(0,i.useState)(!1),M=E[0],N=E[1],F=(0,i.useState)([]),R=(F[0],F[1]),$=(0,i.useState)(""),T=$[0],W=$[1],Y=(0,i.useState)(""),z=Y[0],_=Y[1],L=(0,i.useState)([]),O=L[0],U=L[1],A=(0,i.useState)([]),V=A[0],B=A[1],G=O.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)})),q=V.map((function(e){return(0,a.jsx)(o.Z,{value:e.deviceId,children:e.label},e.deviceId)}));(0,i.useEffect)((function(){if(C&&V.length>0){var e=C.getVideoTracks(),r=e?e[0]:void 0,t=V.find((function(e){return e.label===r.label}));_(t.deviceId)}}),[V,C]),(0,i.useEffect)((function(){if(C&&O.length>0){var e=C.getAudioTracks(),r=e?e[0]:void 0,t=O.find((function(e){return e.label===r.label}));W(t.deviceId)}}),[O,C]);var H=(0,i.useCallback)((function(e){R(e);var r=e.filter((function(e){return"audioinput"===e.kind})),t=e.filter((function(e){return"videoinput"===e.kind}));U(r),B(t)}),[]),J=(0,i.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;N(!0),y(e);var a=w.current;return a.srcObject=e,a.volume=r?0:1,a.onloadedmetadata=function(){return a.play()},navigator.mediaDevices.enumerateDevices()}),[w,t,y]),K=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;C&&C.getTracks().forEach((function(e){e.stop()}));var t={audio:{deviceId:r?{exact:r}:void 0,echoCancellation:!0},video:{deviceId:e?{exact:e}:void 0}};navigator.mediaDevices.getUserMedia(t).then(J).then(H).catch(x)}),[C,T,z,J,H]),Q=(0,i.useCallback)((function(e){_(e.target.value),K(e.target.value)}),[K]),X=(0,i.useCallback)((function(e){W(e.target.value),K(void 0,e.target.value)}),[K]),ee=(0,i.useCallback)((function(){K()}),[K]),re=(0,i.useCallback)((function(){N(!1),C&&C.getTracks().forEach((function(e){e.stop()})),w.current.srcObject=null,y(null),S()}),[C,y,S]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{display:"flex",height:{xs:300,md:500},justifyContent:"center",alignItems:"center",backgroundColor:"black"},children:M?(0,a.jsx)("video",{ref:w,className:"jsx-21692c2f1b6e7001 "+((Z?"video-hflip":"")||"")}):(0,a.jsx)(c.Z,{})}),(0,a.jsxs)(s.Z,{sx:{mt:1},children:[M?(0,a.jsx)(l.Z,{variant:"outlined",color:"error",onClick:re,startIcon:(0,a.jsx)(m.Z,{}),children:"Stop Live"}):(0,a.jsx)(l.Z,{variant:"contained",color:"error",onClick:ee,startIcon:(0,a.jsx)(h.Z,{}),children:"GO LIVE"}),!M&&(0,a.jsx)(d.Z,{"aria-label":"settings",onClick:function(){P(!D&&M)},children:(0,a.jsx)(b.Z,{color:D?"primary":"inherit"})})]}),D&&""!=z&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(f.Z,{id:"select-camera-source-label",children:"Camera source"}),(0,a.jsx)(v.Z,{labelId:"select-camera-source-label",id:"select-camera-source",value:z,label:"Select Camera",onChange:Q,children:q})]})}),D&&""!=T&&(0,a.jsx)(s.Z,{sx:{minWidth:120,my:2},children:(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(f.Z,{id:"select-audio-source-label",children:"Audio source"}),(0,a.jsx)(v.Z,{labelId:"select-audio-source-label",id:"select-audio-source",value:T,label:"Select audio",onChange:X,children:G})]})}),(0,a.jsx)(n.default,{id:"21692c2f1b6e7001",children:'video.jsx-21692c2f1b6e7001{max-width:100%;\nmax-height:100%}\n.video-hflip.jsx-21692c2f1b6e7001{-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg);\n-ms-transform:rotateY(180deg);\ntransform:rotateY(180deg);\n-webkit-transform:rotateY(180deg);\n-moz-transform:rotateY(180deg)}\n.brokenvideo.jsx-21692c2f1b6e7001{background-image:url("/broken_stream.gif");\nbackground-repeat:no-repeat;\nbackground-color:#cccccc;\nmargin-bottom:15px}'})]})}}}]);